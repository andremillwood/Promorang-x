var PE=Object.defineProperty;var EE=(e,r,n)=>r in e?PE(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;var cl=(e,r,n)=>EE(e,typeof r!="symbol"?r+"":r,n);function OE(e,r){for(var n=0;n<r.length;n++){const a=r[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ns(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vp={exports:{}},qo={},bp={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function AE(){if(Ew)return Ke;Ew=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function y(U){return U===null||typeof U!="object"?null:(U=p&&U[p]||U["@@iterator"],typeof U=="function"?U:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,b={};function N(U,ne,Y){this.props=U,this.context=ne,this.refs=b,this.updater=Y||v}N.prototype.isReactComponent={},N.prototype.setState=function(U,ne){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ne,"setState")},N.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function S(){}S.prototype=N.prototype;function C(U,ne,Y){this.props=U,this.context=ne,this.refs=b,this.updater=Y||v}var _=C.prototype=new S;_.constructor=C,j(_,N.prototype),_.isPureReactComponent=!0;var P=Array.isArray,O=Object.prototype.hasOwnProperty,E={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function $(U,ne,Y){var K,ie={},ae=null,J=null;if(ne!=null)for(K in ne.ref!==void 0&&(J=ne.ref),ne.key!==void 0&&(ae=""+ne.key),ne)O.call(ne,K)&&!T.hasOwnProperty(K)&&(ie[K]=ne[K]);var ve=arguments.length-2;if(ve===1)ie.children=Y;else if(1<ve){for(var Q=Array(ve),ye=0;ye<ve;ye++)Q[ye]=arguments[ye+2];ie.children=Q}if(U&&U.defaultProps)for(K in ve=U.defaultProps,ve)ie[K]===void 0&&(ie[K]=ve[K]);return{$$typeof:e,type:U,key:ae,ref:J,props:ie,_owner:E.current}}function D(U,ne){return{$$typeof:e,type:U.type,key:ne,ref:U.ref,props:U.props,_owner:U._owner}}function z(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function I(U){var ne={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Y){return ne[Y]})}var F=/\/+/g;function M(U,ne){return typeof U=="object"&&U!==null&&U.key!=null?I(""+U.key):ne.toString(36)}function B(U,ne,Y,K,ie){var ae=typeof U;(ae==="undefined"||ae==="boolean")&&(U=null);var J=!1;if(U===null)J=!0;else switch(ae){case"string":case"number":J=!0;break;case"object":switch(U.$$typeof){case e:case r:J=!0}}if(J)return J=U,ie=ie(J),U=K===""?"."+M(J,0):K,P(ie)?(Y="",U!=null&&(Y=U.replace(F,"$&/")+"/"),B(ie,ne,Y,"",function(ye){return ye})):ie!=null&&(z(ie)&&(ie=D(ie,Y+(!ie.key||J&&J.key===ie.key?"":(""+ie.key).replace(F,"$&/")+"/")+U)),ne.push(ie)),1;if(J=0,K=K===""?".":K+":",P(U))for(var ve=0;ve<U.length;ve++){ae=U[ve];var Q=K+M(ae,ve);J+=B(ae,ne,Y,Q,ie)}else if(Q=y(U),typeof Q=="function")for(U=Q.call(U),ve=0;!(ae=U.next()).done;)ae=ae.value,Q=K+M(ae,ve++),J+=B(ae,ne,Y,Q,ie);else if(ae==="object")throw ne=String(U),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return J}function G(U,ne,Y){if(U==null)return U;var K=[],ie=0;return B(U,K,"","",function(ae){return ne.call(Y,ae,ie++)}),K}function ee(U){if(U._status===-1){var ne=U._result;ne=ne(),ne.then(function(Y){(U._status===0||U._status===-1)&&(U._status=1,U._result=Y)},function(Y){(U._status===0||U._status===-1)&&(U._status=2,U._result=Y)}),U._status===-1&&(U._status=0,U._result=ne)}if(U._status===1)return U._result.default;throw U._result}var L={current:null},H={transition:null},te={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:H,ReactCurrentOwner:E};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:G,forEach:function(U,ne,Y){G(U,function(){ne.apply(this,arguments)},Y)},count:function(U){var ne=0;return G(U,function(){ne++}),ne},toArray:function(U){return G(U,function(ne){return ne})||[]},only:function(U){if(!z(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ke.Component=N,Ke.Fragment=n,Ke.Profiler=s,Ke.PureComponent=C,Ke.StrictMode=a,Ke.Suspense=u,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Ke.act=se,Ke.cloneElement=function(U,ne,Y){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var K=j({},U.props),ie=U.key,ae=U.ref,J=U._owner;if(ne!=null){if(ne.ref!==void 0&&(ae=ne.ref,J=E.current),ne.key!==void 0&&(ie=""+ne.key),U.type&&U.type.defaultProps)var ve=U.type.defaultProps;for(Q in ne)O.call(ne,Q)&&!T.hasOwnProperty(Q)&&(K[Q]=ne[Q]===void 0&&ve!==void 0?ve[Q]:ne[Q])}var Q=arguments.length-2;if(Q===1)K.children=Y;else if(1<Q){ve=Array(Q);for(var ye=0;ye<Q;ye++)ve[ye]=arguments[ye+2];K.children=ve}return{$$typeof:e,type:U.type,key:ie,ref:ae,props:K,_owner:J}},Ke.createContext=function(U){return U={$$typeof:o,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:i,_context:U},U.Consumer=U},Ke.createElement=$,Ke.createFactory=function(U){var ne=$.bind(null,U);return ne.type=U,ne},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(U){return{$$typeof:d,render:U}},Ke.isValidElement=z,Ke.lazy=function(U){return{$$typeof:m,_payload:{_status:-1,_result:U},_init:ee}},Ke.memo=function(U,ne){return{$$typeof:h,type:U,compare:ne===void 0?null:ne}},Ke.startTransition=function(U){var ne=H.transition;H.transition={};try{U()}finally{H.transition=ne}},Ke.unstable_act=se,Ke.useCallback=function(U,ne){return L.current.useCallback(U,ne)},Ke.useContext=function(U){return L.current.useContext(U)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(U){return L.current.useDeferredValue(U)},Ke.useEffect=function(U,ne){return L.current.useEffect(U,ne)},Ke.useId=function(){return L.current.useId()},Ke.useImperativeHandle=function(U,ne,Y){return L.current.useImperativeHandle(U,ne,Y)},Ke.useInsertionEffect=function(U,ne){return L.current.useInsertionEffect(U,ne)},Ke.useLayoutEffect=function(U,ne){return L.current.useLayoutEffect(U,ne)},Ke.useMemo=function(U,ne){return L.current.useMemo(U,ne)},Ke.useReducer=function(U,ne,Y){return L.current.useReducer(U,ne,Y)},Ke.useRef=function(U){return L.current.useRef(U)},Ke.useState=function(U){return L.current.useState(U)},Ke.useSyncExternalStore=function(U,ne,Y){return L.current.useSyncExternalStore(U,ne,Y)},Ke.useTransition=function(){return L.current.useTransition()},Ke.version="18.3.1",Ke}var Ow;function Ul(){return Ow||(Ow=1,bp.exports=AE()),bp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function TE(){if(Aw)return qo;Aw=1;var e=Ul(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(d,u,h){var m,p={},y=null,v=null;h!==void 0&&(y=""+h),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(v=u.ref);for(m in u)a.call(u,m)&&!i.hasOwnProperty(m)&&(p[m]=u[m]);if(d&&d.defaultProps)for(m in u=d.defaultProps,u)p[m]===void 0&&(p[m]=u[m]);return{$$typeof:r,type:d,key:y,ref:v,props:p,_owner:s.current}}return qo.Fragment=n,qo.jsx=o,qo.jsxs=o,qo}var Tw;function ME(){return Tw||(Tw=1,vp.exports=TE()),vp.exports}var t=ME(),x=Ul();const DE=ns(x),$E=OE({__proto__:null,default:DE},[x]);var uu={},jp={exports:{}},mn={},wp={exports:{}},Np={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw;function IE(){return Mw||(Mw=1,(function(e){function r(H,te){var se=H.length;H.push(te);e:for(;0<se;){var U=se-1>>>1,ne=H[U];if(0<s(ne,te))H[U]=te,H[se]=ne,se=U;else break e}}function n(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var te=H[0],se=H.pop();if(se!==te){H[0]=se;e:for(var U=0,ne=H.length,Y=ne>>>1;U<Y;){var K=2*(U+1)-1,ie=H[K],ae=K+1,J=H[ae];if(0>s(ie,se))ae<ne&&0>s(J,ie)?(H[U]=J,H[ae]=se,U=ae):(H[U]=ie,H[K]=se,U=K);else if(ae<ne&&0>s(J,se))H[U]=J,H[ae]=se,U=ae;else break e}}return te}function s(H,te){var se=H.sortIndex-te.sortIndex;return se!==0?se:H.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,d=o.now();e.unstable_now=function(){return o.now()-d}}var u=[],h=[],m=1,p=null,y=3,v=!1,j=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(H){for(var te=n(h);te!==null;){if(te.callback===null)a(h);else if(te.startTime<=H)a(h),te.sortIndex=te.expirationTime,r(u,te);else break;te=n(h)}}function P(H){if(b=!1,_(H),!j)if(n(u)!==null)j=!0,ee(O);else{var te=n(h);te!==null&&L(P,te.startTime-H)}}function O(H,te){j=!1,b&&(b=!1,S($),$=-1),v=!0;var se=y;try{for(_(te),p=n(u);p!==null&&(!(p.expirationTime>te)||H&&!I());){var U=p.callback;if(typeof U=="function"){p.callback=null,y=p.priorityLevel;var ne=U(p.expirationTime<=te);te=e.unstable_now(),typeof ne=="function"?p.callback=ne:p===n(u)&&a(u),_(te)}else a(u);p=n(u)}if(p!==null)var Y=!0;else{var K=n(h);K!==null&&L(P,K.startTime-te),Y=!1}return Y}finally{p=null,y=se,v=!1}}var E=!1,T=null,$=-1,D=5,z=-1;function I(){return!(e.unstable_now()-z<D)}function F(){if(T!==null){var H=e.unstable_now();z=H;var te=!0;try{te=T(!0,H)}finally{te?M():(E=!1,T=null)}}else E=!1}var M;if(typeof C=="function")M=function(){C(F)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,G=B.port2;B.port1.onmessage=F,M=function(){G.postMessage(null)}}else M=function(){N(F,0)};function ee(H){T=H,E||(E=!0,M())}function L(H,te){$=N(function(){H(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){j||v||(j=!0,ee(O))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(H){switch(y){case 1:case 2:case 3:var te=3;break;default:te=y}var se=y;y=te;try{return H()}finally{y=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var se=y;y=H;try{return te()}finally{y=se}},e.unstable_scheduleCallback=function(H,te,se){var U=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?U+se:U):se=U,H){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=se+ne,H={id:m++,callback:te,priorityLevel:H,startTime:se,expirationTime:ne,sortIndex:-1},se>U?(H.sortIndex=se,r(h,H),n(u)===null&&H===n(h)&&(b?(S($),$=-1):b=!0,L(P,se-U))):(H.sortIndex=ne,r(u,H),j||v||(j=!0,ee(O))),H},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(H){var te=y;return function(){var se=y;y=te;try{return H.apply(this,arguments)}finally{y=se}}}})(Np)),Np}var Dw;function LE(){return Dw||(Dw=1,wp.exports=IE()),wp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function RE(){if($w)return mn;$w=1;var e=Ul(),r=LE();function n(l){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+l,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(l,c){o(l,c),o(l+"Capture",c)}function o(l,c){for(s[l]=c,l=0;l<c.length;l++)a.add(c[l])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function y(l){return u.call(p,l)?!0:u.call(m,l)?!1:h.test(l)?p[l]=!0:(m[l]=!0,!1)}function v(l,c,f,g){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function j(l,c,f,g){if(c===null||typeof c>"u"||v(l,c,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function b(l,c,f,g,w,k,A){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=g,this.attributeNamespace=w,this.mustUseProperty=f,this.propertyName=l,this.type=c,this.sanitizeURL=k,this.removeEmptyString=A}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){N[l]=new b(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var c=l[0];N[c]=new b(c,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){N[l]=new b(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){N[l]=new b(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){N[l]=new b(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){N[l]=new b(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){N[l]=new b(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){N[l]=new b(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){N[l]=new b(l,5,!1,l.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function C(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var c=l.replace(S,C);N[c]=new b(c,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var c=l.replace(S,C);N[c]=new b(c,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var c=l.replace(S,C);N[c]=new b(c,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){N[l]=new b(l,1,!1,l.toLowerCase(),null,!1,!1)}),N.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){N[l]=new b(l,1,!1,l.toLowerCase(),null,!0,!0)});function _(l,c,f,g){var w=N.hasOwnProperty(c)?N[c]:null;(w!==null?w.type!==0:g||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(j(c,f,w,g)&&(f=null),g||w===null?y(c)&&(f===null?l.removeAttribute(c):l.setAttribute(c,""+f)):w.mustUseProperty?l[w.propertyName]=f===null?w.type===3?!1:"":f:(c=w.attributeName,g=w.attributeNamespace,f===null?l.removeAttribute(c):(w=w.type,f=w===3||w===4&&f===!0?"":""+f,g?l.setAttributeNS(g,c,f):l.setAttribute(c,f))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),I=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),H=Symbol.iterator;function te(l){return l===null||typeof l!="object"?null:(l=H&&l[H]||l["@@iterator"],typeof l=="function"?l:null)}var se=Object.assign,U;function ne(l){if(U===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);U=c&&c[1]||""}return`
`+U+l}var Y=!1;function K(l,c){if(!l||Y)return"";Y=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(re){var g=re}Reflect.construct(l,[],c)}else{try{c.call()}catch(re){g=re}l.call(c.prototype)}else{try{throw Error()}catch(re){g=re}l()}}catch(re){if(re&&g&&typeof re.stack=="string"){for(var w=re.stack.split(`
`),k=g.stack.split(`
`),A=w.length-1,R=k.length-1;1<=A&&0<=R&&w[A]!==k[R];)R--;for(;1<=A&&0<=R;A--,R--)if(w[A]!==k[R]){if(A!==1||R!==1)do if(A--,R--,0>R||w[A]!==k[R]){var W=`
`+w[A].replace(" at new "," at ");return l.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",l.displayName)),W}while(1<=A&&0<=R);break}}}finally{Y=!1,Error.prepareStackTrace=f}return(l=l?l.displayName||l.name:"")?ne(l):""}function ie(l){switch(l.tag){case 5:return ne(l.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return l=K(l.type,!1),l;case 11:return l=K(l.type.render,!1),l;case 1:return l=K(l.type,!0),l;default:return""}}function ae(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case T:return"Fragment";case E:return"Portal";case D:return"Profiler";case $:return"StrictMode";case M:return"Suspense";case B:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case I:return(l.displayName||"Context")+".Consumer";case z:return(l._context.displayName||"Context")+".Provider";case F:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case G:return c=l.displayName||null,c!==null?c:ae(l.type)||"Memo";case ee:c=l._payload,l=l._init;try{return ae(l(c))}catch{}}return null}function J(l){var c=l.type;switch(l.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=c.render,l=l.displayName||l.name||"",c.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(c);case 8:return c===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function ve(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Q(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ye(l){var c=Q(l)?"checked":"value",f=Object.getOwnPropertyDescriptor(l.constructor.prototype,c),g=""+l[c];if(!l.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var w=f.get,k=f.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return w.call(this)},set:function(A){g=""+A,k.call(this,A)}}),Object.defineProperty(l,c,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(A){g=""+A},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function Ae(l){l._valueTracker||(l._valueTracker=ye(l))}function le(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var f=c.getValue(),g="";return l&&(g=Q(l)?l.checked?"true":"false":l.value),l=g,l!==f?(c.setValue(l),!0):!1}function He(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function $e(l,c){var f=c.checked;return se({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??l._wrapperState.initialChecked})}function ct(l,c){var f=c.defaultValue==null?"":c.defaultValue,g=c.checked!=null?c.checked:c.defaultChecked;f=ve(c.value!=null?c.value:f),l._wrapperState={initialChecked:g,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Je(l,c){c=c.checked,c!=null&&_(l,"checked",c,!1)}function Qe(l,c){Je(l,c);var f=ve(c.value),g=c.type;if(f!=null)g==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=""+f):l.value!==""+f&&(l.value=""+f);else if(g==="submit"||g==="reset"){l.removeAttribute("value");return}c.hasOwnProperty("value")?Fe(l,c.type,f):c.hasOwnProperty("defaultValue")&&Fe(l,c.type,ve(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(l.defaultChecked=!!c.defaultChecked)}function sr(l,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var g=c.type;if(!(g!=="submit"&&g!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+l._wrapperState.initialValue,f||c===l.value||(l.value=c),l.defaultValue=c}f=l.name,f!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,f!==""&&(l.name=f)}function Fe(l,c,f){(c!=="number"||He(l.ownerDocument)!==l)&&(f==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+f&&(l.defaultValue=""+f))}var Ge=Array.isArray;function jt(l,c,f,g){if(l=l.options,c){c={};for(var w=0;w<f.length;w++)c["$"+f[w]]=!0;for(f=0;f<l.length;f++)w=c.hasOwnProperty("$"+l[f].value),l[f].selected!==w&&(l[f].selected=w),w&&g&&(l[f].defaultSelected=!0)}else{for(f=""+ve(f),c=null,w=0;w<l.length;w++){if(l[w].value===f){l[w].selected=!0,g&&(l[w].defaultSelected=!0);return}c!==null||l[w].disabled||(c=l[w])}c!==null&&(c.selected=!0)}}function ue(l,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},c,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function me(l,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(n(92));if(Ge(f)){if(1<f.length)throw Error(n(93));f=f[0]}c=f}c==null&&(c=""),f=c}l._wrapperState={initialValue:ve(f)}}function Te(l,c){var f=ve(c.value),g=ve(c.defaultValue);f!=null&&(f=""+f,f!==l.value&&(l.value=f),c.defaultValue==null&&l.defaultValue!==f&&(l.defaultValue=f)),g!=null&&(l.defaultValue=""+g)}function rt(l){var c=l.textContent;c===l._wrapperState.initialValue&&c!==""&&c!==null&&(l.value=c)}function pn(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lr(l,c){return l==null||l==="http://www.w3.org/1999/xhtml"?pn(c):l==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var xn,yt=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,g,w){MSApp.execUnsafeLocalFunction(function(){return l(c,f,g,w)})}:l})(function(l,c){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=c;else{for(xn=xn||document.createElement("div"),xn.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=xn.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;c.firstChild;)l.appendChild(c.firstChild)}});function sn(l,c){if(c){var f=l.firstChild;if(f&&f===l.lastChild&&f.nodeType===3){f.nodeValue=c;return}}l.textContent=c}var We={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ot=["Webkit","ms","Moz","O"];Object.keys(We).forEach(function(l){Ot.forEach(function(c){c=c+l.charAt(0).toUpperCase()+l.substring(1),We[c]=We[l]})});function he(l,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||We.hasOwnProperty(l)&&We[l]?(""+c).trim():c+"px"}function ot(l,c){l=l.style;for(var f in c)if(c.hasOwnProperty(f)){var g=f.indexOf("--")===0,w=he(f,c[f],g);f==="float"&&(f="cssFloat"),g?l.setProperty(f,w):l[f]=w}}var ht=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yr(l,c){if(c){if(ht[l]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function Xt(l,c){if(l.indexOf("-")===-1)return typeof c.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tn=null;function zi(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var pe=null,ze=null,Ye=null;function ir(l){if(l=Eo(l)){if(typeof pe!="function")throw Error(n(280));var c=l.stateNode;c&&(c=Sd(c),pe(l.stateNode,l.type,c))}}function Aa(l){ze?Ye?Ye.push(l):Ye=[l]:ze=l}function _t(){if(ze){var l=ze,c=Ye;if(Ye=ze=null,ir(l),c)for(l=0;l<c.length;l++)ir(c[l])}}function kr(l,c){return l(c)}function Zv(){}var If=!1;function Xv(l,c,f){if(If)return l(c,f);If=!0;try{return kr(l,c,f)}finally{If=!1,(ze!==null||Ye!==null)&&(Zv(),_t())}}function lo(l,c){var f=l.stateNode;if(f===null)return null;var g=Sd(f);if(g===null)return null;f=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(l=l.type,g=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!g;break e;default:l=!1}if(l)return null;if(f&&typeof f!="function")throw Error(n(231,c,typeof f));return f}var Lf=!1;if(d)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){Lf=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{Lf=!1}function DP(l,c,f,g,w,k,A,R,W){var re=Array.prototype.slice.call(arguments,3);try{c.apply(f,re)}catch(ce){this.onError(ce)}}var co=!1,ad=null,sd=!1,Rf=null,$P={onError:function(l){co=!0,ad=l}};function IP(l,c,f,g,w,k,A,R,W){co=!1,ad=null,DP.apply($P,arguments)}function LP(l,c,f,g,w,k,A,R,W){if(IP.apply(this,arguments),co){if(co){var re=ad;co=!1,ad=null}else throw Error(n(198));sd||(sd=!0,Rf=re)}}function Xs(l){var c=l,f=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(f=c.return),l=c.return;while(l)}return c.tag===3?f:null}function Jv(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function Qv(l){if(Xs(l)!==l)throw Error(n(188))}function RP(l){var c=l.alternate;if(!c){if(c=Xs(l),c===null)throw Error(n(188));return c!==l?null:l}for(var f=l,g=c;;){var w=f.return;if(w===null)break;var k=w.alternate;if(k===null){if(g=w.return,g!==null){f=g;continue}break}if(w.child===k.child){for(k=w.child;k;){if(k===f)return Qv(w),l;if(k===g)return Qv(w),c;k=k.sibling}throw Error(n(188))}if(f.return!==g.return)f=w,g=k;else{for(var A=!1,R=w.child;R;){if(R===f){A=!0,f=w,g=k;break}if(R===g){A=!0,g=w,f=k;break}R=R.sibling}if(!A){for(R=k.child;R;){if(R===f){A=!0,f=k,g=w;break}if(R===g){A=!0,g=k,f=w;break}R=R.sibling}if(!A)throw Error(n(189))}}if(f.alternate!==g)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?l:c}function eb(l){return l=RP(l),l!==null?tb(l):null}function tb(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var c=tb(l);if(c!==null)return c;l=l.sibling}return null}var rb=r.unstable_scheduleCallback,nb=r.unstable_cancelCallback,FP=r.unstable_shouldYield,zP=r.unstable_requestPaint,Gt=r.unstable_now,BP=r.unstable_getCurrentPriorityLevel,Ff=r.unstable_ImmediatePriority,ab=r.unstable_UserBlockingPriority,id=r.unstable_NormalPriority,UP=r.unstable_LowPriority,sb=r.unstable_IdlePriority,ld=null,fa=null;function WP(l){if(fa&&typeof fa.onCommitFiberRoot=="function")try{fa.onCommitFiberRoot(ld,l,void 0,(l.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:KP,qP=Math.log,HP=Math.LN2;function KP(l){return l>>>=0,l===0?32:31-(qP(l)/HP|0)|0}var od=64,cd=4194304;function uo(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function dd(l,c){var f=l.pendingLanes;if(f===0)return 0;var g=0,w=l.suspendedLanes,k=l.pingedLanes,A=f&268435455;if(A!==0){var R=A&~w;R!==0?g=uo(R):(k&=A,k!==0&&(g=uo(k)))}else A=f&~w,A!==0?g=uo(A):k!==0&&(g=uo(k));if(g===0)return 0;if(c!==0&&c!==g&&(c&w)===0&&(w=g&-g,k=c&-c,w>=k||w===16&&(k&4194240)!==0))return c;if((g&4)!==0&&(g|=f&16),c=l.entangledLanes,c!==0)for(l=l.entanglements,c&=g;0<c;)f=31-Xn(c),w=1<<f,g|=l[f],c&=~w;return g}function VP(l,c){switch(l){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GP(l,c){for(var f=l.suspendedLanes,g=l.pingedLanes,w=l.expirationTimes,k=l.pendingLanes;0<k;){var A=31-Xn(k),R=1<<A,W=w[A];W===-1?((R&f)===0||(R&g)!==0)&&(w[A]=VP(R,c)):W<=c&&(l.expiredLanes|=R),k&=~R}}function zf(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function ib(){var l=od;return od<<=1,(od&4194240)===0&&(od=64),l}function Bf(l){for(var c=[],f=0;31>f;f++)c.push(l);return c}function mo(l,c,f){l.pendingLanes|=c,c!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,c=31-Xn(c),l[c]=f}function YP(l,c){var f=l.pendingLanes&~c;l.pendingLanes=c,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=c,l.mutableReadLanes&=c,l.entangledLanes&=c,c=l.entanglements;var g=l.eventTimes;for(l=l.expirationTimes;0<f;){var w=31-Xn(f),k=1<<w;c[w]=0,g[w]=-1,l[w]=-1,f&=~k}}function Uf(l,c){var f=l.entangledLanes|=c;for(l=l.entanglements;f;){var g=31-Xn(f),w=1<<g;w&c|l[g]&c&&(l[g]|=c),f&=~w}}var dt=0;function lb(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var ob,Wf,cb,db,ub,qf=!1,ud=[],us=null,ms=null,fs=null,fo=new Map,ho=new Map,hs=[],ZP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mb(l,c){switch(l){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":fo.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":ho.delete(c.pointerId)}}function po(l,c,f,g,w,k){return l===null||l.nativeEvent!==k?(l={blockedOn:c,domEventName:f,eventSystemFlags:g,nativeEvent:k,targetContainers:[w]},c!==null&&(c=Eo(c),c!==null&&Wf(c)),l):(l.eventSystemFlags|=g,c=l.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),l)}function XP(l,c,f,g,w){switch(c){case"focusin":return us=po(us,l,c,f,g,w),!0;case"dragenter":return ms=po(ms,l,c,f,g,w),!0;case"mouseover":return fs=po(fs,l,c,f,g,w),!0;case"pointerover":var k=w.pointerId;return fo.set(k,po(fo.get(k)||null,l,c,f,g,w)),!0;case"gotpointercapture":return k=w.pointerId,ho.set(k,po(ho.get(k)||null,l,c,f,g,w)),!0}return!1}function fb(l){var c=Js(l.target);if(c!==null){var f=Xs(c);if(f!==null){if(c=f.tag,c===13){if(c=Jv(f),c!==null){l.blockedOn=c,ub(l.priority,function(){cb(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){l.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}l.blockedOn=null}function md(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var f=Kf(l.domEventName,l.eventSystemFlags,c[0],l.nativeEvent);if(f===null){f=l.nativeEvent;var g=new f.constructor(f.type,f);Tn=g,f.target.dispatchEvent(g),Tn=null}else return c=Eo(f),c!==null&&Wf(c),l.blockedOn=f,!1;c.shift()}return!0}function hb(l,c,f){md(l)&&f.delete(c)}function JP(){qf=!1,us!==null&&md(us)&&(us=null),ms!==null&&md(ms)&&(ms=null),fs!==null&&md(fs)&&(fs=null),fo.forEach(hb),ho.forEach(hb)}function xo(l,c){l.blockedOn===c&&(l.blockedOn=null,qf||(qf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,JP)))}function go(l){function c(w){return xo(w,l)}if(0<ud.length){xo(ud[0],l);for(var f=1;f<ud.length;f++){var g=ud[f];g.blockedOn===l&&(g.blockedOn=null)}}for(us!==null&&xo(us,l),ms!==null&&xo(ms,l),fs!==null&&xo(fs,l),fo.forEach(c),ho.forEach(c),f=0;f<hs.length;f++)g=hs[f],g.blockedOn===l&&(g.blockedOn=null);for(;0<hs.length&&(f=hs[0],f.blockedOn===null);)fb(f),f.blockedOn===null&&hs.shift()}var Bi=P.ReactCurrentBatchConfig,fd=!0;function QP(l,c,f,g){var w=dt,k=Bi.transition;Bi.transition=null;try{dt=1,Hf(l,c,f,g)}finally{dt=w,Bi.transition=k}}function e3(l,c,f,g){var w=dt,k=Bi.transition;Bi.transition=null;try{dt=4,Hf(l,c,f,g)}finally{dt=w,Bi.transition=k}}function Hf(l,c,f,g){if(fd){var w=Kf(l,c,f,g);if(w===null)ch(l,c,g,hd,f),mb(l,g);else if(XP(w,l,c,f,g))g.stopPropagation();else if(mb(l,g),c&4&&-1<ZP.indexOf(l)){for(;w!==null;){var k=Eo(w);if(k!==null&&ob(k),k=Kf(l,c,f,g),k===null&&ch(l,c,g,hd,f),k===w)break;w=k}w!==null&&g.stopPropagation()}else ch(l,c,g,null,f)}}var hd=null;function Kf(l,c,f,g){if(hd=null,l=zi(g),l=Js(l),l!==null)if(c=Xs(l),c===null)l=null;else if(f=c.tag,f===13){if(l=Jv(c),l!==null)return l;l=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null);return hd=l,null}function pb(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BP()){case Ff:return 1;case ab:return 4;case id:case UP:return 16;case sb:return 536870912;default:return 16}default:return 16}}var ps=null,Vf=null,pd=null;function xb(){if(pd)return pd;var l,c=Vf,f=c.length,g,w="value"in ps?ps.value:ps.textContent,k=w.length;for(l=0;l<f&&c[l]===w[l];l++);var A=f-l;for(g=1;g<=A&&c[f-g]===w[k-g];g++);return pd=w.slice(l,1<g?1-g:void 0)}function xd(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function gd(){return!0}function gb(){return!1}function gn(l){function c(f,g,w,k,A){this._reactName=f,this._targetInst=w,this.type=g,this.nativeEvent=k,this.target=A,this.currentTarget=null;for(var R in l)l.hasOwnProperty(R)&&(f=l[R],this[R]=f?f(k):k[R]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?gd:gb,this.isPropagationStopped=gb,this}return se(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=gd)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=gd)},persist:function(){},isPersistent:gd}),c}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gf=gn(Ui),yo=se({},Ui,{view:0,detail:0}),t3=gn(yo),Yf,Zf,vo,yd=se({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jf,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==vo&&(vo&&l.type==="mousemove"?(Yf=l.screenX-vo.screenX,Zf=l.screenY-vo.screenY):Zf=Yf=0,vo=l),Yf)},movementY:function(l){return"movementY"in l?l.movementY:Zf}}),yb=gn(yd),r3=se({},yd,{dataTransfer:0}),n3=gn(r3),a3=se({},yo,{relatedTarget:0}),Xf=gn(a3),s3=se({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),i3=gn(s3),l3=se({},Ui,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),o3=gn(l3),c3=se({},Ui,{data:0}),vb=gn(c3),d3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f3(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=m3[l])?!!c[l]:!1}function Jf(){return f3}var h3=se({},yo,{key:function(l){if(l.key){var c=d3[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=xd(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?u3[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jf,charCode:function(l){return l.type==="keypress"?xd(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?xd(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),p3=gn(h3),x3=se({},yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bb=gn(x3),g3=se({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jf}),y3=gn(g3),v3=se({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),b3=gn(v3),j3=se({},yd,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),w3=gn(j3),N3=[9,13,27,32],Qf=d&&"CompositionEvent"in window,bo=null;d&&"documentMode"in document&&(bo=document.documentMode);var _3=d&&"TextEvent"in window&&!bo,jb=d&&(!Qf||bo&&8<bo&&11>=bo),wb=" ",Nb=!1;function _b(l,c){switch(l){case"keyup":return N3.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kb(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Wi=!1;function k3(l,c){switch(l){case"compositionend":return kb(c);case"keypress":return c.which!==32?null:(Nb=!0,wb);case"textInput":return l=c.data,l===wb&&Nb?null:l;default:return null}}function S3(l,c){if(Wi)return l==="compositionend"||!Qf&&_b(l,c)?(l=xb(),pd=Vf=ps=null,Wi=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return jb&&c.locale!=="ko"?null:c.data;default:return null}}var C3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sb(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!C3[l.type]:c==="textarea"}function Cb(l,c,f,g){Aa(g),c=Nd(c,"onChange"),0<c.length&&(f=new Gf("onChange","change",null,f,g),l.push({event:f,listeners:c}))}var jo=null,wo=null;function P3(l){Hb(l,0)}function vd(l){var c=Gi(l);if(le(c))return l}function E3(l,c){if(l==="change")return c}var Pb=!1;if(d){var eh;if(d){var th="oninput"in document;if(!th){var Eb=document.createElement("div");Eb.setAttribute("oninput","return;"),th=typeof Eb.oninput=="function"}eh=th}else eh=!1;Pb=eh&&(!document.documentMode||9<document.documentMode)}function Ob(){jo&&(jo.detachEvent("onpropertychange",Ab),wo=jo=null)}function Ab(l){if(l.propertyName==="value"&&vd(wo)){var c=[];Cb(c,wo,l,zi(l)),Xv(P3,c)}}function O3(l,c,f){l==="focusin"?(Ob(),jo=c,wo=f,jo.attachEvent("onpropertychange",Ab)):l==="focusout"&&Ob()}function A3(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return vd(wo)}function T3(l,c){if(l==="click")return vd(c)}function M3(l,c){if(l==="input"||l==="change")return vd(c)}function D3(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var Jn=typeof Object.is=="function"?Object.is:D3;function No(l,c){if(Jn(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var f=Object.keys(l),g=Object.keys(c);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var w=f[g];if(!u.call(c,w)||!Jn(l[w],c[w]))return!1}return!0}function Tb(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Mb(l,c){var f=Tb(l);l=0;for(var g;f;){if(f.nodeType===3){if(g=l+f.textContent.length,l<=c&&g>=c)return{node:f,offset:c-l};l=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Tb(f)}}function Db(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?Db(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function $b(){for(var l=window,c=He();c instanceof l.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)l=c.contentWindow;else break;c=He(l.document)}return c}function rh(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}function $3(l){var c=$b(),f=l.focusedElem,g=l.selectionRange;if(c!==f&&f&&f.ownerDocument&&Db(f.ownerDocument.documentElement,f)){if(g!==null&&rh(f)){if(c=g.start,l=g.end,l===void 0&&(l=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(l,f.value.length);else if(l=(c=f.ownerDocument||document)&&c.defaultView||window,l.getSelection){l=l.getSelection();var w=f.textContent.length,k=Math.min(g.start,w);g=g.end===void 0?k:Math.min(g.end,w),!l.extend&&k>g&&(w=g,g=k,k=w),w=Mb(f,k);var A=Mb(f,g);w&&A&&(l.rangeCount!==1||l.anchorNode!==w.node||l.anchorOffset!==w.offset||l.focusNode!==A.node||l.focusOffset!==A.offset)&&(c=c.createRange(),c.setStart(w.node,w.offset),l.removeAllRanges(),k>g?(l.addRange(c),l.extend(A.node,A.offset)):(c.setEnd(A.node,A.offset),l.addRange(c)))}}for(c=[],l=f;l=l.parentNode;)l.nodeType===1&&c.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)l=c[f],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var I3=d&&"documentMode"in document&&11>=document.documentMode,qi=null,nh=null,_o=null,ah=!1;function Ib(l,c,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;ah||qi==null||qi!==He(g)||(g=qi,"selectionStart"in g&&rh(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),_o&&No(_o,g)||(_o=g,g=Nd(nh,"onSelect"),0<g.length&&(c=new Gf("onSelect","select",null,c,f),l.push({event:c,listeners:g}),c.target=qi)))}function bd(l,c){var f={};return f[l.toLowerCase()]=c.toLowerCase(),f["Webkit"+l]="webkit"+c,f["Moz"+l]="moz"+c,f}var Hi={animationend:bd("Animation","AnimationEnd"),animationiteration:bd("Animation","AnimationIteration"),animationstart:bd("Animation","AnimationStart"),transitionend:bd("Transition","TransitionEnd")},sh={},Lb={};d&&(Lb=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function jd(l){if(sh[l])return sh[l];if(!Hi[l])return l;var c=Hi[l],f;for(f in c)if(c.hasOwnProperty(f)&&f in Lb)return sh[l]=c[f];return l}var Rb=jd("animationend"),Fb=jd("animationiteration"),zb=jd("animationstart"),Bb=jd("transitionend"),Ub=new Map,Wb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(l,c){Ub.set(l,c),i(c,[l])}for(var ih=0;ih<Wb.length;ih++){var lh=Wb[ih],L3=lh.toLowerCase(),R3=lh[0].toUpperCase()+lh.slice(1);xs(L3,"on"+R3)}xs(Rb,"onAnimationEnd"),xs(Fb,"onAnimationIteration"),xs(zb,"onAnimationStart"),xs("dblclick","onDoubleClick"),xs("focusin","onFocus"),xs("focusout","onBlur"),xs(Bb,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F3=new Set("cancel close invalid load scroll toggle".split(" ").concat(ko));function qb(l,c,f){var g=l.type||"unknown-event";l.currentTarget=f,LP(g,c,void 0,l),l.currentTarget=null}function Hb(l,c){c=(c&4)!==0;for(var f=0;f<l.length;f++){var g=l[f],w=g.event;g=g.listeners;e:{var k=void 0;if(c)for(var A=g.length-1;0<=A;A--){var R=g[A],W=R.instance,re=R.currentTarget;if(R=R.listener,W!==k&&w.isPropagationStopped())break e;qb(w,R,re),k=W}else for(A=0;A<g.length;A++){if(R=g[A],W=R.instance,re=R.currentTarget,R=R.listener,W!==k&&w.isPropagationStopped())break e;qb(w,R,re),k=W}}}if(sd)throw l=Rf,sd=!1,Rf=null,l}function kt(l,c){var f=c[ph];f===void 0&&(f=c[ph]=new Set);var g=l+"__bubble";f.has(g)||(Kb(c,l,2,!1),f.add(g))}function oh(l,c,f){var g=0;c&&(g|=4),Kb(f,l,g,c)}var wd="_reactListening"+Math.random().toString(36).slice(2);function So(l){if(!l[wd]){l[wd]=!0,a.forEach(function(f){f!=="selectionchange"&&(F3.has(f)||oh(f,!1,l),oh(f,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[wd]||(c[wd]=!0,oh("selectionchange",!1,c))}}function Kb(l,c,f,g){switch(pb(c)){case 1:var w=QP;break;case 4:w=e3;break;default:w=Hf}f=w.bind(null,c,f,l),w=void 0,!Lf||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),g?w!==void 0?l.addEventListener(c,f,{capture:!0,passive:w}):l.addEventListener(c,f,!0):w!==void 0?l.addEventListener(c,f,{passive:w}):l.addEventListener(c,f,!1)}function ch(l,c,f,g,w){var k=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var A=g.tag;if(A===3||A===4){var R=g.stateNode.containerInfo;if(R===w||R.nodeType===8&&R.parentNode===w)break;if(A===4)for(A=g.return;A!==null;){var W=A.tag;if((W===3||W===4)&&(W=A.stateNode.containerInfo,W===w||W.nodeType===8&&W.parentNode===w))return;A=A.return}for(;R!==null;){if(A=Js(R),A===null)return;if(W=A.tag,W===5||W===6){g=k=A;continue e}R=R.parentNode}}g=g.return}Xv(function(){var re=k,ce=zi(f),fe=[];e:{var oe=Ub.get(l);if(oe!==void 0){var je=Gf,_e=l;switch(l){case"keypress":if(xd(f)===0)break e;case"keydown":case"keyup":je=p3;break;case"focusin":_e="focus",je=Xf;break;case"focusout":_e="blur",je=Xf;break;case"beforeblur":case"afterblur":je=Xf;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=yb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=n3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=y3;break;case Rb:case Fb:case zb:je=i3;break;case Bb:je=b3;break;case"scroll":je=t3;break;case"wheel":je=w3;break;case"copy":case"cut":case"paste":je=o3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=bb}var Pe=(c&4)!==0,Yt=!Pe&&l==="scroll",V=Pe?oe!==null?oe+"Capture":null:oe;Pe=[];for(var q=re,X;q!==null;){X=q;var xe=X.stateNode;if(X.tag===5&&xe!==null&&(X=xe,V!==null&&(xe=lo(q,V),xe!=null&&Pe.push(Co(q,xe,X)))),Yt)break;q=q.return}0<Pe.length&&(oe=new je(oe,_e,null,f,ce),fe.push({event:oe,listeners:Pe}))}}if((c&7)===0){e:{if(oe=l==="mouseover"||l==="pointerover",je=l==="mouseout"||l==="pointerout",oe&&f!==Tn&&(_e=f.relatedTarget||f.fromElement)&&(Js(_e)||_e[Ta]))break e;if((je||oe)&&(oe=ce.window===ce?ce:(oe=ce.ownerDocument)?oe.defaultView||oe.parentWindow:window,je?(_e=f.relatedTarget||f.toElement,je=re,_e=_e?Js(_e):null,_e!==null&&(Yt=Xs(_e),_e!==Yt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(je=null,_e=re),je!==_e)){if(Pe=yb,xe="onMouseLeave",V="onMouseEnter",q="mouse",(l==="pointerout"||l==="pointerover")&&(Pe=bb,xe="onPointerLeave",V="onPointerEnter",q="pointer"),Yt=je==null?oe:Gi(je),X=_e==null?oe:Gi(_e),oe=new Pe(xe,q+"leave",je,f,ce),oe.target=Yt,oe.relatedTarget=X,xe=null,Js(ce)===re&&(Pe=new Pe(V,q+"enter",_e,f,ce),Pe.target=X,Pe.relatedTarget=Yt,xe=Pe),Yt=xe,je&&_e)t:{for(Pe=je,V=_e,q=0,X=Pe;X;X=Ki(X))q++;for(X=0,xe=V;xe;xe=Ki(xe))X++;for(;0<q-X;)Pe=Ki(Pe),q--;for(;0<X-q;)V=Ki(V),X--;for(;q--;){if(Pe===V||V!==null&&Pe===V.alternate)break t;Pe=Ki(Pe),V=Ki(V)}Pe=null}else Pe=null;je!==null&&Vb(fe,oe,je,Pe,!1),_e!==null&&Yt!==null&&Vb(fe,Yt,_e,Pe,!0)}}e:{if(oe=re?Gi(re):window,je=oe.nodeName&&oe.nodeName.toLowerCase(),je==="select"||je==="input"&&oe.type==="file")var Ee=E3;else if(Sb(oe))if(Pb)Ee=M3;else{Ee=A3;var Me=O3}else(je=oe.nodeName)&&je.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Ee=T3);if(Ee&&(Ee=Ee(l,re))){Cb(fe,Ee,f,ce);break e}Me&&Me(l,oe,re),l==="focusout"&&(Me=oe._wrapperState)&&Me.controlled&&oe.type==="number"&&Fe(oe,"number",oe.value)}switch(Me=re?Gi(re):window,l){case"focusin":(Sb(Me)||Me.contentEditable==="true")&&(qi=Me,nh=re,_o=null);break;case"focusout":_o=nh=qi=null;break;case"mousedown":ah=!0;break;case"contextmenu":case"mouseup":case"dragend":ah=!1,Ib(fe,f,ce);break;case"selectionchange":if(I3)break;case"keydown":case"keyup":Ib(fe,f,ce)}var De;if(Qf)e:{switch(l){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Wi?_b(l,f)&&(Ie="onCompositionEnd"):l==="keydown"&&f.keyCode===229&&(Ie="onCompositionStart");Ie&&(jb&&f.locale!=="ko"&&(Wi||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Wi&&(De=xb()):(ps=ce,Vf="value"in ps?ps.value:ps.textContent,Wi=!0)),Me=Nd(re,Ie),0<Me.length&&(Ie=new vb(Ie,l,null,f,ce),fe.push({event:Ie,listeners:Me}),De?Ie.data=De:(De=kb(f),De!==null&&(Ie.data=De)))),(De=_3?k3(l,f):S3(l,f))&&(re=Nd(re,"onBeforeInput"),0<re.length&&(ce=new vb("onBeforeInput","beforeinput",null,f,ce),fe.push({event:ce,listeners:re}),ce.data=De))}Hb(fe,c)})}function Co(l,c,f){return{instance:l,listener:c,currentTarget:f}}function Nd(l,c){for(var f=c+"Capture",g=[];l!==null;){var w=l,k=w.stateNode;w.tag===5&&k!==null&&(w=k,k=lo(l,f),k!=null&&g.unshift(Co(l,k,w)),k=lo(l,c),k!=null&&g.push(Co(l,k,w))),l=l.return}return g}function Ki(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Vb(l,c,f,g,w){for(var k=c._reactName,A=[];f!==null&&f!==g;){var R=f,W=R.alternate,re=R.stateNode;if(W!==null&&W===g)break;R.tag===5&&re!==null&&(R=re,w?(W=lo(f,k),W!=null&&A.unshift(Co(f,W,R))):w||(W=lo(f,k),W!=null&&A.push(Co(f,W,R)))),f=f.return}A.length!==0&&l.push({event:c,listeners:A})}var z3=/\r\n?/g,B3=/\u0000|\uFFFD/g;function Gb(l){return(typeof l=="string"?l:""+l).replace(z3,`
`).replace(B3,"")}function _d(l,c,f){if(c=Gb(c),Gb(l)!==c&&f)throw Error(n(425))}function kd(){}var dh=null,uh=null;function mh(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var fh=typeof setTimeout=="function"?setTimeout:void 0,U3=typeof clearTimeout=="function"?clearTimeout:void 0,Yb=typeof Promise=="function"?Promise:void 0,W3=typeof queueMicrotask=="function"?queueMicrotask:typeof Yb<"u"?function(l){return Yb.resolve(null).then(l).catch(q3)}:fh;function q3(l){setTimeout(function(){throw l})}function hh(l,c){var f=c,g=0;do{var w=f.nextSibling;if(l.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"){if(g===0){l.removeChild(w),go(c);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=w}while(f);go(c)}function gs(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return l}function Zb(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var f=l.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return l;c--}else f==="/$"&&c++}l=l.previousSibling}return null}var Vi=Math.random().toString(36).slice(2),ha="__reactFiber$"+Vi,Po="__reactProps$"+Vi,Ta="__reactContainer$"+Vi,ph="__reactEvents$"+Vi,H3="__reactListeners$"+Vi,K3="__reactHandles$"+Vi;function Js(l){var c=l[ha];if(c)return c;for(var f=l.parentNode;f;){if(c=f[Ta]||f[ha]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(l=Zb(l);l!==null;){if(f=l[ha])return f;l=Zb(l)}return c}l=f,f=l.parentNode}return null}function Eo(l){return l=l[ha]||l[Ta],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Gi(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function Sd(l){return l[Po]||null}var xh=[],Yi=-1;function ys(l){return{current:l}}function St(l){0>Yi||(l.current=xh[Yi],xh[Yi]=null,Yi--)}function wt(l,c){Yi++,xh[Yi]=l.current,l.current=c}var vs={},Rr=ys(vs),ln=ys(!1),Qs=vs;function Zi(l,c){var f=l.type.contextTypes;if(!f)return vs;var g=l.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===c)return g.__reactInternalMemoizedMaskedChildContext;var w={},k;for(k in f)w[k]=c[k];return g&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=c,l.__reactInternalMemoizedMaskedChildContext=w),w}function on(l){return l=l.childContextTypes,l!=null}function Cd(){St(ln),St(Rr)}function Xb(l,c,f){if(Rr.current!==vs)throw Error(n(168));wt(Rr,c),wt(ln,f)}function Jb(l,c,f){var g=l.stateNode;if(c=c.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var w in g)if(!(w in c))throw Error(n(108,J(l)||"Unknown",w));return se({},f,g)}function Pd(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||vs,Qs=Rr.current,wt(Rr,l),wt(ln,ln.current),!0}function Qb(l,c,f){var g=l.stateNode;if(!g)throw Error(n(169));f?(l=Jb(l,c,Qs),g.__reactInternalMemoizedMergedChildContext=l,St(ln),St(Rr),wt(Rr,l)):St(ln),wt(ln,f)}var Ma=null,Ed=!1,gh=!1;function ej(l){Ma===null?Ma=[l]:Ma.push(l)}function V3(l){Ed=!0,ej(l)}function bs(){if(!gh&&Ma!==null){gh=!0;var l=0,c=dt;try{var f=Ma;for(dt=1;l<f.length;l++){var g=f[l];do g=g(!0);while(g!==null)}Ma=null,Ed=!1}catch(w){throw Ma!==null&&(Ma=Ma.slice(l+1)),rb(Ff,bs),w}finally{dt=c,gh=!1}}return null}var Xi=[],Ji=0,Od=null,Ad=0,Mn=[],Dn=0,ei=null,Da=1,$a="";function ti(l,c){Xi[Ji++]=Ad,Xi[Ji++]=Od,Od=l,Ad=c}function tj(l,c,f){Mn[Dn++]=Da,Mn[Dn++]=$a,Mn[Dn++]=ei,ei=l;var g=Da;l=$a;var w=32-Xn(g)-1;g&=~(1<<w),f+=1;var k=32-Xn(c)+w;if(30<k){var A=w-w%5;k=(g&(1<<A)-1).toString(32),g>>=A,w-=A,Da=1<<32-Xn(c)+w|f<<w|g,$a=k+l}else Da=1<<k|f<<w|g,$a=l}function yh(l){l.return!==null&&(ti(l,1),tj(l,1,0))}function vh(l){for(;l===Od;)Od=Xi[--Ji],Xi[Ji]=null,Ad=Xi[--Ji],Xi[Ji]=null;for(;l===ei;)ei=Mn[--Dn],Mn[Dn]=null,$a=Mn[--Dn],Mn[Dn]=null,Da=Mn[--Dn],Mn[Dn]=null}var yn=null,vn=null,At=!1,Qn=null;function rj(l,c){var f=Rn(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=l,c=l.deletions,c===null?(l.deletions=[f],l.flags|=16):c.push(f)}function nj(l,c){switch(l.tag){case 5:var f=l.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(l.stateNode=c,yn=l,vn=gs(c.firstChild),!0):!1;case 6:return c=l.pendingProps===""||c.nodeType!==3?null:c,c!==null?(l.stateNode=c,yn=l,vn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=ei!==null?{id:Da,overflow:$a}:null,l.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=Rn(18,null,null,0),f.stateNode=c,f.return=l,l.child=f,yn=l,vn=null,!0):!1;default:return!1}}function bh(l){return(l.mode&1)!==0&&(l.flags&128)===0}function jh(l){if(At){var c=vn;if(c){var f=c;if(!nj(l,c)){if(bh(l))throw Error(n(418));c=gs(f.nextSibling);var g=yn;c&&nj(l,c)?rj(g,f):(l.flags=l.flags&-4097|2,At=!1,yn=l)}}else{if(bh(l))throw Error(n(418));l.flags=l.flags&-4097|2,At=!1,yn=l}}}function aj(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;yn=l}function Td(l){if(l!==yn)return!1;if(!At)return aj(l),At=!0,!1;var c;if((c=l.tag!==3)&&!(c=l.tag!==5)&&(c=l.type,c=c!=="head"&&c!=="body"&&!mh(l.type,l.memoizedProps)),c&&(c=vn)){if(bh(l))throw sj(),Error(n(418));for(;c;)rj(l,c),c=gs(c.nextSibling)}if(aj(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,c=0;l;){if(l.nodeType===8){var f=l.data;if(f==="/$"){if(c===0){vn=gs(l.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}l=l.nextSibling}vn=null}}else vn=yn?gs(l.stateNode.nextSibling):null;return!0}function sj(){for(var l=vn;l;)l=gs(l.nextSibling)}function Qi(){vn=yn=null,At=!1}function wh(l){Qn===null?Qn=[l]:Qn.push(l)}var G3=P.ReactCurrentBatchConfig;function Oo(l,c,f){if(l=f.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var g=f.stateNode}if(!g)throw Error(n(147,l));var w=g,k=""+l;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===k?c.ref:(c=function(A){var R=w.refs;A===null?delete R[k]:R[k]=A},c._stringRef=k,c)}if(typeof l!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,l))}return l}function Md(l,c){throw l=Object.prototype.toString.call(c),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l))}function ij(l){var c=l._init;return c(l._payload)}function lj(l){function c(V,q){if(l){var X=V.deletions;X===null?(V.deletions=[q],V.flags|=16):X.push(q)}}function f(V,q){if(!l)return null;for(;q!==null;)c(V,q),q=q.sibling;return null}function g(V,q){for(V=new Map;q!==null;)q.key!==null?V.set(q.key,q):V.set(q.index,q),q=q.sibling;return V}function w(V,q){return V=Ps(V,q),V.index=0,V.sibling=null,V}function k(V,q,X){return V.index=X,l?(X=V.alternate,X!==null?(X=X.index,X<q?(V.flags|=2,q):X):(V.flags|=2,q)):(V.flags|=1048576,q)}function A(V){return l&&V.alternate===null&&(V.flags|=2),V}function R(V,q,X,xe){return q===null||q.tag!==6?(q=fp(X,V.mode,xe),q.return=V,q):(q=w(q,X),q.return=V,q)}function W(V,q,X,xe){var Ee=X.type;return Ee===T?ce(V,q,X.props.children,xe,X.key):q!==null&&(q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ee&&ij(Ee)===q.type)?(xe=w(q,X.props),xe.ref=Oo(V,q,X),xe.return=V,xe):(xe=nu(X.type,X.key,X.props,null,V.mode,xe),xe.ref=Oo(V,q,X),xe.return=V,xe)}function re(V,q,X,xe){return q===null||q.tag!==4||q.stateNode.containerInfo!==X.containerInfo||q.stateNode.implementation!==X.implementation?(q=hp(X,V.mode,xe),q.return=V,q):(q=w(q,X.children||[]),q.return=V,q)}function ce(V,q,X,xe,Ee){return q===null||q.tag!==7?(q=ci(X,V.mode,xe,Ee),q.return=V,q):(q=w(q,X),q.return=V,q)}function fe(V,q,X){if(typeof q=="string"&&q!==""||typeof q=="number")return q=fp(""+q,V.mode,X),q.return=V,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case O:return X=nu(q.type,q.key,q.props,null,V.mode,X),X.ref=Oo(V,null,q),X.return=V,X;case E:return q=hp(q,V.mode,X),q.return=V,q;case ee:var xe=q._init;return fe(V,xe(q._payload),X)}if(Ge(q)||te(q))return q=ci(q,V.mode,X,null),q.return=V,q;Md(V,q)}return null}function oe(V,q,X,xe){var Ee=q!==null?q.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Ee!==null?null:R(V,q,""+X,xe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case O:return X.key===Ee?W(V,q,X,xe):null;case E:return X.key===Ee?re(V,q,X,xe):null;case ee:return Ee=X._init,oe(V,q,Ee(X._payload),xe)}if(Ge(X)||te(X))return Ee!==null?null:ce(V,q,X,xe,null);Md(V,X)}return null}function je(V,q,X,xe,Ee){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return V=V.get(X)||null,R(q,V,""+xe,Ee);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case O:return V=V.get(xe.key===null?X:xe.key)||null,W(q,V,xe,Ee);case E:return V=V.get(xe.key===null?X:xe.key)||null,re(q,V,xe,Ee);case ee:var Me=xe._init;return je(V,q,X,Me(xe._payload),Ee)}if(Ge(xe)||te(xe))return V=V.get(X)||null,ce(q,V,xe,Ee,null);Md(q,xe)}return null}function _e(V,q,X,xe){for(var Ee=null,Me=null,De=q,Ie=q=0,jr=null;De!==null&&Ie<X.length;Ie++){De.index>Ie?(jr=De,De=null):jr=De.sibling;var st=oe(V,De,X[Ie],xe);if(st===null){De===null&&(De=jr);break}l&&De&&st.alternate===null&&c(V,De),q=k(st,q,Ie),Me===null?Ee=st:Me.sibling=st,Me=st,De=jr}if(Ie===X.length)return f(V,De),At&&ti(V,Ie),Ee;if(De===null){for(;Ie<X.length;Ie++)De=fe(V,X[Ie],xe),De!==null&&(q=k(De,q,Ie),Me===null?Ee=De:Me.sibling=De,Me=De);return At&&ti(V,Ie),Ee}for(De=g(V,De);Ie<X.length;Ie++)jr=je(De,V,Ie,X[Ie],xe),jr!==null&&(l&&jr.alternate!==null&&De.delete(jr.key===null?Ie:jr.key),q=k(jr,q,Ie),Me===null?Ee=jr:Me.sibling=jr,Me=jr);return l&&De.forEach(function(Es){return c(V,Es)}),At&&ti(V,Ie),Ee}function Pe(V,q,X,xe){var Ee=te(X);if(typeof Ee!="function")throw Error(n(150));if(X=Ee.call(X),X==null)throw Error(n(151));for(var Me=Ee=null,De=q,Ie=q=0,jr=null,st=X.next();De!==null&&!st.done;Ie++,st=X.next()){De.index>Ie?(jr=De,De=null):jr=De.sibling;var Es=oe(V,De,st.value,xe);if(Es===null){De===null&&(De=jr);break}l&&De&&Es.alternate===null&&c(V,De),q=k(Es,q,Ie),Me===null?Ee=Es:Me.sibling=Es,Me=Es,De=jr}if(st.done)return f(V,De),At&&ti(V,Ie),Ee;if(De===null){for(;!st.done;Ie++,st=X.next())st=fe(V,st.value,xe),st!==null&&(q=k(st,q,Ie),Me===null?Ee=st:Me.sibling=st,Me=st);return At&&ti(V,Ie),Ee}for(De=g(V,De);!st.done;Ie++,st=X.next())st=je(De,V,Ie,st.value,xe),st!==null&&(l&&st.alternate!==null&&De.delete(st.key===null?Ie:st.key),q=k(st,q,Ie),Me===null?Ee=st:Me.sibling=st,Me=st);return l&&De.forEach(function(CE){return c(V,CE)}),At&&ti(V,Ie),Ee}function Yt(V,q,X,xe){if(typeof X=="object"&&X!==null&&X.type===T&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case O:e:{for(var Ee=X.key,Me=q;Me!==null;){if(Me.key===Ee){if(Ee=X.type,Ee===T){if(Me.tag===7){f(V,Me.sibling),q=w(Me,X.props.children),q.return=V,V=q;break e}}else if(Me.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ee&&ij(Ee)===Me.type){f(V,Me.sibling),q=w(Me,X.props),q.ref=Oo(V,Me,X),q.return=V,V=q;break e}f(V,Me);break}else c(V,Me);Me=Me.sibling}X.type===T?(q=ci(X.props.children,V.mode,xe,X.key),q.return=V,V=q):(xe=nu(X.type,X.key,X.props,null,V.mode,xe),xe.ref=Oo(V,q,X),xe.return=V,V=xe)}return A(V);case E:e:{for(Me=X.key;q!==null;){if(q.key===Me)if(q.tag===4&&q.stateNode.containerInfo===X.containerInfo&&q.stateNode.implementation===X.implementation){f(V,q.sibling),q=w(q,X.children||[]),q.return=V,V=q;break e}else{f(V,q);break}else c(V,q);q=q.sibling}q=hp(X,V.mode,xe),q.return=V,V=q}return A(V);case ee:return Me=X._init,Yt(V,q,Me(X._payload),xe)}if(Ge(X))return _e(V,q,X,xe);if(te(X))return Pe(V,q,X,xe);Md(V,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,q!==null&&q.tag===6?(f(V,q.sibling),q=w(q,X),q.return=V,V=q):(f(V,q),q=fp(X,V.mode,xe),q.return=V,V=q),A(V)):f(V,q)}return Yt}var el=lj(!0),oj=lj(!1),Dd=ys(null),$d=null,tl=null,Nh=null;function _h(){Nh=tl=$d=null}function kh(l){var c=Dd.current;St(Dd),l._currentValue=c}function Sh(l,c,f){for(;l!==null;){var g=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),l===f)break;l=l.return}}function rl(l,c){$d=l,Nh=tl=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&c)!==0&&(cn=!0),l.firstContext=null)}function $n(l){var c=l._currentValue;if(Nh!==l)if(l={context:l,memoizedValue:c,next:null},tl===null){if($d===null)throw Error(n(308));tl=l,$d.dependencies={lanes:0,firstContext:l}}else tl=tl.next=l;return c}var ri=null;function Ch(l){ri===null?ri=[l]:ri.push(l)}function cj(l,c,f,g){var w=c.interleaved;return w===null?(f.next=f,Ch(c)):(f.next=w.next,w.next=f),c.interleaved=f,Ia(l,g)}function Ia(l,c){l.lanes|=c;var f=l.alternate;for(f!==null&&(f.lanes|=c),f=l,l=l.return;l!==null;)l.childLanes|=c,f=l.alternate,f!==null&&(f.childLanes|=c),f=l,l=l.return;return f.tag===3?f.stateNode:null}var js=!1;function Ph(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dj(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function La(l,c){return{eventTime:l,lane:c,tag:0,payload:null,callback:null,next:null}}function ws(l,c,f){var g=l.updateQueue;if(g===null)return null;if(g=g.shared,(nt&2)!==0){var w=g.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),g.pending=c,Ia(l,f)}return w=g.interleaved,w===null?(c.next=c,Ch(g)):(c.next=w.next,w.next=c),g.interleaved=c,Ia(l,f)}function Id(l,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var g=c.lanes;g&=l.pendingLanes,f|=g,c.lanes=f,Uf(l,f)}}function uj(l,c){var f=l.updateQueue,g=l.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var w=null,k=null;if(f=f.firstBaseUpdate,f!==null){do{var A={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};k===null?w=k=A:k=k.next=A,f=f.next}while(f!==null);k===null?w=k=c:k=k.next=c}else w=k=c;f={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:k,shared:g.shared,effects:g.effects},l.updateQueue=f;return}l=f.lastBaseUpdate,l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=c}function Ld(l,c,f,g){var w=l.updateQueue;js=!1;var k=w.firstBaseUpdate,A=w.lastBaseUpdate,R=w.shared.pending;if(R!==null){w.shared.pending=null;var W=R,re=W.next;W.next=null,A===null?k=re:A.next=re,A=W;var ce=l.alternate;ce!==null&&(ce=ce.updateQueue,R=ce.lastBaseUpdate,R!==A&&(R===null?ce.firstBaseUpdate=re:R.next=re,ce.lastBaseUpdate=W))}if(k!==null){var fe=w.baseState;A=0,ce=re=W=null,R=k;do{var oe=R.lane,je=R.eventTime;if((g&oe)===oe){ce!==null&&(ce=ce.next={eventTime:je,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var _e=l,Pe=R;switch(oe=c,je=f,Pe.tag){case 1:if(_e=Pe.payload,typeof _e=="function"){fe=_e.call(je,fe,oe);break e}fe=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Pe.payload,oe=typeof _e=="function"?_e.call(je,fe,oe):_e,oe==null)break e;fe=se({},fe,oe);break e;case 2:js=!0}}R.callback!==null&&R.lane!==0&&(l.flags|=64,oe=w.effects,oe===null?w.effects=[R]:oe.push(R))}else je={eventTime:je,lane:oe,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ce===null?(re=ce=je,W=fe):ce=ce.next=je,A|=oe;if(R=R.next,R===null){if(R=w.shared.pending,R===null)break;oe=R,R=oe.next,oe.next=null,w.lastBaseUpdate=oe,w.shared.pending=null}}while(!0);if(ce===null&&(W=fe),w.baseState=W,w.firstBaseUpdate=re,w.lastBaseUpdate=ce,c=w.shared.interleaved,c!==null){w=c;do A|=w.lane,w=w.next;while(w!==c)}else k===null&&(w.shared.lanes=0);si|=A,l.lanes=A,l.memoizedState=fe}}function mj(l,c,f){if(l=c.effects,c.effects=null,l!==null)for(c=0;c<l.length;c++){var g=l[c],w=g.callback;if(w!==null){if(g.callback=null,g=f,typeof w!="function")throw Error(n(191,w));w.call(g)}}}var Ao={},pa=ys(Ao),To=ys(Ao),Mo=ys(Ao);function ni(l){if(l===Ao)throw Error(n(174));return l}function Eh(l,c){switch(wt(Mo,c),wt(To,l),wt(pa,Ao),l=c.nodeType,l){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Lr(null,"");break;default:l=l===8?c.parentNode:c,c=l.namespaceURI||null,l=l.tagName,c=Lr(c,l)}St(pa),wt(pa,c)}function nl(){St(pa),St(To),St(Mo)}function fj(l){ni(Mo.current);var c=ni(pa.current),f=Lr(c,l.type);c!==f&&(wt(To,l),wt(pa,f))}function Oh(l){To.current===l&&(St(pa),St(To))}var Lt=ys(0);function Rd(l){for(var c=l;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Ah=[];function Th(){for(var l=0;l<Ah.length;l++)Ah[l]._workInProgressVersionPrimary=null;Ah.length=0}var Fd=P.ReactCurrentDispatcher,Mh=P.ReactCurrentBatchConfig,ai=0,Rt=null,lr=null,vr=null,zd=!1,Do=!1,$o=0,Y3=0;function Fr(){throw Error(n(321))}function Dh(l,c){if(c===null)return!1;for(var f=0;f<c.length&&f<l.length;f++)if(!Jn(l[f],c[f]))return!1;return!0}function $h(l,c,f,g,w,k){if(ai=k,Rt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Fd.current=l===null||l.memoizedState===null?Q3:eE,l=f(g,w),Do){k=0;do{if(Do=!1,$o=0,25<=k)throw Error(n(301));k+=1,vr=lr=null,c.updateQueue=null,Fd.current=tE,l=f(g,w)}while(Do)}if(Fd.current=Wd,c=lr!==null&&lr.next!==null,ai=0,vr=lr=Rt=null,zd=!1,c)throw Error(n(300));return l}function Ih(){var l=$o!==0;return $o=0,l}function xa(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?Rt.memoizedState=vr=l:vr=vr.next=l,vr}function In(){if(lr===null){var l=Rt.alternate;l=l!==null?l.memoizedState:null}else l=lr.next;var c=vr===null?Rt.memoizedState:vr.next;if(c!==null)vr=c,lr=l;else{if(l===null)throw Error(n(310));lr=l,l={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},vr===null?Rt.memoizedState=vr=l:vr=vr.next=l}return vr}function Io(l,c){return typeof c=="function"?c(l):c}function Lh(l){var c=In(),f=c.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=l;var g=lr,w=g.baseQueue,k=f.pending;if(k!==null){if(w!==null){var A=w.next;w.next=k.next,k.next=A}g.baseQueue=w=k,f.pending=null}if(w!==null){k=w.next,g=g.baseState;var R=A=null,W=null,re=k;do{var ce=re.lane;if((ai&ce)===ce)W!==null&&(W=W.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),g=re.hasEagerState?re.eagerState:l(g,re.action);else{var fe={lane:ce,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};W===null?(R=W=fe,A=g):W=W.next=fe,Rt.lanes|=ce,si|=ce}re=re.next}while(re!==null&&re!==k);W===null?A=g:W.next=R,Jn(g,c.memoizedState)||(cn=!0),c.memoizedState=g,c.baseState=A,c.baseQueue=W,f.lastRenderedState=g}if(l=f.interleaved,l!==null){w=l;do k=w.lane,Rt.lanes|=k,si|=k,w=w.next;while(w!==l)}else w===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function Rh(l){var c=In(),f=c.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=l;var g=f.dispatch,w=f.pending,k=c.memoizedState;if(w!==null){f.pending=null;var A=w=w.next;do k=l(k,A.action),A=A.next;while(A!==w);Jn(k,c.memoizedState)||(cn=!0),c.memoizedState=k,c.baseQueue===null&&(c.baseState=k),f.lastRenderedState=k}return[k,g]}function hj(){}function pj(l,c){var f=Rt,g=In(),w=c(),k=!Jn(g.memoizedState,w);if(k&&(g.memoizedState=w,cn=!0),g=g.queue,Fh(yj.bind(null,f,g,l),[l]),g.getSnapshot!==c||k||vr!==null&&vr.memoizedState.tag&1){if(f.flags|=2048,Lo(9,gj.bind(null,f,g,w,c),void 0,null),br===null)throw Error(n(349));(ai&30)!==0||xj(f,c,w)}return w}function xj(l,c,f){l.flags|=16384,l={getSnapshot:c,value:f},c=Rt.updateQueue,c===null?(c={lastEffect:null,stores:null},Rt.updateQueue=c,c.stores=[l]):(f=c.stores,f===null?c.stores=[l]:f.push(l))}function gj(l,c,f,g){c.value=f,c.getSnapshot=g,vj(c)&&bj(l)}function yj(l,c,f){return f(function(){vj(c)&&bj(l)})}function vj(l){var c=l.getSnapshot;l=l.value;try{var f=c();return!Jn(l,f)}catch{return!0}}function bj(l){var c=Ia(l,1);c!==null&&na(c,l,1,-1)}function jj(l){var c=xa();return typeof l=="function"&&(l=l()),c.memoizedState=c.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:l},c.queue=l,l=l.dispatch=J3.bind(null,Rt,l),[c.memoizedState,l]}function Lo(l,c,f,g){return l={tag:l,create:c,destroy:f,deps:g,next:null},c=Rt.updateQueue,c===null?(c={lastEffect:null,stores:null},Rt.updateQueue=c,c.lastEffect=l.next=l):(f=c.lastEffect,f===null?c.lastEffect=l.next=l:(g=f.next,f.next=l,l.next=g,c.lastEffect=l)),l}function wj(){return In().memoizedState}function Bd(l,c,f,g){var w=xa();Rt.flags|=l,w.memoizedState=Lo(1|c,f,void 0,g===void 0?null:g)}function Ud(l,c,f,g){var w=In();g=g===void 0?null:g;var k=void 0;if(lr!==null){var A=lr.memoizedState;if(k=A.destroy,g!==null&&Dh(g,A.deps)){w.memoizedState=Lo(c,f,k,g);return}}Rt.flags|=l,w.memoizedState=Lo(1|c,f,k,g)}function Nj(l,c){return Bd(8390656,8,l,c)}function Fh(l,c){return Ud(2048,8,l,c)}function _j(l,c){return Ud(4,2,l,c)}function kj(l,c){return Ud(4,4,l,c)}function Sj(l,c){if(typeof c=="function")return l=l(),c(l),function(){c(null)};if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function Cj(l,c,f){return f=f!=null?f.concat([l]):null,Ud(4,4,Sj.bind(null,c,l),f)}function zh(){}function Pj(l,c){var f=In();c=c===void 0?null:c;var g=f.memoizedState;return g!==null&&c!==null&&Dh(c,g[1])?g[0]:(f.memoizedState=[l,c],l)}function Ej(l,c){var f=In();c=c===void 0?null:c;var g=f.memoizedState;return g!==null&&c!==null&&Dh(c,g[1])?g[0]:(l=l(),f.memoizedState=[l,c],l)}function Oj(l,c,f){return(ai&21)===0?(l.baseState&&(l.baseState=!1,cn=!0),l.memoizedState=f):(Jn(f,c)||(f=ib(),Rt.lanes|=f,si|=f,l.baseState=!0),c)}function Z3(l,c){var f=dt;dt=f!==0&&4>f?f:4,l(!0);var g=Mh.transition;Mh.transition={};try{l(!1),c()}finally{dt=f,Mh.transition=g}}function Aj(){return In().memoizedState}function X3(l,c,f){var g=Ss(l);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},Tj(l))Mj(c,f);else if(f=cj(l,c,f,g),f!==null){var w=Zr();na(f,l,g,w),Dj(f,c,g)}}function J3(l,c,f){var g=Ss(l),w={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(Tj(l))Mj(c,w);else{var k=l.alternate;if(l.lanes===0&&(k===null||k.lanes===0)&&(k=c.lastRenderedReducer,k!==null))try{var A=c.lastRenderedState,R=k(A,f);if(w.hasEagerState=!0,w.eagerState=R,Jn(R,A)){var W=c.interleaved;W===null?(w.next=w,Ch(c)):(w.next=W.next,W.next=w),c.interleaved=w;return}}catch{}finally{}f=cj(l,c,w,g),f!==null&&(w=Zr(),na(f,l,g,w),Dj(f,c,g))}}function Tj(l){var c=l.alternate;return l===Rt||c!==null&&c===Rt}function Mj(l,c){Do=zd=!0;var f=l.pending;f===null?c.next=c:(c.next=f.next,f.next=c),l.pending=c}function Dj(l,c,f){if((f&4194240)!==0){var g=c.lanes;g&=l.pendingLanes,f|=g,c.lanes=f,Uf(l,f)}}var Wd={readContext:$n,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useInsertionEffect:Fr,useLayoutEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useMutableSource:Fr,useSyncExternalStore:Fr,useId:Fr,unstable_isNewReconciler:!1},Q3={readContext:$n,useCallback:function(l,c){return xa().memoizedState=[l,c===void 0?null:c],l},useContext:$n,useEffect:Nj,useImperativeHandle:function(l,c,f){return f=f!=null?f.concat([l]):null,Bd(4194308,4,Sj.bind(null,c,l),f)},useLayoutEffect:function(l,c){return Bd(4194308,4,l,c)},useInsertionEffect:function(l,c){return Bd(4,2,l,c)},useMemo:function(l,c){var f=xa();return c=c===void 0?null:c,l=l(),f.memoizedState=[l,c],l},useReducer:function(l,c,f){var g=xa();return c=f!==void 0?f(c):c,g.memoizedState=g.baseState=c,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:c},g.queue=l,l=l.dispatch=X3.bind(null,Rt,l),[g.memoizedState,l]},useRef:function(l){var c=xa();return l={current:l},c.memoizedState=l},useState:jj,useDebugValue:zh,useDeferredValue:function(l){return xa().memoizedState=l},useTransition:function(){var l=jj(!1),c=l[0];return l=Z3.bind(null,l[1]),xa().memoizedState=l,[c,l]},useMutableSource:function(){},useSyncExternalStore:function(l,c,f){var g=Rt,w=xa();if(At){if(f===void 0)throw Error(n(407));f=f()}else{if(f=c(),br===null)throw Error(n(349));(ai&30)!==0||xj(g,c,f)}w.memoizedState=f;var k={value:f,getSnapshot:c};return w.queue=k,Nj(yj.bind(null,g,k,l),[l]),g.flags|=2048,Lo(9,gj.bind(null,g,k,f,c),void 0,null),f},useId:function(){var l=xa(),c=br.identifierPrefix;if(At){var f=$a,g=Da;f=(g&~(1<<32-Xn(g)-1)).toString(32)+f,c=":"+c+"R"+f,f=$o++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=Y3++,c=":"+c+"r"+f.toString(32)+":";return l.memoizedState=c},unstable_isNewReconciler:!1},eE={readContext:$n,useCallback:Pj,useContext:$n,useEffect:Fh,useImperativeHandle:Cj,useInsertionEffect:_j,useLayoutEffect:kj,useMemo:Ej,useReducer:Lh,useRef:wj,useState:function(){return Lh(Io)},useDebugValue:zh,useDeferredValue:function(l){var c=In();return Oj(c,lr.memoizedState,l)},useTransition:function(){var l=Lh(Io)[0],c=In().memoizedState;return[l,c]},useMutableSource:hj,useSyncExternalStore:pj,useId:Aj,unstable_isNewReconciler:!1},tE={readContext:$n,useCallback:Pj,useContext:$n,useEffect:Fh,useImperativeHandle:Cj,useInsertionEffect:_j,useLayoutEffect:kj,useMemo:Ej,useReducer:Rh,useRef:wj,useState:function(){return Rh(Io)},useDebugValue:zh,useDeferredValue:function(l){var c=In();return lr===null?c.memoizedState=l:Oj(c,lr.memoizedState,l)},useTransition:function(){var l=Rh(Io)[0],c=In().memoizedState;return[l,c]},useMutableSource:hj,useSyncExternalStore:pj,useId:Aj,unstable_isNewReconciler:!1};function ea(l,c){if(l&&l.defaultProps){c=se({},c),l=l.defaultProps;for(var f in l)c[f]===void 0&&(c[f]=l[f]);return c}return c}function Bh(l,c,f,g){c=l.memoizedState,f=f(g,c),f=f==null?c:se({},c,f),l.memoizedState=f,l.lanes===0&&(l.updateQueue.baseState=f)}var qd={isMounted:function(l){return(l=l._reactInternals)?Xs(l)===l:!1},enqueueSetState:function(l,c,f){l=l._reactInternals;var g=Zr(),w=Ss(l),k=La(g,w);k.payload=c,f!=null&&(k.callback=f),c=ws(l,k,w),c!==null&&(na(c,l,w,g),Id(c,l,w))},enqueueReplaceState:function(l,c,f){l=l._reactInternals;var g=Zr(),w=Ss(l),k=La(g,w);k.tag=1,k.payload=c,f!=null&&(k.callback=f),c=ws(l,k,w),c!==null&&(na(c,l,w,g),Id(c,l,w))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var f=Zr(),g=Ss(l),w=La(f,g);w.tag=2,c!=null&&(w.callback=c),c=ws(l,w,g),c!==null&&(na(c,l,g,f),Id(c,l,g))}};function $j(l,c,f,g,w,k,A){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(g,k,A):c.prototype&&c.prototype.isPureReactComponent?!No(f,g)||!No(w,k):!0}function Ij(l,c,f){var g=!1,w=vs,k=c.contextType;return typeof k=="object"&&k!==null?k=$n(k):(w=on(c)?Qs:Rr.current,g=c.contextTypes,k=(g=g!=null)?Zi(l,w):vs),c=new c(f,k),l.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=qd,l.stateNode=c,c._reactInternals=l,g&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=w,l.__reactInternalMemoizedMaskedChildContext=k),c}function Lj(l,c,f,g){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,g),c.state!==l&&qd.enqueueReplaceState(c,c.state,null)}function Uh(l,c,f,g){var w=l.stateNode;w.props=f,w.state=l.memoizedState,w.refs={},Ph(l);var k=c.contextType;typeof k=="object"&&k!==null?w.context=$n(k):(k=on(c)?Qs:Rr.current,w.context=Zi(l,k)),w.state=l.memoizedState,k=c.getDerivedStateFromProps,typeof k=="function"&&(Bh(l,c,k,f),w.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(c=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),c!==w.state&&qd.enqueueReplaceState(w,w.state,null),Ld(l,f,w,g),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308)}function al(l,c){try{var f="",g=c;do f+=ie(g),g=g.return;while(g);var w=f}catch(k){w=`
Error generating stack: `+k.message+`
`+k.stack}return{value:l,source:c,stack:w,digest:null}}function Wh(l,c,f){return{value:l,source:null,stack:f??null,digest:c??null}}function qh(l,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var rE=typeof WeakMap=="function"?WeakMap:Map;function Rj(l,c,f){f=La(-1,f),f.tag=3,f.payload={element:null};var g=c.value;return f.callback=function(){Xd||(Xd=!0,sp=g),qh(l,c)},f}function Fj(l,c,f){f=La(-1,f),f.tag=3;var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var w=c.value;f.payload=function(){return g(w)},f.callback=function(){qh(l,c)}}var k=l.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(f.callback=function(){qh(l,c),typeof g!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})}),f}function zj(l,c,f){var g=l.pingCache;if(g===null){g=l.pingCache=new rE;var w=new Set;g.set(c,w)}else w=g.get(c),w===void 0&&(w=new Set,g.set(c,w));w.has(f)||(w.add(f),l=xE.bind(null,l,c,f),c.then(l,l))}function Bj(l){do{var c;if((c=l.tag===13)&&(c=l.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return l;l=l.return}while(l!==null);return null}function Uj(l,c,f,g,w){return(l.mode&1)===0?(l===c?l.flags|=65536:(l.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=La(-1,1),c.tag=2,ws(f,c,1))),f.lanes|=1),l):(l.flags|=65536,l.lanes=w,l)}var nE=P.ReactCurrentOwner,cn=!1;function Yr(l,c,f,g){c.child=l===null?oj(c,null,f,g):el(c,l.child,f,g)}function Wj(l,c,f,g,w){f=f.render;var k=c.ref;return rl(c,w),g=$h(l,c,f,g,k,w),f=Ih(),l!==null&&!cn?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~w,Ra(l,c,w)):(At&&f&&yh(c),c.flags|=1,Yr(l,c,g,w),c.child)}function qj(l,c,f,g,w){if(l===null){var k=f.type;return typeof k=="function"&&!mp(k)&&k.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=k,Hj(l,c,k,g,w)):(l=nu(f.type,null,g,c,c.mode,w),l.ref=c.ref,l.return=c,c.child=l)}if(k=l.child,(l.lanes&w)===0){var A=k.memoizedProps;if(f=f.compare,f=f!==null?f:No,f(A,g)&&l.ref===c.ref)return Ra(l,c,w)}return c.flags|=1,l=Ps(k,g),l.ref=c.ref,l.return=c,c.child=l}function Hj(l,c,f,g,w){if(l!==null){var k=l.memoizedProps;if(No(k,g)&&l.ref===c.ref)if(cn=!1,c.pendingProps=g=k,(l.lanes&w)!==0)(l.flags&131072)!==0&&(cn=!0);else return c.lanes=l.lanes,Ra(l,c,w)}return Hh(l,c,f,g,w)}function Kj(l,c,f){var g=c.pendingProps,w=g.children,k=l!==null?l.memoizedState:null;if(g.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(il,bn),bn|=f;else{if((f&1073741824)===0)return l=k!==null?k.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:l,cachePool:null,transitions:null},c.updateQueue=null,wt(il,bn),bn|=l,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=k!==null?k.baseLanes:f,wt(il,bn),bn|=g}else k!==null?(g=k.baseLanes|f,c.memoizedState=null):g=f,wt(il,bn),bn|=g;return Yr(l,c,w,f),c.child}function Vj(l,c){var f=c.ref;(l===null&&f!==null||l!==null&&l.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function Hh(l,c,f,g,w){var k=on(f)?Qs:Rr.current;return k=Zi(c,k),rl(c,w),f=$h(l,c,f,g,k,w),g=Ih(),l!==null&&!cn?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~w,Ra(l,c,w)):(At&&g&&yh(c),c.flags|=1,Yr(l,c,f,w),c.child)}function Gj(l,c,f,g,w){if(on(f)){var k=!0;Pd(c)}else k=!1;if(rl(c,w),c.stateNode===null)Kd(l,c),Ij(c,f,g),Uh(c,f,g,w),g=!0;else if(l===null){var A=c.stateNode,R=c.memoizedProps;A.props=R;var W=A.context,re=f.contextType;typeof re=="object"&&re!==null?re=$n(re):(re=on(f)?Qs:Rr.current,re=Zi(c,re));var ce=f.getDerivedStateFromProps,fe=typeof ce=="function"||typeof A.getSnapshotBeforeUpdate=="function";fe||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(R!==g||W!==re)&&Lj(c,A,g,re),js=!1;var oe=c.memoizedState;A.state=oe,Ld(c,g,A,w),W=c.memoizedState,R!==g||oe!==W||ln.current||js?(typeof ce=="function"&&(Bh(c,f,ce,g),W=c.memoizedState),(R=js||$j(c,f,R,g,oe,W,re))?(fe||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(c.flags|=4194308)):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=W),A.props=g,A.state=W,A.context=re,g=R):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{A=c.stateNode,dj(l,c),R=c.memoizedProps,re=c.type===c.elementType?R:ea(c.type,R),A.props=re,fe=c.pendingProps,oe=A.context,W=f.contextType,typeof W=="object"&&W!==null?W=$n(W):(W=on(f)?Qs:Rr.current,W=Zi(c,W));var je=f.getDerivedStateFromProps;(ce=typeof je=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(R!==fe||oe!==W)&&Lj(c,A,g,W),js=!1,oe=c.memoizedState,A.state=oe,Ld(c,g,A,w);var _e=c.memoizedState;R!==fe||oe!==_e||ln.current||js?(typeof je=="function"&&(Bh(c,f,je,g),_e=c.memoizedState),(re=js||$j(c,f,re,g,oe,_e,W)||!1)?(ce||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,_e,W),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,_e,W)),typeof A.componentDidUpdate=="function"&&(c.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof A.componentDidUpdate!="function"||R===l.memoizedProps&&oe===l.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||R===l.memoizedProps&&oe===l.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=_e),A.props=g,A.state=_e,A.context=W,g=re):(typeof A.componentDidUpdate!="function"||R===l.memoizedProps&&oe===l.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||R===l.memoizedProps&&oe===l.memoizedState||(c.flags|=1024),g=!1)}return Kh(l,c,f,g,k,w)}function Kh(l,c,f,g,w,k){Vj(l,c);var A=(c.flags&128)!==0;if(!g&&!A)return w&&Qb(c,f,!1),Ra(l,c,k);g=c.stateNode,nE.current=c;var R=A&&typeof f.getDerivedStateFromError!="function"?null:g.render();return c.flags|=1,l!==null&&A?(c.child=el(c,l.child,null,k),c.child=el(c,null,R,k)):Yr(l,c,R,k),c.memoizedState=g.state,w&&Qb(c,f,!0),c.child}function Yj(l){var c=l.stateNode;c.pendingContext?Xb(l,c.pendingContext,c.pendingContext!==c.context):c.context&&Xb(l,c.context,!1),Eh(l,c.containerInfo)}function Zj(l,c,f,g,w){return Qi(),wh(w),c.flags|=256,Yr(l,c,f,g),c.child}var Vh={dehydrated:null,treeContext:null,retryLane:0};function Gh(l){return{baseLanes:l,cachePool:null,transitions:null}}function Xj(l,c,f){var g=c.pendingProps,w=Lt.current,k=!1,A=(c.flags&128)!==0,R;if((R=A)||(R=l!==null&&l.memoizedState===null?!1:(w&2)!==0),R?(k=!0,c.flags&=-129):(l===null||l.memoizedState!==null)&&(w|=1),wt(Lt,w&1),l===null)return jh(c),l=c.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((c.mode&1)===0?c.lanes=1:l.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(A=g.children,l=g.fallback,k?(g=c.mode,k=c.child,A={mode:"hidden",children:A},(g&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=A):k=au(A,g,0,null),l=ci(l,g,f,null),k.return=c,l.return=c,k.sibling=l,c.child=k,c.child.memoizedState=Gh(f),c.memoizedState=Vh,l):Yh(c,A));if(w=l.memoizedState,w!==null&&(R=w.dehydrated,R!==null))return aE(l,c,A,g,R,w,f);if(k){k=g.fallback,A=c.mode,w=l.child,R=w.sibling;var W={mode:"hidden",children:g.children};return(A&1)===0&&c.child!==w?(g=c.child,g.childLanes=0,g.pendingProps=W,c.deletions=null):(g=Ps(w,W),g.subtreeFlags=w.subtreeFlags&14680064),R!==null?k=Ps(R,k):(k=ci(k,A,f,null),k.flags|=2),k.return=c,g.return=c,g.sibling=k,c.child=g,g=k,k=c.child,A=l.child.memoizedState,A=A===null?Gh(f):{baseLanes:A.baseLanes|f,cachePool:null,transitions:A.transitions},k.memoizedState=A,k.childLanes=l.childLanes&~f,c.memoizedState=Vh,g}return k=l.child,l=k.sibling,g=Ps(k,{mode:"visible",children:g.children}),(c.mode&1)===0&&(g.lanes=f),g.return=c,g.sibling=null,l!==null&&(f=c.deletions,f===null?(c.deletions=[l],c.flags|=16):f.push(l)),c.child=g,c.memoizedState=null,g}function Yh(l,c){return c=au({mode:"visible",children:c},l.mode,0,null),c.return=l,l.child=c}function Hd(l,c,f,g){return g!==null&&wh(g),el(c,l.child,null,f),l=Yh(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function aE(l,c,f,g,w,k,A){if(f)return c.flags&256?(c.flags&=-257,g=Wh(Error(n(422))),Hd(l,c,A,g)):c.memoizedState!==null?(c.child=l.child,c.flags|=128,null):(k=g.fallback,w=c.mode,g=au({mode:"visible",children:g.children},w,0,null),k=ci(k,w,A,null),k.flags|=2,g.return=c,k.return=c,g.sibling=k,c.child=g,(c.mode&1)!==0&&el(c,l.child,null,A),c.child.memoizedState=Gh(A),c.memoizedState=Vh,k);if((c.mode&1)===0)return Hd(l,c,A,null);if(w.data==="$!"){if(g=w.nextSibling&&w.nextSibling.dataset,g)var R=g.dgst;return g=R,k=Error(n(419)),g=Wh(k,g,void 0),Hd(l,c,A,g)}if(R=(A&l.childLanes)!==0,cn||R){if(g=br,g!==null){switch(A&-A){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(g.suspendedLanes|A))!==0?0:w,w!==0&&w!==k.retryLane&&(k.retryLane=w,Ia(l,w),na(g,l,w,-1))}return up(),g=Wh(Error(n(421))),Hd(l,c,A,g)}return w.data==="$?"?(c.flags|=128,c.child=l.child,c=gE.bind(null,l),w._reactRetry=c,null):(l=k.treeContext,vn=gs(w.nextSibling),yn=c,At=!0,Qn=null,l!==null&&(Mn[Dn++]=Da,Mn[Dn++]=$a,Mn[Dn++]=ei,Da=l.id,$a=l.overflow,ei=c),c=Yh(c,g.children),c.flags|=4096,c)}function Jj(l,c,f){l.lanes|=c;var g=l.alternate;g!==null&&(g.lanes|=c),Sh(l.return,c,f)}function Zh(l,c,f,g,w){var k=l.memoizedState;k===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:w}:(k.isBackwards=c,k.rendering=null,k.renderingStartTime=0,k.last=g,k.tail=f,k.tailMode=w)}function Qj(l,c,f){var g=c.pendingProps,w=g.revealOrder,k=g.tail;if(Yr(l,c,g.children,f),g=Lt.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Jj(l,f,c);else if(l.tag===19)Jj(l,f,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}g&=1}if(wt(Lt,g),(c.mode&1)===0)c.memoizedState=null;else switch(w){case"forwards":for(f=c.child,w=null;f!==null;)l=f.alternate,l!==null&&Rd(l)===null&&(w=f),f=f.sibling;f=w,f===null?(w=c.child,c.child=null):(w=f.sibling,f.sibling=null),Zh(c,!1,w,f,k);break;case"backwards":for(f=null,w=c.child,c.child=null;w!==null;){if(l=w.alternate,l!==null&&Rd(l)===null){c.child=w;break}l=w.sibling,w.sibling=f,f=w,w=l}Zh(c,!0,f,null,k);break;case"together":Zh(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Kd(l,c){(c.mode&1)===0&&l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2)}function Ra(l,c,f){if(l!==null&&(c.dependencies=l.dependencies),si|=c.lanes,(f&c.childLanes)===0)return null;if(l!==null&&c.child!==l.child)throw Error(n(153));if(c.child!==null){for(l=c.child,f=Ps(l,l.pendingProps),c.child=f,f.return=c;l.sibling!==null;)l=l.sibling,f=f.sibling=Ps(l,l.pendingProps),f.return=c;f.sibling=null}return c.child}function sE(l,c,f){switch(c.tag){case 3:Yj(c),Qi();break;case 5:fj(c);break;case 1:on(c.type)&&Pd(c);break;case 4:Eh(c,c.stateNode.containerInfo);break;case 10:var g=c.type._context,w=c.memoizedProps.value;wt(Dd,g._currentValue),g._currentValue=w;break;case 13:if(g=c.memoizedState,g!==null)return g.dehydrated!==null?(wt(Lt,Lt.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?Xj(l,c,f):(wt(Lt,Lt.current&1),l=Ra(l,c,f),l!==null?l.sibling:null);wt(Lt,Lt.current&1);break;case 19:if(g=(f&c.childLanes)!==0,(l.flags&128)!==0){if(g)return Qj(l,c,f);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),wt(Lt,Lt.current),g)break;return null;case 22:case 23:return c.lanes=0,Kj(l,c,f)}return Ra(l,c,f)}var ew,Xh,tw,rw;ew=function(l,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)l.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Xh=function(){},tw=function(l,c,f,g){var w=l.memoizedProps;if(w!==g){l=c.stateNode,ni(pa.current);var k=null;switch(f){case"input":w=$e(l,w),g=$e(l,g),k=[];break;case"select":w=se({},w,{value:void 0}),g=se({},g,{value:void 0}),k=[];break;case"textarea":w=ue(l,w),g=ue(l,g),k=[];break;default:typeof w.onClick!="function"&&typeof g.onClick=="function"&&(l.onclick=kd)}yr(f,g);var A;f=null;for(re in w)if(!g.hasOwnProperty(re)&&w.hasOwnProperty(re)&&w[re]!=null)if(re==="style"){var R=w[re];for(A in R)R.hasOwnProperty(A)&&(f||(f={}),f[A]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(s.hasOwnProperty(re)?k||(k=[]):(k=k||[]).push(re,null));for(re in g){var W=g[re];if(R=w!=null?w[re]:void 0,g.hasOwnProperty(re)&&W!==R&&(W!=null||R!=null))if(re==="style")if(R){for(A in R)!R.hasOwnProperty(A)||W&&W.hasOwnProperty(A)||(f||(f={}),f[A]="");for(A in W)W.hasOwnProperty(A)&&R[A]!==W[A]&&(f||(f={}),f[A]=W[A])}else f||(k||(k=[]),k.push(re,f)),f=W;else re==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,R=R?R.__html:void 0,W!=null&&R!==W&&(k=k||[]).push(re,W)):re==="children"?typeof W!="string"&&typeof W!="number"||(k=k||[]).push(re,""+W):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(s.hasOwnProperty(re)?(W!=null&&re==="onScroll"&&kt("scroll",l),k||R===W||(k=[])):(k=k||[]).push(re,W))}f&&(k=k||[]).push("style",f);var re=k;(c.updateQueue=re)&&(c.flags|=4)}},rw=function(l,c,f,g){f!==g&&(c.flags|=4)};function Ro(l,c){if(!At)switch(l.tailMode){case"hidden":c=l.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?l.tail=null:f.sibling=null;break;case"collapsed":f=l.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:g.sibling=null}}function zr(l){var c=l.alternate!==null&&l.alternate.child===l.child,f=0,g=0;if(c)for(var w=l.child;w!==null;)f|=w.lanes|w.childLanes,g|=w.subtreeFlags&14680064,g|=w.flags&14680064,w.return=l,w=w.sibling;else for(w=l.child;w!==null;)f|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=l,w=w.sibling;return l.subtreeFlags|=g,l.childLanes=f,c}function iE(l,c,f){var g=c.pendingProps;switch(vh(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zr(c),null;case 1:return on(c.type)&&Cd(),zr(c),null;case 3:return g=c.stateNode,nl(),St(ln),St(Rr),Th(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(Td(c)?c.flags|=4:l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Qn!==null&&(op(Qn),Qn=null))),Xh(l,c),zr(c),null;case 5:Oh(c);var w=ni(Mo.current);if(f=c.type,l!==null&&c.stateNode!=null)tw(l,c,f,g,w),l.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!g){if(c.stateNode===null)throw Error(n(166));return zr(c),null}if(l=ni(pa.current),Td(c)){g=c.stateNode,f=c.type;var k=c.memoizedProps;switch(g[ha]=c,g[Po]=k,l=(c.mode&1)!==0,f){case"dialog":kt("cancel",g),kt("close",g);break;case"iframe":case"object":case"embed":kt("load",g);break;case"video":case"audio":for(w=0;w<ko.length;w++)kt(ko[w],g);break;case"source":kt("error",g);break;case"img":case"image":case"link":kt("error",g),kt("load",g);break;case"details":kt("toggle",g);break;case"input":ct(g,k),kt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!k.multiple},kt("invalid",g);break;case"textarea":me(g,k),kt("invalid",g)}yr(f,k),w=null;for(var A in k)if(k.hasOwnProperty(A)){var R=k[A];A==="children"?typeof R=="string"?g.textContent!==R&&(k.suppressHydrationWarning!==!0&&_d(g.textContent,R,l),w=["children",R]):typeof R=="number"&&g.textContent!==""+R&&(k.suppressHydrationWarning!==!0&&_d(g.textContent,R,l),w=["children",""+R]):s.hasOwnProperty(A)&&R!=null&&A==="onScroll"&&kt("scroll",g)}switch(f){case"input":Ae(g),sr(g,k,!0);break;case"textarea":Ae(g),rt(g);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(g.onclick=kd)}g=w,c.updateQueue=g,g!==null&&(c.flags|=4)}else{A=w.nodeType===9?w:w.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=pn(f)),l==="http://www.w3.org/1999/xhtml"?f==="script"?(l=A.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof g.is=="string"?l=A.createElement(f,{is:g.is}):(l=A.createElement(f),f==="select"&&(A=l,g.multiple?A.multiple=!0:g.size&&(A.size=g.size))):l=A.createElementNS(l,f),l[ha]=c,l[Po]=g,ew(l,c,!1,!1),c.stateNode=l;e:{switch(A=Xt(f,g),f){case"dialog":kt("cancel",l),kt("close",l),w=g;break;case"iframe":case"object":case"embed":kt("load",l),w=g;break;case"video":case"audio":for(w=0;w<ko.length;w++)kt(ko[w],l);w=g;break;case"source":kt("error",l),w=g;break;case"img":case"image":case"link":kt("error",l),kt("load",l),w=g;break;case"details":kt("toggle",l),w=g;break;case"input":ct(l,g),w=$e(l,g),kt("invalid",l);break;case"option":w=g;break;case"select":l._wrapperState={wasMultiple:!!g.multiple},w=se({},g,{value:void 0}),kt("invalid",l);break;case"textarea":me(l,g),w=ue(l,g),kt("invalid",l);break;default:w=g}yr(f,w),R=w;for(k in R)if(R.hasOwnProperty(k)){var W=R[k];k==="style"?ot(l,W):k==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&yt(l,W)):k==="children"?typeof W=="string"?(f!=="textarea"||W!=="")&&sn(l,W):typeof W=="number"&&sn(l,""+W):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(s.hasOwnProperty(k)?W!=null&&k==="onScroll"&&kt("scroll",l):W!=null&&_(l,k,W,A))}switch(f){case"input":Ae(l),sr(l,g,!1);break;case"textarea":Ae(l),rt(l);break;case"option":g.value!=null&&l.setAttribute("value",""+ve(g.value));break;case"select":l.multiple=!!g.multiple,k=g.value,k!=null?jt(l,!!g.multiple,k,!1):g.defaultValue!=null&&jt(l,!!g.multiple,g.defaultValue,!0);break;default:typeof w.onClick=="function"&&(l.onclick=kd)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return zr(c),null;case 6:if(l&&c.stateNode!=null)rw(l,c,l.memoizedProps,g);else{if(typeof g!="string"&&c.stateNode===null)throw Error(n(166));if(f=ni(Mo.current),ni(pa.current),Td(c)){if(g=c.stateNode,f=c.memoizedProps,g[ha]=c,(k=g.nodeValue!==f)&&(l=yn,l!==null))switch(l.tag){case 3:_d(g.nodeValue,f,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&_d(g.nodeValue,f,(l.mode&1)!==0)}k&&(c.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[ha]=c,c.stateNode=g}return zr(c),null;case 13:if(St(Lt),g=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(At&&vn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)sj(),Qi(),c.flags|=98560,k=!1;else if(k=Td(c),g!==null&&g.dehydrated!==null){if(l===null){if(!k)throw Error(n(318));if(k=c.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[ha]=c}else Qi(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;zr(c),k=!1}else Qn!==null&&(op(Qn),Qn=null),k=!0;if(!k)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(g=g!==null,g!==(l!==null&&l.memoizedState!==null)&&g&&(c.child.flags|=8192,(c.mode&1)!==0&&(l===null||(Lt.current&1)!==0?or===0&&(or=3):up())),c.updateQueue!==null&&(c.flags|=4),zr(c),null);case 4:return nl(),Xh(l,c),l===null&&So(c.stateNode.containerInfo),zr(c),null;case 10:return kh(c.type._context),zr(c),null;case 17:return on(c.type)&&Cd(),zr(c),null;case 19:if(St(Lt),k=c.memoizedState,k===null)return zr(c),null;if(g=(c.flags&128)!==0,A=k.rendering,A===null)if(g)Ro(k,!1);else{if(or!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(A=Rd(l),A!==null){for(c.flags|=128,Ro(k,!1),g=A.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),c.subtreeFlags=0,g=f,f=c.child;f!==null;)k=f,l=g,k.flags&=14680066,A=k.alternate,A===null?(k.childLanes=0,k.lanes=l,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=A.childLanes,k.lanes=A.lanes,k.child=A.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=A.memoizedProps,k.memoizedState=A.memoizedState,k.updateQueue=A.updateQueue,k.type=A.type,l=A.dependencies,k.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),f=f.sibling;return wt(Lt,Lt.current&1|2),c.child}l=l.sibling}k.tail!==null&&Gt()>ll&&(c.flags|=128,g=!0,Ro(k,!1),c.lanes=4194304)}else{if(!g)if(l=Rd(A),l!==null){if(c.flags|=128,g=!0,f=l.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),Ro(k,!0),k.tail===null&&k.tailMode==="hidden"&&!A.alternate&&!At)return zr(c),null}else 2*Gt()-k.renderingStartTime>ll&&f!==1073741824&&(c.flags|=128,g=!0,Ro(k,!1),c.lanes=4194304);k.isBackwards?(A.sibling=c.child,c.child=A):(f=k.last,f!==null?f.sibling=A:c.child=A,k.last=A)}return k.tail!==null?(c=k.tail,k.rendering=c,k.tail=c.sibling,k.renderingStartTime=Gt(),c.sibling=null,f=Lt.current,wt(Lt,g?f&1|2:f&1),c):(zr(c),null);case 22:case 23:return dp(),g=c.memoizedState!==null,l!==null&&l.memoizedState!==null!==g&&(c.flags|=8192),g&&(c.mode&1)!==0?(bn&1073741824)!==0&&(zr(c),c.subtreeFlags&6&&(c.flags|=8192)):zr(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function lE(l,c){switch(vh(c),c.tag){case 1:return on(c.type)&&Cd(),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return nl(),St(ln),St(Rr),Th(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 5:return Oh(c),null;case 13:if(St(Lt),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Qi()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return St(Lt),null;case 4:return nl(),null;case 10:return kh(c.type._context),null;case 22:case 23:return dp(),null;case 24:return null;default:return null}}var Vd=!1,Br=!1,oE=typeof WeakSet=="function"?WeakSet:Set,we=null;function sl(l,c){var f=l.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){Ut(l,c,g)}else f.current=null}function Jh(l,c,f){try{f()}catch(g){Ut(l,c,g)}}var nw=!1;function cE(l,c){if(dh=fd,l=$b(),rh(l)){if("selectionStart"in l)var f={start:l.selectionStart,end:l.selectionEnd};else e:{f=(f=l.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var w=g.anchorOffset,k=g.focusNode;g=g.focusOffset;try{f.nodeType,k.nodeType}catch{f=null;break e}var A=0,R=-1,W=-1,re=0,ce=0,fe=l,oe=null;t:for(;;){for(var je;fe!==f||w!==0&&fe.nodeType!==3||(R=A+w),fe!==k||g!==0&&fe.nodeType!==3||(W=A+g),fe.nodeType===3&&(A+=fe.nodeValue.length),(je=fe.firstChild)!==null;)oe=fe,fe=je;for(;;){if(fe===l)break t;if(oe===f&&++re===w&&(R=A),oe===k&&++ce===g&&(W=A),(je=fe.nextSibling)!==null)break;fe=oe,oe=fe.parentNode}fe=je}f=R===-1||W===-1?null:{start:R,end:W}}else f=null}f=f||{start:0,end:0}}else f=null;for(uh={focusedElem:l,selectionRange:f},fd=!1,we=c;we!==null;)if(c=we,l=c.child,(c.subtreeFlags&1028)!==0&&l!==null)l.return=c,we=l;else for(;we!==null;){c=we;try{var _e=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var Pe=_e.memoizedProps,Yt=_e.memoizedState,V=c.stateNode,q=V.getSnapshotBeforeUpdate(c.elementType===c.type?Pe:ea(c.type,Pe),Yt);V.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var X=c.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(xe){Ut(c,c.return,xe)}if(l=c.sibling,l!==null){l.return=c.return,we=l;break}we=c.return}return _e=nw,nw=!1,_e}function Fo(l,c,f){var g=c.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&l)===l){var k=w.destroy;w.destroy=void 0,k!==void 0&&Jh(c,f,k)}w=w.next}while(w!==g)}}function Gd(l,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&l)===l){var g=f.create;f.destroy=g()}f=f.next}while(f!==c)}}function Qh(l){var c=l.ref;if(c!==null){var f=l.stateNode;switch(l.tag){case 5:l=f;break;default:l=f}typeof c=="function"?c(l):c.current=l}}function aw(l){var c=l.alternate;c!==null&&(l.alternate=null,aw(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&(delete c[ha],delete c[Po],delete c[ph],delete c[H3],delete c[K3])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function sw(l){return l.tag===5||l.tag===3||l.tag===4}function iw(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||sw(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function ep(l,c,f){var g=l.tag;if(g===5||g===6)l=l.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(l,c):f.insertBefore(l,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(l,f)):(c=f,c.appendChild(l)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=kd));else if(g!==4&&(l=l.child,l!==null))for(ep(l,c,f),l=l.sibling;l!==null;)ep(l,c,f),l=l.sibling}function tp(l,c,f){var g=l.tag;if(g===5||g===6)l=l.stateNode,c?f.insertBefore(l,c):f.appendChild(l);else if(g!==4&&(l=l.child,l!==null))for(tp(l,c,f),l=l.sibling;l!==null;)tp(l,c,f),l=l.sibling}var Sr=null,ta=!1;function Ns(l,c,f){for(f=f.child;f!==null;)lw(l,c,f),f=f.sibling}function lw(l,c,f){if(fa&&typeof fa.onCommitFiberUnmount=="function")try{fa.onCommitFiberUnmount(ld,f)}catch{}switch(f.tag){case 5:Br||sl(f,c);case 6:var g=Sr,w=ta;Sr=null,Ns(l,c,f),Sr=g,ta=w,Sr!==null&&(ta?(l=Sr,f=f.stateNode,l.nodeType===8?l.parentNode.removeChild(f):l.removeChild(f)):Sr.removeChild(f.stateNode));break;case 18:Sr!==null&&(ta?(l=Sr,f=f.stateNode,l.nodeType===8?hh(l.parentNode,f):l.nodeType===1&&hh(l,f),go(l)):hh(Sr,f.stateNode));break;case 4:g=Sr,w=ta,Sr=f.stateNode.containerInfo,ta=!0,Ns(l,c,f),Sr=g,ta=w;break;case 0:case 11:case 14:case 15:if(!Br&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){w=g=g.next;do{var k=w,A=k.destroy;k=k.tag,A!==void 0&&((k&2)!==0||(k&4)!==0)&&Jh(f,c,A),w=w.next}while(w!==g)}Ns(l,c,f);break;case 1:if(!Br&&(sl(f,c),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(R){Ut(f,c,R)}Ns(l,c,f);break;case 21:Ns(l,c,f);break;case 22:f.mode&1?(Br=(g=Br)||f.memoizedState!==null,Ns(l,c,f),Br=g):Ns(l,c,f);break;default:Ns(l,c,f)}}function ow(l){var c=l.updateQueue;if(c!==null){l.updateQueue=null;var f=l.stateNode;f===null&&(f=l.stateNode=new oE),c.forEach(function(g){var w=yE.bind(null,l,g);f.has(g)||(f.add(g),g.then(w,w))})}}function ra(l,c){var f=c.deletions;if(f!==null)for(var g=0;g<f.length;g++){var w=f[g];try{var k=l,A=c,R=A;e:for(;R!==null;){switch(R.tag){case 5:Sr=R.stateNode,ta=!1;break e;case 3:Sr=R.stateNode.containerInfo,ta=!0;break e;case 4:Sr=R.stateNode.containerInfo,ta=!0;break e}R=R.return}if(Sr===null)throw Error(n(160));lw(k,A,w),Sr=null,ta=!1;var W=w.alternate;W!==null&&(W.return=null),w.return=null}catch(re){Ut(w,c,re)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)cw(c,l),c=c.sibling}function cw(l,c){var f=l.alternate,g=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(ra(c,l),ga(l),g&4){try{Fo(3,l,l.return),Gd(3,l)}catch(Pe){Ut(l,l.return,Pe)}try{Fo(5,l,l.return)}catch(Pe){Ut(l,l.return,Pe)}}break;case 1:ra(c,l),ga(l),g&512&&f!==null&&sl(f,f.return);break;case 5:if(ra(c,l),ga(l),g&512&&f!==null&&sl(f,f.return),l.flags&32){var w=l.stateNode;try{sn(w,"")}catch(Pe){Ut(l,l.return,Pe)}}if(g&4&&(w=l.stateNode,w!=null)){var k=l.memoizedProps,A=f!==null?f.memoizedProps:k,R=l.type,W=l.updateQueue;if(l.updateQueue=null,W!==null)try{R==="input"&&k.type==="radio"&&k.name!=null&&Je(w,k),Xt(R,A);var re=Xt(R,k);for(A=0;A<W.length;A+=2){var ce=W[A],fe=W[A+1];ce==="style"?ot(w,fe):ce==="dangerouslySetInnerHTML"?yt(w,fe):ce==="children"?sn(w,fe):_(w,ce,fe,re)}switch(R){case"input":Qe(w,k);break;case"textarea":Te(w,k);break;case"select":var oe=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!k.multiple;var je=k.value;je!=null?jt(w,!!k.multiple,je,!1):oe!==!!k.multiple&&(k.defaultValue!=null?jt(w,!!k.multiple,k.defaultValue,!0):jt(w,!!k.multiple,k.multiple?[]:"",!1))}w[Po]=k}catch(Pe){Ut(l,l.return,Pe)}}break;case 6:if(ra(c,l),ga(l),g&4){if(l.stateNode===null)throw Error(n(162));w=l.stateNode,k=l.memoizedProps;try{w.nodeValue=k}catch(Pe){Ut(l,l.return,Pe)}}break;case 3:if(ra(c,l),ga(l),g&4&&f!==null&&f.memoizedState.isDehydrated)try{go(c.containerInfo)}catch(Pe){Ut(l,l.return,Pe)}break;case 4:ra(c,l),ga(l);break;case 13:ra(c,l),ga(l),w=l.child,w.flags&8192&&(k=w.memoizedState!==null,w.stateNode.isHidden=k,!k||w.alternate!==null&&w.alternate.memoizedState!==null||(ap=Gt())),g&4&&ow(l);break;case 22:if(ce=f!==null&&f.memoizedState!==null,l.mode&1?(Br=(re=Br)||ce,ra(c,l),Br=re):ra(c,l),ga(l),g&8192){if(re=l.memoizedState!==null,(l.stateNode.isHidden=re)&&!ce&&(l.mode&1)!==0)for(we=l,ce=l.child;ce!==null;){for(fe=we=ce;we!==null;){switch(oe=we,je=oe.child,oe.tag){case 0:case 11:case 14:case 15:Fo(4,oe,oe.return);break;case 1:sl(oe,oe.return);var _e=oe.stateNode;if(typeof _e.componentWillUnmount=="function"){g=oe,f=oe.return;try{c=g,_e.props=c.memoizedProps,_e.state=c.memoizedState,_e.componentWillUnmount()}catch(Pe){Ut(g,f,Pe)}}break;case 5:sl(oe,oe.return);break;case 22:if(oe.memoizedState!==null){mw(fe);continue}}je!==null?(je.return=oe,we=je):mw(fe)}ce=ce.sibling}e:for(ce=null,fe=l;;){if(fe.tag===5){if(ce===null){ce=fe;try{w=fe.stateNode,re?(k=w.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(R=fe.stateNode,W=fe.memoizedProps.style,A=W!=null&&W.hasOwnProperty("display")?W.display:null,R.style.display=he("display",A))}catch(Pe){Ut(l,l.return,Pe)}}}else if(fe.tag===6){if(ce===null)try{fe.stateNode.nodeValue=re?"":fe.memoizedProps}catch(Pe){Ut(l,l.return,Pe)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===l)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===l)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===l)break e;ce===fe&&(ce=null),fe=fe.return}ce===fe&&(ce=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:ra(c,l),ga(l),g&4&&ow(l);break;case 21:break;default:ra(c,l),ga(l)}}function ga(l){var c=l.flags;if(c&2){try{e:{for(var f=l.return;f!==null;){if(sw(f)){var g=f;break e}f=f.return}throw Error(n(160))}switch(g.tag){case 5:var w=g.stateNode;g.flags&32&&(sn(w,""),g.flags&=-33);var k=iw(l);tp(l,k,w);break;case 3:case 4:var A=g.stateNode.containerInfo,R=iw(l);ep(l,R,A);break;default:throw Error(n(161))}}catch(W){Ut(l,l.return,W)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function dE(l,c,f){we=l,dw(l)}function dw(l,c,f){for(var g=(l.mode&1)!==0;we!==null;){var w=we,k=w.child;if(w.tag===22&&g){var A=w.memoizedState!==null||Vd;if(!A){var R=w.alternate,W=R!==null&&R.memoizedState!==null||Br;R=Vd;var re=Br;if(Vd=A,(Br=W)&&!re)for(we=w;we!==null;)A=we,W=A.child,A.tag===22&&A.memoizedState!==null?fw(w):W!==null?(W.return=A,we=W):fw(w);for(;k!==null;)we=k,dw(k),k=k.sibling;we=w,Vd=R,Br=re}uw(l)}else(w.subtreeFlags&8772)!==0&&k!==null?(k.return=w,we=k):uw(l)}}function uw(l){for(;we!==null;){var c=we;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Br||Gd(5,c);break;case 1:var g=c.stateNode;if(c.flags&4&&!Br)if(f===null)g.componentDidMount();else{var w=c.elementType===c.type?f.memoizedProps:ea(c.type,f.memoizedProps);g.componentDidUpdate(w,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var k=c.updateQueue;k!==null&&mj(c,k,g);break;case 3:var A=c.updateQueue;if(A!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}mj(c,A,f)}break;case 5:var R=c.stateNode;if(f===null&&c.flags&4){f=R;var W=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&f.focus();break;case"img":W.src&&(f.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var re=c.alternate;if(re!==null){var ce=re.memoizedState;if(ce!==null){var fe=ce.dehydrated;fe!==null&&go(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Br||c.flags&512&&Qh(c)}catch(oe){Ut(c,c.return,oe)}}if(c===l){we=null;break}if(f=c.sibling,f!==null){f.return=c.return,we=f;break}we=c.return}}function mw(l){for(;we!==null;){var c=we;if(c===l){we=null;break}var f=c.sibling;if(f!==null){f.return=c.return,we=f;break}we=c.return}}function fw(l){for(;we!==null;){var c=we;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{Gd(4,c)}catch(W){Ut(c,f,W)}break;case 1:var g=c.stateNode;if(typeof g.componentDidMount=="function"){var w=c.return;try{g.componentDidMount()}catch(W){Ut(c,w,W)}}var k=c.return;try{Qh(c)}catch(W){Ut(c,k,W)}break;case 5:var A=c.return;try{Qh(c)}catch(W){Ut(c,A,W)}}}catch(W){Ut(c,c.return,W)}if(c===l){we=null;break}var R=c.sibling;if(R!==null){R.return=c.return,we=R;break}we=c.return}}var uE=Math.ceil,Yd=P.ReactCurrentDispatcher,rp=P.ReactCurrentOwner,Ln=P.ReactCurrentBatchConfig,nt=0,br=null,Jt=null,Cr=0,bn=0,il=ys(0),or=0,zo=null,si=0,Zd=0,np=0,Bo=null,dn=null,ap=0,ll=1/0,Fa=null,Xd=!1,sp=null,_s=null,Jd=!1,ks=null,Qd=0,Uo=0,ip=null,eu=-1,tu=0;function Zr(){return(nt&6)!==0?Gt():eu!==-1?eu:eu=Gt()}function Ss(l){return(l.mode&1)===0?1:(nt&2)!==0&&Cr!==0?Cr&-Cr:G3.transition!==null?(tu===0&&(tu=ib()),tu):(l=dt,l!==0||(l=window.event,l=l===void 0?16:pb(l.type)),l)}function na(l,c,f,g){if(50<Uo)throw Uo=0,ip=null,Error(n(185));mo(l,f,g),((nt&2)===0||l!==br)&&(l===br&&((nt&2)===0&&(Zd|=f),or===4&&Cs(l,Cr)),un(l,g),f===1&&nt===0&&(c.mode&1)===0&&(ll=Gt()+500,Ed&&bs()))}function un(l,c){var f=l.callbackNode;GP(l,c);var g=dd(l,l===br?Cr:0);if(g===0)f!==null&&nb(f),l.callbackNode=null,l.callbackPriority=0;else if(c=g&-g,l.callbackPriority!==c){if(f!=null&&nb(f),c===1)l.tag===0?V3(pw.bind(null,l)):ej(pw.bind(null,l)),W3(function(){(nt&6)===0&&bs()}),f=null;else{switch(lb(g)){case 1:f=Ff;break;case 4:f=ab;break;case 16:f=id;break;case 536870912:f=sb;break;default:f=id}f=Nw(f,hw.bind(null,l))}l.callbackPriority=c,l.callbackNode=f}}function hw(l,c){if(eu=-1,tu=0,(nt&6)!==0)throw Error(n(327));var f=l.callbackNode;if(ol()&&l.callbackNode!==f)return null;var g=dd(l,l===br?Cr:0);if(g===0)return null;if((g&30)!==0||(g&l.expiredLanes)!==0||c)c=ru(l,g);else{c=g;var w=nt;nt|=2;var k=gw();(br!==l||Cr!==c)&&(Fa=null,ll=Gt()+500,li(l,c));do try{hE();break}catch(R){xw(l,R)}while(!0);_h(),Yd.current=k,nt=w,Jt!==null?c=0:(br=null,Cr=0,c=or)}if(c!==0){if(c===2&&(w=zf(l),w!==0&&(g=w,c=lp(l,w))),c===1)throw f=zo,li(l,0),Cs(l,g),un(l,Gt()),f;if(c===6)Cs(l,g);else{if(w=l.current.alternate,(g&30)===0&&!mE(w)&&(c=ru(l,g),c===2&&(k=zf(l),k!==0&&(g=k,c=lp(l,k))),c===1))throw f=zo,li(l,0),Cs(l,g),un(l,Gt()),f;switch(l.finishedWork=w,l.finishedLanes=g,c){case 0:case 1:throw Error(n(345));case 2:oi(l,dn,Fa);break;case 3:if(Cs(l,g),(g&130023424)===g&&(c=ap+500-Gt(),10<c)){if(dd(l,0)!==0)break;if(w=l.suspendedLanes,(w&g)!==g){Zr(),l.pingedLanes|=l.suspendedLanes&w;break}l.timeoutHandle=fh(oi.bind(null,l,dn,Fa),c);break}oi(l,dn,Fa);break;case 4:if(Cs(l,g),(g&4194240)===g)break;for(c=l.eventTimes,w=-1;0<g;){var A=31-Xn(g);k=1<<A,A=c[A],A>w&&(w=A),g&=~k}if(g=w,g=Gt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*uE(g/1960))-g,10<g){l.timeoutHandle=fh(oi.bind(null,l,dn,Fa),g);break}oi(l,dn,Fa);break;case 5:oi(l,dn,Fa);break;default:throw Error(n(329))}}}return un(l,Gt()),l.callbackNode===f?hw.bind(null,l):null}function lp(l,c){var f=Bo;return l.current.memoizedState.isDehydrated&&(li(l,c).flags|=256),l=ru(l,c),l!==2&&(c=dn,dn=f,c!==null&&op(c)),l}function op(l){dn===null?dn=l:dn.push.apply(dn,l)}function mE(l){for(var c=l;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var w=f[g],k=w.getSnapshot;w=w.value;try{if(!Jn(k(),w))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Cs(l,c){for(c&=~np,c&=~Zd,l.suspendedLanes|=c,l.pingedLanes&=~c,l=l.expirationTimes;0<c;){var f=31-Xn(c),g=1<<f;l[f]=-1,c&=~g}}function pw(l){if((nt&6)!==0)throw Error(n(327));ol();var c=dd(l,0);if((c&1)===0)return un(l,Gt()),null;var f=ru(l,c);if(l.tag!==0&&f===2){var g=zf(l);g!==0&&(c=g,f=lp(l,g))}if(f===1)throw f=zo,li(l,0),Cs(l,c),un(l,Gt()),f;if(f===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=c,oi(l,dn,Fa),un(l,Gt()),null}function cp(l,c){var f=nt;nt|=1;try{return l(c)}finally{nt=f,nt===0&&(ll=Gt()+500,Ed&&bs())}}function ii(l){ks!==null&&ks.tag===0&&(nt&6)===0&&ol();var c=nt;nt|=1;var f=Ln.transition,g=dt;try{if(Ln.transition=null,dt=1,l)return l()}finally{dt=g,Ln.transition=f,nt=c,(nt&6)===0&&bs()}}function dp(){bn=il.current,St(il)}function li(l,c){l.finishedWork=null,l.finishedLanes=0;var f=l.timeoutHandle;if(f!==-1&&(l.timeoutHandle=-1,U3(f)),Jt!==null)for(f=Jt.return;f!==null;){var g=f;switch(vh(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Cd();break;case 3:nl(),St(ln),St(Rr),Th();break;case 5:Oh(g);break;case 4:nl();break;case 13:St(Lt);break;case 19:St(Lt);break;case 10:kh(g.type._context);break;case 22:case 23:dp()}f=f.return}if(br=l,Jt=l=Ps(l.current,null),Cr=bn=c,or=0,zo=null,np=Zd=si=0,dn=Bo=null,ri!==null){for(c=0;c<ri.length;c++)if(f=ri[c],g=f.interleaved,g!==null){f.interleaved=null;var w=g.next,k=f.pending;if(k!==null){var A=k.next;k.next=w,g.next=A}f.pending=g}ri=null}return l}function xw(l,c){do{var f=Jt;try{if(_h(),Fd.current=Wd,zd){for(var g=Rt.memoizedState;g!==null;){var w=g.queue;w!==null&&(w.pending=null),g=g.next}zd=!1}if(ai=0,vr=lr=Rt=null,Do=!1,$o=0,rp.current=null,f===null||f.return===null){or=1,zo=c,Jt=null;break}e:{var k=l,A=f.return,R=f,W=c;if(c=Cr,R.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var re=W,ce=R,fe=ce.tag;if((ce.mode&1)===0&&(fe===0||fe===11||fe===15)){var oe=ce.alternate;oe?(ce.updateQueue=oe.updateQueue,ce.memoizedState=oe.memoizedState,ce.lanes=oe.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var je=Bj(A);if(je!==null){je.flags&=-257,Uj(je,A,R,k,c),je.mode&1&&zj(k,re,c),c=je,W=re;var _e=c.updateQueue;if(_e===null){var Pe=new Set;Pe.add(W),c.updateQueue=Pe}else _e.add(W);break e}else{if((c&1)===0){zj(k,re,c),up();break e}W=Error(n(426))}}else if(At&&R.mode&1){var Yt=Bj(A);if(Yt!==null){(Yt.flags&65536)===0&&(Yt.flags|=256),Uj(Yt,A,R,k,c),wh(al(W,R));break e}}k=W=al(W,R),or!==4&&(or=2),Bo===null?Bo=[k]:Bo.push(k),k=A;do{switch(k.tag){case 3:k.flags|=65536,c&=-c,k.lanes|=c;var V=Rj(k,W,c);uj(k,V);break e;case 1:R=W;var q=k.type,X=k.stateNode;if((k.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(_s===null||!_s.has(X)))){k.flags|=65536,c&=-c,k.lanes|=c;var xe=Fj(k,R,c);uj(k,xe);break e}}k=k.return}while(k!==null)}vw(f)}catch(Ee){c=Ee,Jt===f&&f!==null&&(Jt=f=f.return);continue}break}while(!0)}function gw(){var l=Yd.current;return Yd.current=Wd,l===null?Wd:l}function up(){(or===0||or===3||or===2)&&(or=4),br===null||(si&268435455)===0&&(Zd&268435455)===0||Cs(br,Cr)}function ru(l,c){var f=nt;nt|=2;var g=gw();(br!==l||Cr!==c)&&(Fa=null,li(l,c));do try{fE();break}catch(w){xw(l,w)}while(!0);if(_h(),nt=f,Yd.current=g,Jt!==null)throw Error(n(261));return br=null,Cr=0,or}function fE(){for(;Jt!==null;)yw(Jt)}function hE(){for(;Jt!==null&&!FP();)yw(Jt)}function yw(l){var c=ww(l.alternate,l,bn);l.memoizedProps=l.pendingProps,c===null?vw(l):Jt=c,rp.current=null}function vw(l){var c=l;do{var f=c.alternate;if(l=c.return,(c.flags&32768)===0){if(f=iE(f,c,bn),f!==null){Jt=f;return}}else{if(f=lE(f,c),f!==null){f.flags&=32767,Jt=f;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{or=6,Jt=null;return}}if(c=c.sibling,c!==null){Jt=c;return}Jt=c=l}while(c!==null);or===0&&(or=5)}function oi(l,c,f){var g=dt,w=Ln.transition;try{Ln.transition=null,dt=1,pE(l,c,f,g)}finally{Ln.transition=w,dt=g}return null}function pE(l,c,f,g){do ol();while(ks!==null);if((nt&6)!==0)throw Error(n(327));f=l.finishedWork;var w=l.finishedLanes;if(f===null)return null;if(l.finishedWork=null,l.finishedLanes=0,f===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var k=f.lanes|f.childLanes;if(YP(l,k),l===br&&(Jt=br=null,Cr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Jd||(Jd=!0,Nw(id,function(){return ol(),null})),k=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||k){k=Ln.transition,Ln.transition=null;var A=dt;dt=1;var R=nt;nt|=4,rp.current=null,cE(l,f),cw(f,l),$3(uh),fd=!!dh,uh=dh=null,l.current=f,dE(f),zP(),nt=R,dt=A,Ln.transition=k}else l.current=f;if(Jd&&(Jd=!1,ks=l,Qd=w),k=l.pendingLanes,k===0&&(_s=null),WP(f.stateNode),un(l,Gt()),c!==null)for(g=l.onRecoverableError,f=0;f<c.length;f++)w=c[f],g(w.value,{componentStack:w.stack,digest:w.digest});if(Xd)throw Xd=!1,l=sp,sp=null,l;return(Qd&1)!==0&&l.tag!==0&&ol(),k=l.pendingLanes,(k&1)!==0?l===ip?Uo++:(Uo=0,ip=l):Uo=0,bs(),null}function ol(){if(ks!==null){var l=lb(Qd),c=Ln.transition,f=dt;try{if(Ln.transition=null,dt=16>l?16:l,ks===null)var g=!1;else{if(l=ks,ks=null,Qd=0,(nt&6)!==0)throw Error(n(331));var w=nt;for(nt|=4,we=l.current;we!==null;){var k=we,A=k.child;if((we.flags&16)!==0){var R=k.deletions;if(R!==null){for(var W=0;W<R.length;W++){var re=R[W];for(we=re;we!==null;){var ce=we;switch(ce.tag){case 0:case 11:case 15:Fo(8,ce,k)}var fe=ce.child;if(fe!==null)fe.return=ce,we=fe;else for(;we!==null;){ce=we;var oe=ce.sibling,je=ce.return;if(aw(ce),ce===re){we=null;break}if(oe!==null){oe.return=je,we=oe;break}we=je}}}var _e=k.alternate;if(_e!==null){var Pe=_e.child;if(Pe!==null){_e.child=null;do{var Yt=Pe.sibling;Pe.sibling=null,Pe=Yt}while(Pe!==null)}}we=k}}if((k.subtreeFlags&2064)!==0&&A!==null)A.return=k,we=A;else e:for(;we!==null;){if(k=we,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:Fo(9,k,k.return)}var V=k.sibling;if(V!==null){V.return=k.return,we=V;break e}we=k.return}}var q=l.current;for(we=q;we!==null;){A=we;var X=A.child;if((A.subtreeFlags&2064)!==0&&X!==null)X.return=A,we=X;else e:for(A=q;we!==null;){if(R=we,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Gd(9,R)}}catch(Ee){Ut(R,R.return,Ee)}if(R===A){we=null;break e}var xe=R.sibling;if(xe!==null){xe.return=R.return,we=xe;break e}we=R.return}}if(nt=w,bs(),fa&&typeof fa.onPostCommitFiberRoot=="function")try{fa.onPostCommitFiberRoot(ld,l)}catch{}g=!0}return g}finally{dt=f,Ln.transition=c}}return!1}function bw(l,c,f){c=al(f,c),c=Rj(l,c,1),l=ws(l,c,1),c=Zr(),l!==null&&(mo(l,1,c),un(l,c))}function Ut(l,c,f){if(l.tag===3)bw(l,l,f);else for(;c!==null;){if(c.tag===3){bw(c,l,f);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(_s===null||!_s.has(g))){l=al(f,l),l=Fj(c,l,1),c=ws(c,l,1),l=Zr(),c!==null&&(mo(c,1,l),un(c,l));break}}c=c.return}}function xE(l,c,f){var g=l.pingCache;g!==null&&g.delete(c),c=Zr(),l.pingedLanes|=l.suspendedLanes&f,br===l&&(Cr&f)===f&&(or===4||or===3&&(Cr&130023424)===Cr&&500>Gt()-ap?li(l,0):np|=f),un(l,c)}function jw(l,c){c===0&&((l.mode&1)===0?c=1:(c=cd,cd<<=1,(cd&130023424)===0&&(cd=4194304)));var f=Zr();l=Ia(l,c),l!==null&&(mo(l,c,f),un(l,f))}function gE(l){var c=l.memoizedState,f=0;c!==null&&(f=c.retryLane),jw(l,f)}function yE(l,c){var f=0;switch(l.tag){case 13:var g=l.stateNode,w=l.memoizedState;w!==null&&(f=w.retryLane);break;case 19:g=l.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(c),jw(l,f)}var ww;ww=function(l,c,f){if(l!==null)if(l.memoizedProps!==c.pendingProps||ln.current)cn=!0;else{if((l.lanes&f)===0&&(c.flags&128)===0)return cn=!1,sE(l,c,f);cn=(l.flags&131072)!==0}else cn=!1,At&&(c.flags&1048576)!==0&&tj(c,Ad,c.index);switch(c.lanes=0,c.tag){case 2:var g=c.type;Kd(l,c),l=c.pendingProps;var w=Zi(c,Rr.current);rl(c,f),w=$h(null,c,g,l,w,f);var k=Ih();return c.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,on(g)?(k=!0,Pd(c)):k=!1,c.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Ph(c),w.updater=qd,c.stateNode=w,w._reactInternals=c,Uh(c,g,l,f),c=Kh(null,c,g,!0,k,f)):(c.tag=0,At&&k&&yh(c),Yr(null,c,w,f),c=c.child),c;case 16:g=c.elementType;e:{switch(Kd(l,c),l=c.pendingProps,w=g._init,g=w(g._payload),c.type=g,w=c.tag=bE(g),l=ea(g,l),w){case 0:c=Hh(null,c,g,l,f);break e;case 1:c=Gj(null,c,g,l,f);break e;case 11:c=Wj(null,c,g,l,f);break e;case 14:c=qj(null,c,g,ea(g.type,l),f);break e}throw Error(n(306,g,""))}return c;case 0:return g=c.type,w=c.pendingProps,w=c.elementType===g?w:ea(g,w),Hh(l,c,g,w,f);case 1:return g=c.type,w=c.pendingProps,w=c.elementType===g?w:ea(g,w),Gj(l,c,g,w,f);case 3:e:{if(Yj(c),l===null)throw Error(n(387));g=c.pendingProps,k=c.memoizedState,w=k.element,dj(l,c),Ld(c,g,null,f);var A=c.memoizedState;if(g=A.element,k.isDehydrated)if(k={element:g,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},c.updateQueue.baseState=k,c.memoizedState=k,c.flags&256){w=al(Error(n(423)),c),c=Zj(l,c,g,f,w);break e}else if(g!==w){w=al(Error(n(424)),c),c=Zj(l,c,g,f,w);break e}else for(vn=gs(c.stateNode.containerInfo.firstChild),yn=c,At=!0,Qn=null,f=oj(c,null,g,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Qi(),g===w){c=Ra(l,c,f);break e}Yr(l,c,g,f)}c=c.child}return c;case 5:return fj(c),l===null&&jh(c),g=c.type,w=c.pendingProps,k=l!==null?l.memoizedProps:null,A=w.children,mh(g,w)?A=null:k!==null&&mh(g,k)&&(c.flags|=32),Vj(l,c),Yr(l,c,A,f),c.child;case 6:return l===null&&jh(c),null;case 13:return Xj(l,c,f);case 4:return Eh(c,c.stateNode.containerInfo),g=c.pendingProps,l===null?c.child=el(c,null,g,f):Yr(l,c,g,f),c.child;case 11:return g=c.type,w=c.pendingProps,w=c.elementType===g?w:ea(g,w),Wj(l,c,g,w,f);case 7:return Yr(l,c,c.pendingProps,f),c.child;case 8:return Yr(l,c,c.pendingProps.children,f),c.child;case 12:return Yr(l,c,c.pendingProps.children,f),c.child;case 10:e:{if(g=c.type._context,w=c.pendingProps,k=c.memoizedProps,A=w.value,wt(Dd,g._currentValue),g._currentValue=A,k!==null)if(Jn(k.value,A)){if(k.children===w.children&&!ln.current){c=Ra(l,c,f);break e}}else for(k=c.child,k!==null&&(k.return=c);k!==null;){var R=k.dependencies;if(R!==null){A=k.child;for(var W=R.firstContext;W!==null;){if(W.context===g){if(k.tag===1){W=La(-1,f&-f),W.tag=2;var re=k.updateQueue;if(re!==null){re=re.shared;var ce=re.pending;ce===null?W.next=W:(W.next=ce.next,ce.next=W),re.pending=W}}k.lanes|=f,W=k.alternate,W!==null&&(W.lanes|=f),Sh(k.return,f,c),R.lanes|=f;break}W=W.next}}else if(k.tag===10)A=k.type===c.type?null:k.child;else if(k.tag===18){if(A=k.return,A===null)throw Error(n(341));A.lanes|=f,R=A.alternate,R!==null&&(R.lanes|=f),Sh(A,f,c),A=k.sibling}else A=k.child;if(A!==null)A.return=k;else for(A=k;A!==null;){if(A===c){A=null;break}if(k=A.sibling,k!==null){k.return=A.return,A=k;break}A=A.return}k=A}Yr(l,c,w.children,f),c=c.child}return c;case 9:return w=c.type,g=c.pendingProps.children,rl(c,f),w=$n(w),g=g(w),c.flags|=1,Yr(l,c,g,f),c.child;case 14:return g=c.type,w=ea(g,c.pendingProps),w=ea(g.type,w),qj(l,c,g,w,f);case 15:return Hj(l,c,c.type,c.pendingProps,f);case 17:return g=c.type,w=c.pendingProps,w=c.elementType===g?w:ea(g,w),Kd(l,c),c.tag=1,on(g)?(l=!0,Pd(c)):l=!1,rl(c,f),Ij(c,g,w),Uh(c,g,w,f),Kh(null,c,g,!0,l,f);case 19:return Qj(l,c,f);case 22:return Kj(l,c,f)}throw Error(n(156,c.tag))};function Nw(l,c){return rb(l,c)}function vE(l,c,f,g){this.tag=l,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(l,c,f,g){return new vE(l,c,f,g)}function mp(l){return l=l.prototype,!(!l||!l.isReactComponent)}function bE(l){if(typeof l=="function")return mp(l)?1:0;if(l!=null){if(l=l.$$typeof,l===F)return 11;if(l===G)return 14}return 2}function Ps(l,c){var f=l.alternate;return f===null?(f=Rn(l.tag,c,l.key,l.mode),f.elementType=l.elementType,f.type=l.type,f.stateNode=l.stateNode,f.alternate=l,l.alternate=f):(f.pendingProps=c,f.type=l.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=l.flags&14680064,f.childLanes=l.childLanes,f.lanes=l.lanes,f.child=l.child,f.memoizedProps=l.memoizedProps,f.memoizedState=l.memoizedState,f.updateQueue=l.updateQueue,c=l.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=l.sibling,f.index=l.index,f.ref=l.ref,f}function nu(l,c,f,g,w,k){var A=2;if(g=l,typeof l=="function")mp(l)&&(A=1);else if(typeof l=="string")A=5;else e:switch(l){case T:return ci(f.children,w,k,c);case $:A=8,w|=8;break;case D:return l=Rn(12,f,c,w|2),l.elementType=D,l.lanes=k,l;case M:return l=Rn(13,f,c,w),l.elementType=M,l.lanes=k,l;case B:return l=Rn(19,f,c,w),l.elementType=B,l.lanes=k,l;case L:return au(f,w,k,c);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case z:A=10;break e;case I:A=9;break e;case F:A=11;break e;case G:A=14;break e;case ee:A=16,g=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return c=Rn(A,f,c,w),c.elementType=l,c.type=g,c.lanes=k,c}function ci(l,c,f,g){return l=Rn(7,l,g,c),l.lanes=f,l}function au(l,c,f,g){return l=Rn(22,l,g,c),l.elementType=L,l.lanes=f,l.stateNode={isHidden:!1},l}function fp(l,c,f){return l=Rn(6,l,null,c),l.lanes=f,l}function hp(l,c,f){return c=Rn(4,l.children!==null?l.children:[],l.key,c),c.lanes=f,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}function jE(l,c,f,g,w){this.tag=c,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bf(0),this.expirationTimes=Bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bf(0),this.identifierPrefix=g,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function pp(l,c,f,g,w,k,A,R,W){return l=new jE(l,c,f,R,W),c===1?(c=1,k===!0&&(c|=8)):c=0,k=Rn(3,null,null,c),l.current=k,k.stateNode=l,k.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ph(k),l}function wE(l,c,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:g==null?null:""+g,children:l,containerInfo:c,implementation:f}}function _w(l){if(!l)return vs;l=l._reactInternals;e:{if(Xs(l)!==l||l.tag!==1)throw Error(n(170));var c=l;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(on(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(l.tag===1){var f=l.type;if(on(f))return Jb(l,f,c)}return c}function kw(l,c,f,g,w,k,A,R,W){return l=pp(f,g,!0,l,w,k,A,R,W),l.context=_w(null),f=l.current,g=Zr(),w=Ss(f),k=La(g,w),k.callback=c??null,ws(f,k,w),l.current.lanes=w,mo(l,w,g),un(l,g),l}function su(l,c,f,g){var w=c.current,k=Zr(),A=Ss(w);return f=_w(f),c.context===null?c.context=f:c.pendingContext=f,c=La(k,A),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=ws(w,c,A),l!==null&&(na(l,w,A,k),Id(l,w,A)),A}function iu(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function Sw(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var f=l.retryLane;l.retryLane=f!==0&&f<c?f:c}}function xp(l,c){Sw(l,c),(l=l.alternate)&&Sw(l,c)}function NE(){return null}var Cw=typeof reportError=="function"?reportError:function(l){console.error(l)};function gp(l){this._internalRoot=l}lu.prototype.render=gp.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(n(409));su(l,c,null,null)},lu.prototype.unmount=gp.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;ii(function(){su(null,l,null,null)}),c[Ta]=null}};function lu(l){this._internalRoot=l}lu.prototype.unstable_scheduleHydration=function(l){if(l){var c=db();l={blockedOn:null,target:l,priority:c};for(var f=0;f<hs.length&&c!==0&&c<hs[f].priority;f++);hs.splice(f,0,l),f===0&&fb(l)}};function yp(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function ou(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function Pw(){}function _E(l,c,f,g,w){if(w){if(typeof g=="function"){var k=g;g=function(){var re=iu(A);k.call(re)}}var A=kw(c,g,l,0,null,!1,!1,"",Pw);return l._reactRootContainer=A,l[Ta]=A.current,So(l.nodeType===8?l.parentNode:l),ii(),A}for(;w=l.lastChild;)l.removeChild(w);if(typeof g=="function"){var R=g;g=function(){var re=iu(W);R.call(re)}}var W=pp(l,0,!1,null,null,!1,!1,"",Pw);return l._reactRootContainer=W,l[Ta]=W.current,So(l.nodeType===8?l.parentNode:l),ii(function(){su(c,W,f,g)}),W}function cu(l,c,f,g,w){var k=f._reactRootContainer;if(k){var A=k;if(typeof w=="function"){var R=w;w=function(){var W=iu(A);R.call(W)}}su(c,A,l,w)}else A=_E(f,c,l,w,g);return iu(A)}ob=function(l){switch(l.tag){case 3:var c=l.stateNode;if(c.current.memoizedState.isDehydrated){var f=uo(c.pendingLanes);f!==0&&(Uf(c,f|1),un(c,Gt()),(nt&6)===0&&(ll=Gt()+500,bs()))}break;case 13:ii(function(){var g=Ia(l,1);if(g!==null){var w=Zr();na(g,l,1,w)}}),xp(l,1)}},Wf=function(l){if(l.tag===13){var c=Ia(l,134217728);if(c!==null){var f=Zr();na(c,l,134217728,f)}xp(l,134217728)}},cb=function(l){if(l.tag===13){var c=Ss(l),f=Ia(l,c);if(f!==null){var g=Zr();na(f,l,c,g)}xp(l,c)}},db=function(){return dt},ub=function(l,c){var f=dt;try{return dt=l,c()}finally{dt=f}},pe=function(l,c,f){switch(c){case"input":if(Qe(l,f),c=f.name,f.type==="radio"&&c!=null){for(f=l;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var g=f[c];if(g!==l&&g.form===l.form){var w=Sd(g);if(!w)throw Error(n(90));le(g),Qe(g,w)}}}break;case"textarea":Te(l,f);break;case"select":c=f.value,c!=null&&jt(l,!!f.multiple,c,!1)}},kr=cp,Zv=ii;var kE={usingClientEntryPoint:!1,Events:[Eo,Gi,Sd,Aa,_t,cp]},Wo={findFiberByHostInstance:Js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SE={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=eb(l),l===null?null:l.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||NE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{ld=du.inject(SE),fa=du}catch{}}return mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kE,mn.createPortal=function(l,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yp(c))throw Error(n(200));return wE(l,c,null,f)},mn.createRoot=function(l,c){if(!yp(l))throw Error(n(299));var f=!1,g="",w=Cw;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onRecoverableError!==void 0&&(w=c.onRecoverableError)),c=pp(l,1,!1,null,null,f,!1,g,w),l[Ta]=c.current,So(l.nodeType===8?l.parentNode:l),new gp(c)},mn.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=eb(c),l=l===null?null:l.stateNode,l},mn.flushSync=function(l){return ii(l)},mn.hydrate=function(l,c,f){if(!ou(c))throw Error(n(200));return cu(null,l,c,!0,f)},mn.hydrateRoot=function(l,c,f){if(!yp(l))throw Error(n(405));var g=f!=null&&f.hydratedSources||null,w=!1,k="",A=Cw;if(f!=null&&(f.unstable_strictMode===!0&&(w=!0),f.identifierPrefix!==void 0&&(k=f.identifierPrefix),f.onRecoverableError!==void 0&&(A=f.onRecoverableError)),c=kw(c,null,l,1,f??null,w,!1,k,A),l[Ta]=c.current,So(l),g)for(l=0;l<g.length;l++)f=g[l],w=f._getVersion,w=w(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,w]:c.mutableSourceEagerHydrationData.push(f,w);return new lu(c)},mn.render=function(l,c,f){if(!ou(c))throw Error(n(200));return cu(null,l,c,!1,f)},mn.unmountComponentAtNode=function(l){if(!ou(l))throw Error(n(40));return l._reactRootContainer?(ii(function(){cu(null,null,l,!1,function(){l._reactRootContainer=null,l[Ta]=null})}),!0):!1},mn.unstable_batchedUpdates=cp,mn.unstable_renderSubtreeIntoContainer=function(l,c,f,g){if(!ou(f))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return cu(l,c,f,!1,g)},mn.version="18.3.1-next-f1338f8080-20240426",mn}var Iw;function Ak(){if(Iw)return jp.exports;Iw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),jp.exports=RE(),jp.exports}var Lw;function FE(){if(Lw)return uu;Lw=1;var e=Ak();return uu.createRoot=e.createRoot,uu.hydrateRoot=e.hydrateRoot,uu}var zE=FE();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rw="popstate";function BE(e={}){function r(a,s){let{pathname:i,search:o,hash:d}=a.location;return y0("",{pathname:i,search:o,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:cc(s)}return WE(r,n,null,e)}function Dt(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function Hn(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function UE(){return Math.random().toString(36).substring(2,10)}function Fw(e,r){return{usr:e.state,key:e.key,idx:r}}function y0(e,r,n=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof r=="string"?Wl(r):r,state:n,key:r&&r.key||a||UE()}}function cc({pathname:e="/",search:r="",hash:n=""}){return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Wl(e){let r={};if(e){let n=e.indexOf("#");n>=0&&(r.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(r.search=e.substring(a),e=e.substring(0,a)),e&&(r.pathname=e)}return r}function WE(e,r,n,a={}){let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,d="POP",u=null,h=m();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function m(){return(o.state||{idx:null}).idx}function p(){d="POP";let N=m(),S=N==null?null:N-h;h=N,u&&u({action:d,location:b.location,delta:S})}function y(N,S){d="PUSH";let C=y0(b.location,N,S);h=m()+1;let _=Fw(C,h),P=b.createHref(C);try{o.pushState(_,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(P)}i&&u&&u({action:d,location:b.location,delta:1})}function v(N,S){d="REPLACE";let C=y0(b.location,N,S);h=m();let _=Fw(C,h),P=b.createHref(C);o.replaceState(_,"",P),i&&u&&u({action:d,location:b.location,delta:0})}function j(N){return qE(N)}let b={get action(){return d},get location(){return e(s,o)},listen(N){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Rw,p),u=N,()=>{s.removeEventListener(Rw,p),u=null}},createHref(N){return r(s,N)},createURL:j,encodeLocation(N){let S=j(N);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:v,go(N){return o.go(N)}};return b}function qE(e,r=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:cc(e);return a=a.replace(/ $/,"%20"),!r&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function Tk(e,r,n="/"){return HE(e,r,n,!1)}function HE(e,r,n,a){let s=typeof r=="string"?Wl(r):r,i=Za(s.pathname||"/",n);if(i==null)return null;let o=Mk(e);KE(o);let d=null;for(let u=0;d==null&&u<o.length;++u){let h=nO(i);d=tO(o[u],h,a)}return d}function Mk(e,r=[],n=[],a="",s=!1){let i=(o,d,u=s,h)=>{let m={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:d,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(a)&&u)return;Dt(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length)}let p=Ka([a,m.relativePath]),y=n.concat(m);o.children&&o.children.length>0&&(Dt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Mk(o.children,r,y,p,u)),!(o.path==null&&!o.index)&&r.push({path:p,score:QE(p,o.index),routesMeta:y})};return e.forEach((o,d)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,d);else for(let h of Dk(o.path))i(o,d,!0,h)}),r}function Dk(e){let r=e.split("/");if(r.length===0)return[];let[n,...a]=r,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let o=Dk(a.join("/")),d=[];return d.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&d.push(...o),d.map(u=>e.startsWith("/")&&u===""?"/":u)}function KE(e){e.sort((r,n)=>r.score!==n.score?n.score-r.score:eO(r.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var VE=/^:[\w-]+$/,GE=3,YE=2,ZE=1,XE=10,JE=-2,zw=e=>e==="*";function QE(e,r){let n=e.split("/"),a=n.length;return n.some(zw)&&(a+=JE),r&&(a+=YE),n.filter(s=>!zw(s)).reduce((s,i)=>s+(VE.test(i)?GE:i===""?ZE:XE),a)}function eO(e,r){return e.length===r.length&&e.slice(0,-1).every((a,s)=>a===r[s])?e[e.length-1]-r[r.length-1]:0}function tO(e,r,n=!1){let{routesMeta:a}=e,s={},i="/",o=[];for(let d=0;d<a.length;++d){let u=a[d],h=d===a.length-1,m=i==="/"?r:r.slice(i.length)||"/",p=qu({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},m),y=u.route;if(!p&&h&&n&&!a[a.length-1].route.index&&(p=qu({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Ka([i,p.pathname]),pathnameBase:lO(Ka([i,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(i=Ka([i,p.pathnameBase]))}return o}function qu(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=rO(e.path,e.caseSensitive,e.end),s=r.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:a.reduce((h,{paramName:m,isOptional:p},y)=>{if(m==="*"){let j=d[y]||"";o=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const v=d[y];return p&&!v?h[m]=void 0:h[m]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:e}}function rO(e,r=!1,n=!0){Hn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,d,u)=>(a.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,r?void 0:"i"),a]}function nO(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Hn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),e}}function Za(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function aO(e,r="/"){let{pathname:n,search:a="",hash:s=""}=typeof e=="string"?Wl(e):e;return{pathname:n?n.startsWith("/")?n:sO(n,r):r,search:oO(a),hash:cO(s)}}function sO(e,r){let n=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function _p(e,r,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${r}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iO(e){return e.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function Og(e){let r=iO(e);return r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase)}function Ag(e,r,n,a=!1){let s;typeof e=="string"?s=Wl(e):(s={...e},Dt(!s.pathname||!s.pathname.includes("?"),_p("?","pathname","search",s)),Dt(!s.pathname||!s.pathname.includes("#"),_p("#","pathname","hash",s)),Dt(!s.search||!s.search.includes("#"),_p("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,d;if(o==null)d=n;else{let p=r.length-1;if(!a&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;s.pathname=y.join("/")}d=p>=0?r[p]:"/"}let u=aO(s,d),h=o&&o!=="/"&&o.endsWith("/"),m=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||m)&&(u.pathname+="/"),u}var Ka=e=>e.join("/").replace(/\/\/+/g,"/"),lO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var $k=["POST","PUT","PATCH","DELETE"];new Set($k);var uO=["GET",...$k];new Set(uO);var ql=x.createContext(null);ql.displayName="DataRouter";var Bm=x.createContext(null);Bm.displayName="DataRouterState";x.createContext(!1);var Ik=x.createContext({isTransitioning:!1});Ik.displayName="ViewTransition";var mO=x.createContext(new Map);mO.displayName="Fetchers";var fO=x.createContext(null);fO.displayName="Await";var ca=x.createContext(null);ca.displayName="Navigation";var Pc=x.createContext(null);Pc.displayName="Location";var da=x.createContext({outlet:null,matches:[],isDataRoute:!1});da.displayName="Route";var Tg=x.createContext(null);Tg.displayName="RouteError";function hO(e,{relative:r}={}){Dt(Hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=x.useContext(ca),{hash:s,pathname:i,search:o}=Ec(e,{relative:r}),d=i;return n!=="/"&&(d=i==="/"?n:Ka([n,i])),a.createHref({pathname:d,search:o,hash:s})}function Hl(){return x.useContext(Pc)!=null}function an(){return Dt(Hl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Pc).location}var Lk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rk(e){x.useContext(ca).static||x.useLayoutEffect(e)}function ar(){let{isDataRoute:e}=x.useContext(da);return e?CO():pO()}function pO(){Dt(Hl(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(ql),{basename:r,navigator:n}=x.useContext(ca),{matches:a}=x.useContext(da),{pathname:s}=an(),i=JSON.stringify(Og(a)),o=x.useRef(!1);return Rk(()=>{o.current=!0}),x.useCallback((u,h={})=>{if(Hn(o.current,Lk),!o.current)return;if(typeof u=="number"){n.go(u);return}let m=Ag(u,JSON.parse(i),s,h.relative==="path");e==null&&r!=="/"&&(m.pathname=m.pathname==="/"?r:Ka([r,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[r,n,i,s,e])}x.createContext(null);function Kl(){let{matches:e}=x.useContext(da),r=e[e.length-1];return r?r.params:{}}function Ec(e,{relative:r}={}){let{matches:n}=x.useContext(da),{pathname:a}=an(),s=JSON.stringify(Og(n));return x.useMemo(()=>Ag(e,JSON.parse(s),a,r==="path"),[e,s,a,r])}function xO(e,r){return Fk(e,r)}function Fk(e,r,n,a,s){var C;Dt(Hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(ca),{matches:o}=x.useContext(da),d=o[o.length-1],u=d?d.params:{},h=d?d.pathname:"/",m=d?d.pathnameBase:"/",p=d&&d.route;{let _=p&&p.path||"";zk(h,!p||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let y=an(),v;if(r){let _=typeof r=="string"?Wl(r):r;Dt(m==="/"||((C=_.pathname)==null?void 0:C.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${_.pathname}" was given in the \`location\` prop.`),v=_}else v=y;let j=v.pathname||"/",b=j;if(m!=="/"){let _=m.replace(/^\//,"").split("/");b="/"+j.replace(/^\//,"").split("/").slice(_.length).join("/")}let N=Tk(e,{pathname:b});Hn(p||N!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Hn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=jO(N&&N.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:Ka([m,i.encodeLocation?i.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?m:Ka([m,i.encodeLocation?i.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),o,n,a,s);return r&&S?x.createElement(Pc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function gO(){let e=SO(),r=dO(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:i},"ErrorBoundary")," or"," ",x.createElement("code",{style:i},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},r),n?x.createElement("pre",{style:s},n):null,o)}var yO=x.createElement(gO,null),vO=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){this.props.unstable_onError?this.props.unstable_onError(e,r):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(da.Provider,{value:this.props.routeContext},x.createElement(Tg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bO({routeContext:e,match:r,children:n}){let a=x.useContext(ql);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(da.Provider,{value:e},n)}function jO(e,r=[],n=null,a=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(r.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let h=i.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);Dt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let d=!1,u=-1;if(n)for(let h=0;h<i.length;h++){let m=i[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:p,errors:y}=n,v=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||v){d=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,m,p)=>{let y,v=!1,j=null,b=null;n&&(y=o&&m.route.id?o[m.route.id]:void 0,j=m.route.errorElement||yO,d&&(u<0&&p===0?(zk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):u===p&&(v=!0,b=m.route.hydrateFallbackElement||null)));let N=r.concat(i.slice(0,p+1)),S=()=>{let C;return y?C=j:v?C=b:m.route.Component?C=x.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=h,x.createElement(bO,{match:m,routeContext:{outlet:h,matches:N,isDataRoute:n!=null},children:C})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?x.createElement(vO,{location:n.location,revalidation:n.revalidation,component:j,error:y,children:S(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:a}):S()},null)}function Mg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wO(e){let r=x.useContext(ql);return Dt(r,Mg(e)),r}function NO(e){let r=x.useContext(Bm);return Dt(r,Mg(e)),r}function _O(e){let r=x.useContext(da);return Dt(r,Mg(e)),r}function Dg(e){let r=_O(e),n=r.matches[r.matches.length-1];return Dt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function kO(){return Dg("useRouteId")}function SO(){var a;let e=x.useContext(Tg),r=NO("useRouteError"),n=Dg("useRouteError");return e!==void 0?e:(a=r.errors)==null?void 0:a[n]}function CO(){let{router:e}=wO("useNavigate"),r=Dg("useNavigate"),n=x.useRef(!1);return Rk(()=>{n.current=!0}),x.useCallback(async(s,i={})=>{Hn(n.current,Lk),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:r,...i}))},[e,r])}var Bw={};function zk(e,r,n){!r&&!Bw[e]&&(Bw[e]=!0,Hn(!1,n))}x.memo(PO);function PO({routes:e,future:r,state:n,unstable_onError:a}){return Fk(e,void 0,n,a,r)}function Bk({to:e,replace:r,state:n,relative:a}){Dt(Hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=x.useContext(ca);Hn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=x.useContext(da),{pathname:o}=an(),d=ar(),u=Ag(e,Og(i),o,a==="path"),h=JSON.stringify(u);return x.useEffect(()=>{d(JSON.parse(h),{replace:r,state:n,relative:a})},[d,h,a,r,n]),null}function Wt(e){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function EO({basename:e="/",children:r=null,location:n,navigationType:a="POP",navigator:s,static:i=!1}){Dt(!Hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Wl(n));let{pathname:u="/",search:h="",hash:m="",state:p=null,key:y="default"}=n,v=x.useMemo(()=>{let j=Za(u,o);return j==null?null:{location:{pathname:j,search:h,hash:m,state:p,key:y},navigationType:a}},[o,u,h,m,p,y,a]);return Hn(v!=null,`<Router basename="${o}"> is not able to match the URL "${u}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:x.createElement(ca.Provider,{value:d},x.createElement(Pc.Provider,{children:r,value:v}))}function OO({children:e,location:r}){return xO(v0(e),r)}function v0(e,r=[]){let n=[];return x.Children.forEach(e,(a,s)=>{if(!x.isValidElement(a))return;let i=[...r,s];if(a.type===x.Fragment){n.push.apply(n,v0(a.props.children,i));return}Dt(a.type===Wt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=v0(a.props.children,i)),n.push(o)}),n}var Tu="get",Mu="application/x-www-form-urlencoded";function Um(e){return e!=null&&typeof e.tagName=="string"}function AO(e){return Um(e)&&e.tagName.toLowerCase()==="button"}function TO(e){return Um(e)&&e.tagName.toLowerCase()==="form"}function MO(e){return Um(e)&&e.tagName.toLowerCase()==="input"}function DO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $O(e,r){return e.button===0&&(!r||r==="_self")&&!DO(e)}function b0(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,n)=>{let a=e[n];return r.concat(Array.isArray(a)?a.map(s=>[n,s]):[[n,a]])},[]))}function IO(e,r){let n=b0(e);return r&&r.forEach((a,s)=>{n.has(s)||r.getAll(s).forEach(i=>{n.append(s,i)})}),n}var mu=null;function LO(){if(mu===null)try{new FormData(document.createElement("form"),0),mu=!1}catch{mu=!0}return mu}var RO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kp(e){return e!=null&&!RO.has(e)?(Hn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mu}"`),null):e}function FO(e,r){let n,a,s,i,o;if(TO(e)){let d=e.getAttribute("action");a=d?Za(d,r):null,n=e.getAttribute("method")||Tu,s=kp(e.getAttribute("enctype"))||Mu,i=new FormData(e)}else if(AO(e)||MO(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||d.getAttribute("action");if(a=u?Za(u,r):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Tu,s=kp(e.getAttribute("formenctype"))||kp(d.getAttribute("enctype"))||Mu,i=new FormData(d,e),!LO()){let{name:h,type:m,value:p}=e;if(m==="image"){let y=h?`${h}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else h&&i.append(h,p)}}else{if(Um(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Tu,a=null,s=Mu,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:a,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $g(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function zO(e,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${n}`:r&&Za(a.pathname,r)==="/"?a.pathname=`${r.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function BO(e,r){if(e.id in r)return r[e.id];try{let n=await import(e.module);return r[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UO(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function WO(e,r,n){let a=await Promise.all(e.map(async s=>{let i=r.routes[s.route.id];if(i){let o=await BO(i,n);return o.links?o.links():[]}return[]}));return VO(a.flat(1).filter(UO).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Uw(e,r,n,a,s,i){let o=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,d=(u,h)=>{var m;return n[h].pathname!==u.pathname||((m=n[h].route.path)==null?void 0:m.endsWith("*"))&&n[h].params["*"]!==u.params["*"]};return i==="assets"?r.filter((u,h)=>o(u,h)||d(u,h)):i==="data"?r.filter((u,h)=>{var p;let m=a.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(o(u,h)||d(u,h))return!0;if(u.route.shouldRevalidate){let y=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function qO(e,r,{includeHydrateFallback:n}={}){return HO(e.map(a=>{let s=r.routes[a.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function HO(e){return[...new Set(e)]}function KO(e){let r={},n=Object.keys(e).sort();for(let a of n)r[a]=e[a];return r}function VO(e,r){let n=new Set;return new Set(r),e.reduce((a,s)=>{let i=JSON.stringify(KO(s));return n.has(i)||(n.add(i),a.push({key:i,link:s})),a},[])}function Uk(){let e=x.useContext(ql);return $g(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function GO(){let e=x.useContext(Bm);return $g(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ig=x.createContext(void 0);Ig.displayName="FrameworkContext";function Wk(){let e=x.useContext(Ig);return $g(e,"You must render this element inside a <HydratedRouter> element"),e}function YO(e,r){let n=x.useContext(Ig),[a,s]=x.useState(!1),[i,o]=x.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:h,onMouseLeave:m,onTouchStart:p}=r,y=x.useRef(null);x.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let b=S=>{S.forEach(C=>{o(C.isIntersecting)})},N=new IntersectionObserver(b,{threshold:.5});return y.current&&N.observe(y.current),()=>{N.disconnect()}}},[e]),x.useEffect(()=>{if(a){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[a]);let v=()=>{s(!0)},j=()=>{s(!1),o(!1)};return n?e!=="intent"?[i,y,{}]:[i,y,{onFocus:Ho(d,v),onBlur:Ho(u,j),onMouseEnter:Ho(h,v),onMouseLeave:Ho(m,j),onTouchStart:Ho(p,v)}]:[!1,y,{}]}function Ho(e,r){return n=>{e&&e(n),n.defaultPrevented||r(n)}}function ZO({page:e,...r}){let{router:n}=Uk(),a=x.useMemo(()=>Tk(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?x.createElement(JO,{page:e,matches:a,...r}):null}function XO(e){let{manifest:r,routeModules:n}=Wk(),[a,s]=x.useState([]);return x.useEffect(()=>{let i=!1;return WO(e,r,n).then(o=>{i||s(o)}),()=>{i=!0}},[e,r,n]),a}function JO({page:e,matches:r,...n}){let a=an(),{manifest:s,routeModules:i}=Wk(),{basename:o}=Uk(),{loaderData:d,matches:u}=GO(),h=x.useMemo(()=>Uw(e,r,u,s,a,"data"),[e,r,u,s,a]),m=x.useMemo(()=>Uw(e,r,u,s,a,"assets"),[e,r,u,s,a]),p=x.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let j=new Set,b=!1;if(r.forEach(S=>{var _;let C=s.routes[S.route.id];!C||!C.hasLoader||(!h.some(P=>P.route.id===S.route.id)&&S.route.id in d&&((_=i[S.route.id])!=null&&_.shouldRevalidate)||C.hasClientLoader?b=!0:j.add(S.route.id))}),j.size===0)return[];let N=zO(e,o,"data");return b&&j.size>0&&N.searchParams.set("_routes",r.filter(S=>j.has(S.route.id)).map(S=>S.route.id).join(",")),[N.pathname+N.search]},[o,d,a,s,h,r,e,i]),y=x.useMemo(()=>qO(m,s),[m,s]),v=XO(m);return x.createElement(x.Fragment,null,p.map(j=>x.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),y.map(j=>x.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),v.map(({key:j,link:b})=>x.createElement("link",{key:j,nonce:n.nonce,...b})))}function QO(...e){return r=>{e.forEach(n=>{typeof n=="function"?n(r):n!=null&&(n.current=r)})}}var qk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qk&&(window.__reactRouterVersion="7.9.4")}catch{}function eA({basename:e,children:r,window:n}){let a=x.useRef();a.current==null&&(a.current=BE({window:n,v5Compat:!0}));let s=a.current,[i,o]=x.useState({action:s.action,location:s.location}),d=x.useCallback(u=>{x.startTransition(()=>o(u))},[o]);return x.useLayoutEffect(()=>s.listen(d),[s,d]),x.createElement(EO,{basename:e,children:r,location:i.location,navigationType:i.action,navigator:s})}var Hk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pt=x.forwardRef(function({onClick:r,discover:n="render",prefetch:a="none",relative:s,reloadDocument:i,replace:o,state:d,target:u,to:h,preventScrollReset:m,viewTransition:p,...y},v){let{basename:j}=x.useContext(ca),b=typeof h=="string"&&Hk.test(h),N,S=!1;if(typeof h=="string"&&b&&(N=h,qk))try{let D=new URL(window.location.href),z=h.startsWith("//")?new URL(D.protocol+h):new URL(h),I=Za(z.pathname,j);z.origin===D.origin&&I!=null?h=I+z.search+z.hash:S=!0}catch{Hn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=hO(h,{relative:s}),[_,P,O]=YO(a,y),E=aA(h,{replace:o,state:d,target:u,preventScrollReset:m,relative:s,viewTransition:p});function T(D){r&&r(D),D.defaultPrevented||E(D)}let $=x.createElement("a",{...y,...O,href:N||C,onClick:S||i?r:T,ref:QO(v,P),target:u,"data-discover":!b&&n==="render"?"true":void 0});return _&&!b?x.createElement(x.Fragment,null,$,x.createElement(ZO,{page:C})):$});Pt.displayName="Link";var tA=x.forwardRef(function({"aria-current":r="page",caseSensitive:n=!1,className:a="",end:s=!1,style:i,to:o,viewTransition:d,children:u,...h},m){let p=Ec(o,{relative:h.relative}),y=an(),v=x.useContext(Bm),{navigator:j,basename:b}=x.useContext(ca),N=v!=null&&cA(p)&&d===!0,S=j.encodeLocation?j.encodeLocation(p).pathname:p.pathname,C=y.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(C=C.toLowerCase(),_=_?_.toLowerCase():null,S=S.toLowerCase()),_&&b&&(_=Za(_,b)||_);const P=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let O=C===S||!s&&C.startsWith(S)&&C.charAt(P)==="/",E=_!=null&&(_===S||!s&&_.startsWith(S)&&_.charAt(S.length)==="/"),T={isActive:O,isPending:E,isTransitioning:N},$=O?r:void 0,D;typeof a=="function"?D=a(T):D=[a,O?"active":null,E?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let z=typeof i=="function"?i(T):i;return x.createElement(Pt,{...h,"aria-current":$,className:D,ref:m,style:z,to:o,viewTransition:d},typeof u=="function"?u(T):u)});tA.displayName="NavLink";var rA=x.forwardRef(({discover:e="render",fetcherKey:r,navigate:n,reloadDocument:a,replace:s,state:i,method:o=Tu,action:d,onSubmit:u,relative:h,preventScrollReset:m,viewTransition:p,...y},v)=>{let j=lA(),b=oA(d,{relative:h}),N=o.toLowerCase()==="get"?"get":"post",S=typeof d=="string"&&Hk.test(d),C=_=>{if(u&&u(_),_.defaultPrevented)return;_.preventDefault();let P=_.nativeEvent.submitter,O=(P==null?void 0:P.getAttribute("formmethod"))||o;j(P||_.currentTarget,{fetcherKey:r,method:O,navigate:n,replace:s,state:i,relative:h,preventScrollReset:m,viewTransition:p})};return x.createElement("form",{ref:v,method:N,action:b,onSubmit:a?u:C,...y,"data-discover":!S&&e==="render"?"true":void 0})});rA.displayName="Form";function nA(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kk(e){let r=x.useContext(ql);return Dt(r,nA(e)),r}function aA(e,{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:o}={}){let d=ar(),u=an(),h=Ec(e,{relative:i});return x.useCallback(m=>{if($O(m,r)){m.preventDefault();let p=n!==void 0?n:cc(u)===cc(h);d(e,{replace:p,state:a,preventScrollReset:s,relative:i,viewTransition:o})}},[u,d,h,n,a,r,e,s,i,o])}function Vk(e){Hn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=x.useRef(b0(e)),n=x.useRef(!1),a=an(),s=x.useMemo(()=>IO(a.search,n.current?null:r.current),[a.search]),i=ar(),o=x.useCallback((d,u)=>{const h=b0(typeof d=="function"?d(new URLSearchParams(s)):d);n.current=!0,i("?"+h,u)},[i,s]);return[s,o]}var sA=0,iA=()=>`__${String(++sA)}__`;function lA(){let{router:e}=Kk("useSubmit"),{basename:r}=x.useContext(ca),n=kO();return x.useCallback(async(a,s={})=>{let{action:i,method:o,encType:d,formData:u,body:h}=FO(a,r);if(s.navigate===!1){let m=s.fetcherKey||iA();await e.fetch(m,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||o,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||o,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,r,n])}function oA(e,{relative:r}={}){let{basename:n}=x.useContext(ca),a=x.useContext(da);Dt(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),i={...Ec(e||".",{relative:r})},o=an();if(e==null){i.search=o.search;let d=new URLSearchParams(i.search),u=d.getAll("index");if(u.some(m=>m==="")){d.delete("index"),u.filter(p=>p).forEach(p=>d.append("index",p));let m=d.toString();i.search=m?`?${m}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ka([n,i.pathname])),cc(i)}function cA(e,{relative:r}={}){let n=x.useContext(Ik);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Kk("useViewTransitionState"),s=Ec(e,{relative:r});if(!n.isTransitioning)return!1;let i=Za(n.currentLocation.pathname,a)||n.currentLocation.pathname,o=Za(n.nextLocation.pathname,a)||n.nextLocation.pathname;return qu(s.pathname,o)!=null||qu(s.pathname,i)!=null}var Gk=Ak();/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uA=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,n,a)=>a?a.toUpperCase():n.toLowerCase()),Ww=e=>{const r=uA(e);return r.charAt(0).toUpperCase()+r.slice(1)},Yk=(...e)=>e.filter((r,n,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===n).join(" ").trim(),mA=e=>{for(const r in e)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=x.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:o,...d},u)=>x.createElement("svg",{ref:u,...fA,width:r,height:r,stroke:e,strokeWidth:a?Number(n)*24/Number(r):n,className:Yk("lucide",s),...!i&&!mA(d)&&{"aria-hidden":"true"},...d},[...o.map(([h,m])=>x.createElement(h,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(e,r)=>{const n=x.forwardRef(({className:a,...s},i)=>x.createElement(hA,{ref:i,iconNode:r,className:Yk(`lucide-${dA(Ww(e))}`,`lucide-${e}`,a),...s}));return n.displayName=Ww(e),n};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],j0=de("activity",pA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],Zk=de("arrow-down-left",xA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ia=de("arrow-left",gA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Bs=de("arrow-right",yA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Xk=de("arrow-up-right",vA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ba=de("award",bA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ic=de("bell",jA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Hu=de("bookmark",wA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],lc=de("building-2",NA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Jk=de("building",_A);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Qk=de("calculator",kA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],la=de("calendar",SA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],dc=de("camera",CA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],EA=de("chart-line",PA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Nl=de("chart-column",OA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],Du=de("chart-no-axes-column",AA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],MA=de("chart-pie",TA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_a=de("check",DA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],qw=de("chevron-down",$A);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],LA=de("chevron-right",IA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]],FA=de("chrome",RA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],dr=de("circle-alert",zA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],et=de("circle-check-big",BA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],WA=de("circle-plus",UA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],HA=de("circle-x",qA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Kn=de("clock",KA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Dr=de("coins",VA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Vl=de("copy",GA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],yl=de("credit-card",YA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Sn=de("crown",ZA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],er=de("diamond",XA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ft=de("dollar-sign",JA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],eS=de("ellipsis-vertical",QA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],oa=de("external-link",eT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],rT=de("eye-off",tT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Us=de("eye",nT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],tS=de("facebook",aT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ls=de("file-text",sT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],$u=de("flame",iT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],rS=de("funnel",lT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],w0=de("gem",oT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],gi=de("gift",cT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],N0=de("globe",dT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],vl=de("heart",uT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],_l=de("house",mT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],nS=de("image",fT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],aS=de("info",hT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],kl=de("instagram",pT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Cn=de("key",xT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],yT=de("layout-dashboard",gT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],bT=de("lightbulb",vT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],_0=de("link",jT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],sS=de("linkedin",wT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Lg=de("loader-circle",NT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$s=de("lock",_T);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],ST=de("log-in",kT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],k0=de("log-out",CT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Oc=de("mail",PT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Hw=de("map-pin",ET);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Sp=de("medal",OT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],uc=de("megaphone",AT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],MT=de("menu",TT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],yi=de("message-circle",DT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M5 12h14",key:"1ays0h"}]],IT=de("minus",$T);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],RT=de("mouse-pointer",LT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],zT=de("music",FT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],UT=de("pause",BT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],S0=de("pen-line",WT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],HT=de("percent",qT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],iS=de("phone",KT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],Kw=de("pin",VT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],lS=de("play",GT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Kr=de("plus",YT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ac=de("refresh-cw",ZT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],oS=de("repeat",XT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]],QT=de("reply",JT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],ya=de("rocket",eM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Rg=de("save",tM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vi=de("search",rM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],C0=de("send",nM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fg=de("settings",aM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Sl=de("share-2",sM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ar=de("shield",iM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],mc=de("sparkles",lM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],zg=de("square-pen",oM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ue=de("star",cM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Iu=de("tag",dM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Kt=de("target",uM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Cl=de("trash-2",mM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],at=de("trending-up",fM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ki=de("triangle-alert",hM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],ur=de("trophy",pM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Bg=de("twitter",xM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],bi=de("upload",gM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Hr=de("user",yM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zt=de("users",vM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],cS=de("video",bM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Rs=de("wallet",jM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ze=de("x",wM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],dS=de("youtube",NM);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],mr=de("zap",_M);function kM(e){const r=`${e.message}|${e.timestamp}|${e.url}`;let n=0;for(let i=0;i<r.length;i++){const o=r.charCodeAt(i);n=(n<<5)-n+o,n=n&n}return`ERR-${Math.abs(n).toString(16).toUpperCase().slice(-8).padStart(8,"0")}`}function SM(e){try{const r=JSON.stringify(e);return btoa(r)}catch(r){return console.error("Failed to encode error info:",r),""}}function CM(e){try{const r=atob(e);return JSON.parse(r)}catch(r){return console.error("Failed to decode error info:",r),null}}function PM(e,r,n,a){const s=typeof e=="string"?e:e.message,i=typeof e=="object"?e.stack:void 0;return{message:s,stack:i,timestamp:Date.now(),url:window.location.href,userAgent:navigator.userAgent,userId:a,component:r,action:n}}function EM(e){const r=kM(e),n=SM(e);window.location.replace(`/error?code=${r}&data=${n}`)}function Ug(e,r,n,a){const s=PM(e,r,n,a);EM(s)}function OM(){const[e]=Vk(),r=ar(),[n,a]=x.useState(null),[s,i]=x.useState(!1),o=e.get("code")||"ERR-UNKNOWN",d=e.get("data");x.useEffect(()=>{if(d){const j=CM(d);a(j)}},[d]);const u=()=>{r("/home")},h=()=>{window.location.reload()},m=async()=>{try{await navigator.clipboard.writeText(o),i(!0),setTimeout(()=>i(!1),2e3)}catch(j){console.error("Failed to copy error code:",j)}},p=j=>new Date(j).toLocaleString(),y=()=>(n==null?void 0:n.component)==="upload"?"Upload Failed":(n==null?void 0:n.component)==="payment"?"Payment Error":(n==null?void 0:n.component)==="auth"?"Authentication Error":(n==null?void 0:n.action)==="create_content"?"Content Creation Failed":"Something Went Wrong",v=()=>(n==null?void 0:n.component)==="upload"?"We couldn't process your file upload. This might be due to file size, format, or network issues.":(n==null?void 0:n.component)==="payment"?"There was an issue processing your payment. Your card was not charged.":(n==null?void 0:n.component)==="auth"?"We couldn't verify your identity. Please try signing in again.":(n==null?void 0:n.action)==="create_content"?"We couldn't create your content. Your data has been preserved and you can try again.":"We encountered an unexpected error. Our team has been automatically notified.";return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center px-4",children:t.jsxs("div",{className:"max-w-lg w-full bg-white rounded-2xl shadow-xl overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-8 py-6 text-white",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:t.jsx(ki,{className:"w-6 h-6"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:y()}),t.jsxs("p",{className:"text-red-100 text-sm",children:["Error Code: ",o]})]})]})}),t.jsxs("div",{className:"px-8 py-6",children:[t.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:v()}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Error Reference"}),t.jsx("p",{className:"text-lg font-mono text-gray-900",children:o})]}),t.jsxs("button",{onClick:m,className:"flex items-center space-x-1 px-3 py-2 bg-white rounded-lg hover:bg-gray-100 transition-colors",children:[s?t.jsx(et,{className:"w-4 h-4 text-green-600"}):t.jsx(Vl,{className:"w-4 h-4 text-gray-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:s?"Copied!":"Copy"})]})]})}),n&&t.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[t.jsx("p",{className:"text-sm font-medium text-blue-800 mb-2",children:"What happened?"}),t.jsxs("p",{className:"text-sm text-blue-700 mb-2",children:["Time: ",p(n.timestamp)]}),n.action&&t.jsxs("p",{className:"text-sm text-blue-700",children:["Action: ",n.action.replace("_"," ")]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("button",{onClick:h,className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[t.jsx(Ac,{className:"w-5 h-5"}),t.jsx("span",{children:"Try Again"})]}),t.jsxs("button",{onClick:u,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[t.jsx(_l,{className:"w-5 h-5"}),t.jsx("span",{children:"Back to Home"})]})]}),t.jsx("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:t.jsxs("p",{className:"text-sm text-yellow-800",children:[t.jsx("strong",{children:"Need help?"})," Share your error code ",t.jsx("span",{className:"font-mono",children:o})," with our support team for faster assistance."]})})]})]})})}function AM(){const[e,r]=x.useState("daily"),[n,a]=x.useState([]),[s,i]=x.useState(!0);x.useEffect(()=>{o()},[e]);const o=async()=>{i(!0);try{const m=await(await fetch(`/api/leaderboard/${e}`)).json();a(m)}catch(h){console.error("Failed to fetch leaderboard:",h)}finally{i(!1)}},d=h=>{switch(h){case 1:return t.jsx(Sn,{className:"w-6 h-6 text-yellow-500"});case 2:return t.jsx(Sp,{className:"w-6 h-6 text-gray-400"});case 3:return t.jsx(Sp,{className:"w-6 h-6 text-amber-600"});default:return t.jsxs("div",{className:"w-6 h-6 flex items-center justify-center text-gray-600 font-bold text-sm",children:["#",h]})}},u=h=>{switch(h){case 1:return"bg-gradient-to-r from-yellow-50 to-amber-50 border-yellow-200";case 2:return"bg-gradient-to-r from-gray-50 to-slate-50 border-gray-200";case 3:return"bg-gradient-to-r from-amber-50 to-orange-50 border-amber-200";default:return"bg-white border-gray-200"}};return s?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center space-x-3",children:[t.jsx(ur,{className:"w-8 h-8 text-yellow-500"}),t.jsx("span",{children:"Leaderboard"})]}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Top performers in the Promorang economy"})]})}),t.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:t.jsx("div",{className:"flex space-x-4",children:[{key:"daily",label:"Today",icon:mr},{key:"weekly",label:"This Week",icon:at},{key:"monthly",label:"This Month",icon:Ue}].map(h=>{const m=h.icon;return t.jsxs("button",{onClick:()=>r(h.key),className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 ${e===h.key?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[t.jsx(m,{className:"w-4 h-4"}),t.jsx("span",{children:h.label})]},h.key)})})}),t.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-4",children:"Composite Score Formula"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),t.jsx("span",{className:"text-sm text-purple-700",children:"Points  0.25"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),t.jsx("span",{className:"text-sm text-purple-700",children:"Gems  0.40"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),t.jsx("span",{className:"text-sm text-purple-700",children:"Keys  0.15"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),t.jsx("span",{className:"text-sm text-purple-700",children:"Gold  0.20"})]})]})]}),t.jsx("div",{className:"space-y-3",children:n.length>0?n.map((h,m)=>{const p=m+1;return t.jsx("div",{className:`border rounded-xl p-6 transition-all duration-200 hover:shadow-md ${u(p)}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[d(p),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("img",{src:h.avatar_url||"/default-avatar.png",alt:h.display_name,className:"w-12 h-12 rounded-full object-cover"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:h.display_name||"Anonymous User"}),t.jsxs("p",{className:"text-sm text-gray-600",children:["@",h.username||"user"]})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-6",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ue,{className:"w-4 h-4 text-blue-600"}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"font-semibold text-gray-900",children:h.points_earned.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-600",children:"Points"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(er,{className:"w-4 h-4 text-purple-600"}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"font-semibold text-gray-900",children:h.gems_earned.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-600",children:"Gems"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Cn,{className:"w-4 h-4 text-orange-600"}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"font-semibold text-gray-900",children:h.keys_used}),t.jsx("p",{className:"text-xs text-gray-600",children:"Keys"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Sp,{className:"w-4 h-4 text-yellow-600"}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"font-semibold text-gray-900",children:h.gold_collected}),t.jsx("p",{className:"text-xs text-gray-600",children:"Gold"})]})]}),t.jsxs("div",{className:"text-center ml-6 pl-6 border-l border-gray-300",children:[t.jsx("p",{className:"text-xl font-bold text-gray-900",children:h.composite_score.toFixed(1)}),t.jsx("p",{className:"text-xs text-gray-600",children:"Score"})]})]})]})},h.id)}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(ur,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Rankings Yet"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Be the first to earn points and climb the leaderboard!"}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[t.jsx("p",{children:" Complete drops to earn gems"}),t.jsx("p",{children:" Engage with content to earn points"}),t.jsx("p",{children:" Collect gold for prestige"})]})]})}),n.length>0&&t.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Competition Stats"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.reduce((h,m)=>h+m.points_earned,0).toLocaleString()}),t.jsx("p",{className:"text-sm text-gray-600",children:"Total Points"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.reduce((h,m)=>h+m.gems_earned,0).toLocaleString()}),t.jsx("p",{className:"text-sm text-gray-600",children:"Total Gems"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:n.reduce((h,m)=>h+m.keys_used,0)}),t.jsx("p",{className:"text-sm text-gray-600",children:"Keys Used"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:n.reduce((h,m)=>h+m.gold_collected,0)}),t.jsx("p",{className:"text-sm text-gray-600",children:"Gold Earned"})]})]})]})]})}const TM="https://promorang-iap1cdebe-andre-millwoods-projects.vercel.app",uS=TM;console.group("API Configuration");console.log("Environment:","production");console.log("VITE_API_URL from env:","https://promorang-d7f7foivy-andre-millwoods-projects.vercel.app");console.log("Using API Base URL:",uS);console.groupEnd();typeof window<"u"&&(window.__API_CONFIG={env:"production",viteApiUrl:"https://promorang-d7f7foivy-andre-millwoods-projects.vercel.app",apiBase:uS,timestamp:new Date().toISOString()});const MM="https://promorang-d7f7foivy-andre-millwoods-projects.vercel.app",DM=MM,$M=DM.replace(/\/+$/,"").replace(/\/api$/,""),dl=$M,ul={AUTH:{LOGIN:`${dl}/api/auth/login`,REGISTER:`${dl}/api/auth/register`,DEMO:e=>`${dl}/api/auth/demo/${e}`,OAUTH:e=>`${dl}/api/auth/oauth/${e}`,LOGOUT:`${dl}/api/auth/logout`,ME:`${dl}/api/auth/me`}},mS=x.createContext(void 0),IM=e=>{try{const[,r]=e.split(".");if(!r)return null;const n=r.replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(n).split("").map(s=>`%${`00${s.charCodeAt(0).toString(16)}`.slice(-2)}`).join(""));return JSON.parse(a)}catch(r){return console.warn("Failed to decode JWT payload:",r),null}},Cp=e=>{var a;const r=IM(e);if(!r)return null;const n=r.id||r.sub||r.user_id||r.email;return n?{id:String(n),email:r.email,username:r.username,display_name:r.display_name||r.username||((a=r.email)==null?void 0:a.split("@")[0]),user_type:r.user_type,points_balance:r.points_balance,keys_balance:r.keys_balance,gems_balance:r.gems_balance,gold_collected:r.gold_collected,user_tier:r.user_tier,avatar_url:r.avatar_url}:null};function LM({children:e}){const[r,n]=x.useState(null),[a,s]=x.useState(!1),i=(v,j)=>{v&&localStorage.setItem("authToken",v);const b=j??(v?Cp(v):null);b&&n(b)},o=async v=>{const j=await v.json();if(!v.ok)throw new Error(j.error||"Something went wrong");return j},d=async(v,j)=>{s(!0);try{const b=await fetch(ul.AUTH.LOGIN,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:v,password:j}),credentials:"include"}),N=await o(b);return i(N.token,N.user),{error:null}}catch(b){return{error:b.message}}finally{s(!1)}},u=async(v,j)=>{s(!0);try{const b=await fetch(ul.AUTH.REGISTER,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:v,password:j}),credentials:"include"}),N=await o(b);return i(N.token,N.user),{error:null}}catch(b){return{error:b.message}}finally{s(!1)}},h=async v=>{try{return window.location.href=ul.AUTH.OAUTH(v),{error:null}}catch(j){return{error:j.message}}},m=async v=>{s(!0);try{const j=await fetch(ul.AUTH.DEMO(v),{method:"POST",credentials:"include"}),b=await o(j);return i(b.token,b.user),{error:null}}catch(j){return{error:j.message}}finally{s(!1)}},p=async()=>{try{await fetch(ul.AUTH.LOGOUT,{method:"POST",credentials:"include"})}catch(v){console.error("Error during sign out:",v)}finally{return n(null),localStorage.removeItem("authToken"),{error:null}}};x.useEffect(()=>{(async()=>{try{const j=localStorage.getItem("authToken");if(j){const b=await fetch(ul.AUTH.ME,{headers:{Authorization:`Bearer ${j}`},credentials:"include"});if(b.ok){const N=await b.json();i(j,N.user)}else if(b.status===401||b.status===403)localStorage.removeItem("authToken"),n(null);else{const N=Cp(j);N&&n(S=>S??N)}}}catch(j){console.error("Auth check failed:",j);const b=localStorage.getItem("authToken"),N=b?Cp(b):null;N&&n(S=>S??N)}})()},[]);const y={user:r,isPending:a,signIn:d,signUp:u,signInWithOAuth:h,demoLogin:{creator:()=>m("creator"),investor:()=>m("investor"),advertiser:()=>m("advertiser")},signOut:p,logout:()=>p()};return t.jsx(mS.Provider,{value:y,children:e})}function Gr(){const e=x.useContext(mS);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Pl({username:e,userId:r,displayName:n,avatarUrl:a,className:s="",showAvatar:i=!0,size:o="md"}){const d={sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-10 h-10 text-base"};if(!e&&!r)return t.jsxs("div",{className:`flex items-center space-x-2 ${s}`,children:[i&&t.jsx("div",{className:`${d[o]} rounded-full overflow-hidden bg-gray-200 flex items-center justify-center`,children:a?t.jsx("img",{src:a,alt:n||"User",className:"w-full h-full object-cover"}):t.jsx(Hr,{className:"w-1/2 h-1/2 text-gray-500"})}),t.jsx("span",{className:"font-medium text-gray-900",children:n||"User"})]});const u=e?`/users/${e}`:r?`/users/id/${r}`:"#";return t.jsxs(Pt,{to:u,className:`flex items-center space-x-2 hover:text-orange-600 transition-colors ${s}`,children:[i&&t.jsx("div",{className:`${d[o]} rounded-full overflow-hidden bg-gray-200 flex items-center justify-center`,children:a?t.jsx("img",{src:a,alt:n||e||`User #${r}`,className:"w-full h-full object-cover"}):t.jsx(Hr,{className:"w-1/2 h-1/2 text-gray-500"})}),t.jsx("span",{className:"font-medium",children:n||e||`User #${r}`})]})}function qt({content:e,children:r,position:n="auto",delay:a=300,disabled:s=!1,className:i="",maxWidth:o,allowWrap:d=!0,compact:u=!1}){const[h,m]=x.useState(!1),[p,y]=x.useState("top"),v=x.useRef(null),j=x.useRef(null),b=x.useRef(null);x.useEffect(()=>()=>{v.current&&(clearTimeout(v.current),v.current=null)},[]);const N=()=>{if(!j.current||!b.current)return;const E=j.current.getBoundingClientRect(),T=b.current.getBoundingClientRect(),$={width:window.innerWidth,height:window.innerHeight},D=E.top,z=$.height-E.bottom,I=E.left,F=$.width-E.right,M=T.height||40,B=T.width||120,G=8;let ee="top";if(n==="auto")D>=M+G?ee="top":z>=M+G?ee="bottom":F>=B+G?ee="right":I>=B+G?ee="left":ee=D>=z?"top":"bottom";else switch(n){case"top":ee=D>=M+G?"top":"bottom";break;case"bottom":ee=z>=M+G?"bottom":"top";break;case"left":ee=I>=B+G?"left":"right";break;case"right":ee=F>=B+G?"right":"left";break}y(ee)},S=()=>{s||(v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{m(!0),setTimeout(()=>N(),0)},a))},C=()=>{m(!1),v.current&&clearTimeout(v.current)},_=()=>`${`
      absolute z-50 px-3 py-2 text-sm text-white bg-gray-900 rounded-lg shadow-lg 
      pointer-events-none transition-all duration-200 ease-out leading-5
      ${h?"opacity-100 scale-100":"opacity-0 scale-95"}
    `} ${{top:"bottom-full left-1/2 transform -translate-x-1/2 mb-2",bottom:"top-full left-1/2 transform -translate-x-1/2 mt-2",left:"right-full top-1/2 transform -translate-y-1/2 mr-2",right:"left-full top-1/2 transform -translate-y-1/2 ml-2"}[p]}`,P=()=>{if(o)return o;const E=typeof e=="string"?e.length:100;return u||E<20?"180px":E<40?"220px":E<80?"280px":"320px"},O=()=>`absolute ${{top:"top-full left-1/2 transform -translate-x-1/2 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900",bottom:"bottom-full left-1/2 transform -translate-x-1/2 border-l-4 border-r-4 border-b-4 border-transparent border-b-gray-900",left:"left-full top-1/2 transform -translate-y-1/2 border-t-4 border-b-4 border-l-4 border-transparent border-l-gray-900",right:"right-full top-1/2 transform -translate-y-1/2 border-t-4 border-b-4 border-r-4 border-transparent border-r-gray-900"}[p]}`;return s||!e?t.jsx(t.Fragment,{children:r}):t.jsxs("div",{ref:j,className:`relative inline-block ${i}`,onMouseEnter:S,onMouseLeave:C,onFocus:S,onBlur:C,children:[r,h&&t.jsxs("div",{ref:b,className:_(),style:{maxWidth:P(),minWidth:u?"auto":"120px",whiteSpace:d?"normal":"nowrap",wordWrap:d?"break-word":"normal",hyphens:d?"auto":"none"},role:"tooltip","aria-hidden":!h,children:[e,t.jsx("div",{className:O()})]})]})}function RM({isOpen:e,onClose:r}){const{user:n}=Gr(),[a,s]=x.useState([]),[i,o]=x.useState(!1);x.useEffect(()=>{e&&n&&d()},[e,n]);const d=async()=>{o(!0);try{const v=[{id:"1",type:"achievement",title:"Achievement Unlocked!",message:'You earned the "First Steps" achievement and received 50 gold!',timestamp:new Date(Date.now()-18e5),read:!1,data:{achievement:"first_steps",gold_reward:50}},{id:"2",type:"reward",title:"Points Earned",message:"You earned 25 points from sharing content!",timestamp:new Date(Date.now()-72e5),read:!1,data:{points_earned:25,action:"content_share"}},{id:"3",type:"system",title:"Master Key Activated",message:"Your master key for today has been activated. You can now apply to drops!",timestamp:new Date(Date.now()-144e5),read:!0},{id:"4",type:"social",title:"New Follower",message:"PromoCreator just followed you!",timestamp:new Date(Date.now()-288e5),read:!0,actionUrl:"/users/promocreator"}];s(v)}catch(v){console.error("Failed to fetch notifications:",v)}finally{o(!1)}},u=async v=>{s(j=>j.map(b=>b.id===v?{...b,read:!0}:b))},h=async()=>{s(v=>v.map(j=>({...j,read:!0})))},m=v=>{switch(v){case"achievement":return t.jsx(ur,{className:"w-5 h-5 text-yellow-600"});case"reward":return t.jsx(Dr,{className:"w-5 h-5 text-blue-600"});case"system":return t.jsx(aS,{className:"w-5 h-5 text-purple-600"});case"social":return t.jsx(Ue,{className:"w-5 h-5 text-pink-600"});case"warning":return t.jsx(dr,{className:"w-5 h-5 text-orange-600"});default:return t.jsx(ic,{className:"w-5 h-5 text-gray-600"})}},p=v=>{const b=new Date().getTime()-v.getTime(),N=Math.floor(b/(1e3*60)),S=Math.floor(b/(1e3*60*60)),C=Math.floor(b/(1e3*60*60*24));return N<60?`${N}m ago`:S<24?`${S}h ago`:`${C}d ago`},y=a.filter(v=>!v.read).length;return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 pt-16",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md mx-4 max-h-[80vh] flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(ic,{className:"w-6 h-6 text-orange-600"}),t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Notifications"}),y>0&&t.jsx("span",{className:"bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:y})]}),t.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),y>0&&t.jsx("div",{className:"px-6 py-3 border-b border-gray-100",children:t.jsxs("button",{onClick:h,className:"flex items-center space-x-2 text-sm text-orange-600 hover:text-orange-700 font-medium",children:[t.jsx(_a,{className:"w-4 h-4"}),t.jsx("span",{children:"Mark all as read"})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:i?t.jsxs("div",{className:"p-6 text-center",children:[t.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-orange-500 border-t-transparent rounded-full mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Loading notifications..."})]}):a.length===0?t.jsxs("div",{className:"p-6 text-center",children:[t.jsx(ic,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No notifications"}),t.jsx("p",{className:"text-sm text-gray-600",children:"You're all caught up!"})]}):t.jsx("div",{className:"divide-y divide-gray-100",children:a.map(v=>t.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors cursor-pointer ${v.read?"":"bg-blue-50 border-l-4 border-l-blue-500"}`,onClick:()=>{v.read||u(v.id),v.actionUrl&&(window.location.href=v.actionUrl)},children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:m(v.type)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("h4",{className:`text-sm font-medium ${v.read?"text-gray-700":"text-gray-900"}`,children:v.title}),t.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap ml-2",children:p(v.timestamp)})]}),t.jsx("p",{className:`text-sm mt-1 ${v.read?"text-gray-600":"text-gray-800"}`,children:v.message}),v.data&&t.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[v.data.gold_reward&&t.jsxs("div",{className:"flex items-center space-x-1 text-xs text-yellow-700 bg-yellow-100 px-2 py-1 rounded",children:[t.jsx(ur,{className:"w-3 h-3"}),t.jsxs("span",{children:["+",v.data.gold_reward," Gold"]})]}),v.data.points_earned&&t.jsxs("div",{className:"flex items-center space-x-1 text-xs text-blue-700 bg-blue-100 px-2 py-1 rounded",children:[t.jsx(Dr,{className:"w-3 h-3"}),t.jsxs("span",{children:["+",v.data.points_earned," Points"]})]})]})]})]})},v.id))})}),t.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:t.jsx("p",{className:"text-xs text-gray-600 text-center",children:"Stay tuned for more updates and achievements!"})})]})}):null}function fS({user:e,isOpen:r,onClose:n,onSuccess:a}){const[s,i]=x.useState("points"),[o,d]=x.useState(1),[u,h]=x.useState(!1),[m,p]=x.useState(null);if(!r||!e)return null;const y={points:{keys:500},gems:{keys:2}},v=()=>s==="points"?e.points_balance:e.gems_balance,j=()=>o*y[s].keys,b=v()>=j(),N=async()=>{if(!(!b||o<1)){h(!0),p(null);try{const S=await fetch("/api/users/convert",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({from_currency:s,to_currency:"keys",amount:o})});if(S.ok)a(),n(),d(1);else{const C=await S.json();p(C.error||"Conversion failed")}}catch(S){console.error("Conversion failed:",S),p("Network error occurred")}finally{h(!1)}}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Convert Currency"}),t.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Convert from:"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("button",{onClick:()=>i("points"),className:`p-4 rounded-lg border-2 transition-colors ${s==="points"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx(Dr,{className:"w-5 h-5 text-blue-600"}),t.jsx("span",{className:"font-medium",children:"Points"})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Balance: ",e.points_balance]}),t.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"500 pts = 1 key"})]}),t.jsxs("button",{onClick:()=>i("gems"),className:`p-4 rounded-lg border-2 transition-colors ${s==="gems"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx(Ue,{className:"w-5 h-5 text-purple-600"}),t.jsx("span",{className:"font-medium",children:"Gems"})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Balance: ",e.gems_balance]}),t.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"2 gems = 1 key"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keys to get:"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{type:"button",onClick:()=>d(Math.max(1,o-1)),disabled:o<=1,className:"w-8 h-8 bg-gray-200 hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed rounded text-gray-700 font-bold",children:"-"}),t.jsx("input",{type:"number",value:o,onChange:S=>d(Math.max(1,parseInt(S.target.value)||1)),min:"1",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-center"}),t.jsx("button",{type:"button",onClick:()=>d(o+1),className:"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded text-gray-700 font-bold",children:"+"})]}),t.jsx("div",{className:"flex space-x-2 mt-2",children:[1,3,5,10].map(S=>t.jsxs("button",{onClick:()=>d(S),className:"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded-full text-gray-700",children:[S," key",S>1?"s":""]},S))})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[s==="points"?t.jsx(Dr,{className:"w-5 h-5 text-blue-600"}):t.jsx(Ue,{className:"w-5 h-5 text-purple-600"}),t.jsx("span",{className:"font-medium capitalize",children:s})]}),t.jsx(Bs,{className:"w-4 h-4 text-gray-400"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Cn,{className:"w-5 h-5 text-orange-600"}),t.jsx("span",{className:"font-medium",children:"Keys"})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-lg font-bold",children:[t.jsxs("span",{className:s==="points"?"text-blue-600":"text-purple-600",children:["-",j().toLocaleString()]}),t.jsxs("span",{className:"text-orange-600",children:["+",o]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mt-2",children:[t.jsxs("span",{children:["Remaining: ",(v()-j()).toLocaleString()]}),t.jsxs("span",{children:["New total: ",e.keys_balance+o]})]})]}),s==="points"&&t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(dr,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"text-sm text-blue-700",children:"Daily limit: 3 keys from points conversion"})]})}),m&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsx("p",{className:"text-sm text-red-700",children:m})}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:N,disabled:!b||u||o<1,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-2",children:u?t.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}):t.jsxs(t.Fragment,{children:[t.jsx(et,{className:"w-4 h-4"}),t.jsx("span",{children:"Convert"})]})})]})]})]})})}function hS({user:e,isOpen:r,onClose:n,onSuccess:a}){const[s,i]=x.useState(!1),[o,d]=x.useState(null),[u,h]=x.useState(null);x.useEffect(()=>{r&&e&&m()},[r,e]);const m=async()=>{try{const N=await fetch("/api/users/master-key-status",{credentials:"include"});if(N.ok){const S=await N.json();d(S)}}catch(N){console.error("Failed to fetch master key status:",N)}},p=async()=>{i(!0),h(null);try{const N=await fetch("/api/users/activate-master-key",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})});if(N.ok)await m(),a();else{const S=await N.json();h(S.error||"Activation failed")}}catch(N){console.error("Master key activation failed:",N),h("Network error occurred")}finally{i(!1)}};if(!r||!e)return null;const v=(N=>{switch(N){case"super":return{name:"Super",required:1,color:"text-yellow-600",bgColor:"bg-yellow-50"};case"premium":return{name:"Premium",required:2,color:"text-purple-600",bgColor:"bg-purple-50"};case"free":default:return{name:"Free",required:5,color:"text-gray-600",bgColor:"bg-gray-50"}}})(e.user_tier),j=(o==null?void 0:o.is_activated)||!1,b=o?o.proof_drops_completed>=o.proof_drops_required:!1;return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-lg mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ar,{className:"w-6 h-6 text-purple-600"}),t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Master Key System"})]}),t.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:`${v.bgColor} border border-purple-200 rounded-lg p-4`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ue,{className:`w-5 h-5 ${v.color}`}),t.jsxs("span",{className:`font-semibold ${v.color}`,children:[v.name," Tier"]})]}),t.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.color} bg-white`,children:[v.required," proof drop",v.required>1?"s":""," required"]})]}),t.jsxs("p",{className:"text-sm text-gray-700",children:["Complete ",v.required," proof drop",v.required>1?"s":""," daily to activate your Master Key and unlock the ability to apply for paid drops."]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Today's Progress"}),t.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${j?"text-green-600 bg-green-100":"text-orange-600 bg-orange-100"}`,children:j?"Activated":"Not Activated"})]}),o&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Proof Drops Completed"}),t.jsxs("span",{className:"font-semibold text-gray-900",children:[o.proof_drops_completed,"/",o.proof_drops_required]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${j?"bg-green-500":"bg-orange-500"}`,style:{width:`${Math.min(100,o.proof_drops_completed/o.proof_drops_required*100)}%`}})}),!j&&o.proof_drops_completed>0&&t.jsxs("p",{className:"text-sm text-gray-600",children:[o.proof_drops_required-o.proof_drops_completed," more proof drop",o.proof_drops_required-o.proof_drops_completed>1?"s":""," needed"]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Master Key Benefits"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(et,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Apply for paid drops using Keys"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(et,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Earn Gems from completed drops"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(et,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Access to premium opportunities"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(et,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Higher earning potential"})]})]})]}),!j&&t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(mr,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"font-medium text-blue-900",children:"How to Earn Proof Drops"})]}),t.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[t.jsx("li",{children:" Complete free social actions (likes, comments, shares)"}),t.jsx("li",{children:" Participate in community challenges"}),t.jsx("li",{children:" Engage with content daily"}),t.jsx("li",{children:" Maintain your daily streak"})]})]}),u&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsx("p",{className:"text-sm text-red-700",children:u})}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Close"}),!j&&t.jsx("button",{onClick:p,disabled:!b||s,className:"flex-1 bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-2",children:s?t.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}):b?t.jsxs(t.Fragment,{children:[t.jsx(Ar,{className:"w-4 h-4"}),t.jsx("span",{children:"Activate"})]}):t.jsxs(t.Fragment,{children:[t.jsx(Kn,{className:"w-4 h-4"}),t.jsx("span",{children:"Complete Proofs"})]})}),j&&t.jsxs("div",{className:"flex-1 bg-green-100 text-green-700 px-4 py-2 rounded-lg font-medium flex items-center justify-center space-x-2",children:[t.jsx(et,{className:"w-4 h-4"}),t.jsx("span",{children:"Activated"})]})]})]})]})})}function FM({user:e,isOpen:r,onClose:n,onSuccess:a}){const[s,i]=x.useState(1),[o,d]=x.useState(""),[u,h]=x.useState(!1),[m,p]=x.useState(!1),[y,v]=x.useState(null);if(!r||!e)return null;const j=async()=>{if(!o.trim()){v("Please enter your Instagram username");return}h(!0),v(null);try{const _=await fetch("/api/users/register-instagram",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({instagram_username:o})});if(_.ok)i(2);else{const P=await _.json();v(P.error||"Registration failed")}}catch(_){console.error("Instagram registration failed:",_),v("Network error occurred")}finally{h(!1)}},b=async()=>{h(!0),v(null);try{const _=await fetch("/api/users/claim-instagram-points",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})});if(_.ok)await _.json(),a(),n(),i(1),d("");else{const P=await _.json();v(P.error||"Failed to claim points")}}catch(_){console.error("Point claiming failed:",_),v("Network error occurred")}finally{h(!1)}},N=async _=>{await navigator.clipboard.writeText(_),p(!0),setTimeout(()=>p(!1),2e3)},C=(_=>{switch(_){case"super":return 1e3;case"premium":return 750;case"free":default:return 500}})(e.user_tier);return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(kl,{className:"w-6 h-6 text-pink-600"}),t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Instagram Verification"})]}),t.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),s===1&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-pink-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(kl,{className:"w-8 h-8 text-white"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connect Your Instagram"}),t.jsxs("p",{className:"text-gray-600 text-sm",children:["Verify your Instagram account to earn ",C," PromoPoints monthly"]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 border border-pink-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-pink-900 mb-2",children:"Monthly Benefits"}),t.jsxs("div",{className:"space-y-2 text-sm text-pink-700",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Your Tier:"}),t.jsx("span",{className:"font-semibold capitalize",children:e.user_tier})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Monthly Points:"}),t.jsxs("span",{className:"font-bold text-pink-600",children:[C," points"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Key Equivalent:"}),t.jsxs("span",{className:"font-medium",children:[Math.floor(C/500)," keys"]})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instagram Username"}),t.jsx("input",{type:"text",value:o,onChange:_=>d(_.target.value),placeholder:"@yourusername",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent"})]}),y&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsx("p",{className:"text-sm text-red-700",children:y})}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-200 rounded-lg p-4 mt-6",children:[t.jsxs("h4",{className:"font-medium text-blue-900 mb-2 flex items-center space-x-2",children:[t.jsx(at,{className:"w-4 h-4"}),t.jsx("span",{children:"Want Even More Rewards?"})]}),t.jsxs("p",{className:"text-sm text-blue-700 mb-4",children:["Try our new ",t.jsx("strong",{children:"Influence Rewards"})," program! Earn dynamic monthly points based on your actual follower count (followers  0.01)."]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-blue-600",children:" 5,000 followers = 50 points/month"}),t.jsx("div",{className:"text-blue-600",children:" 10,000 followers = 100 points/month"}),t.jsx("div",{className:"text-blue-600",children:" 50,000 followers = 500 points/month"})]}),t.jsx("button",{onClick:()=>{n(),window.location.href="/profile?openInfluenceRewards=true"},className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200",children:"Learn More"})]})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:j,disabled:u||!o.trim(),className:"flex-1 bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg font-medium transition-all duration-200",children:u?"Registering...":"Continue"})]})]}),s===2&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(et,{className:"w-8 h-8 text-green-600"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Send Verification DM"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Send a DM to @promorangco on Instagram with the word below"})]}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Message to send:"}),t.jsx("code",{className:"text-lg font-mono bg-white px-3 py-2 rounded border mt-2 block",children:"promopoints"})]}),t.jsx("button",{onClick:()=>N("promopoints"),className:"p-2 bg-gray-200 hover:bg-gray-300 rounded transition-colors",title:"Copy message",children:m?t.jsx(_a,{className:"w-4 h-4 text-green-600"}):t.jsx(Vl,{className:"w-4 h-4"})})]})}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Next Steps:"}),t.jsxs("ol",{className:"text-sm text-blue-700 space-y-1",children:[t.jsx("li",{children:"1. Open Instagram and go to @promorangco"}),t.jsxs("li",{children:["2. Send a DM with exactly: ",t.jsx("strong",{children:"promopoints"})]}),t.jsx("li",{children:"3. Wait for verification (usually within 24 hours)"}),t.jsx("li",{children:"4. Return here to claim your monthly points"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:b,disabled:u,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200",children:u?"Checking...":"Claim Points (if verified)"}),t.jsx("button",{onClick:()=>{i(1),d(""),v(null)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Try Different Username"})]}),t.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg p-4 mt-6",children:[t.jsxs("h4",{className:"font-medium text-purple-900 mb-2 flex items-center space-x-2",children:[t.jsx(at,{className:"w-4 h-4"}),t.jsx("span",{children:"Maximize Your Instagram Earning Potential!"})]}),t.jsxs("p",{className:"text-sm text-purple-700 mb-4",children:["While you wait for verification, explore our ",t.jsx("strong",{children:"Influence Rewards"})," program for dynamic monthly points based on your follower count."]}),t.jsx("button",{onClick:()=>{n(),window.location.href="/profile?openInfluenceRewards=true"},className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200",children:"Discover Influence Rewards"})]}),y&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsx("p",{className:"text-sm text-red-700",children:y})})]})]})})}const fu={free:{premium:{points:7500,gems:200},super:{points:15e3,gems:450}},premium:{super:{points:9e3,gems:275}},super:{}};function zM({user:e,isOpen:r,onClose:n,onSuccess:a}){var D,z;const[s,i]=x.useState(fu),[o,d]=x.useState(""),[u,h]=x.useState("points"),[m,p]=x.useState(!1),[y,v]=x.useState(null),[j,b]=x.useState(!1);x.useEffect(()=>{r&&S()},[r]);const N=I=>{const F={...fu,...I||{}};return Object.fromEntries(Object.entries(F).map(([M,B])=>[M.toLowerCase(),Object.fromEntries(Object.entries(B).map(([G,ee])=>[G.toLowerCase(),ee]))]))},S=async()=>{try{b(!0);const I=localStorage.getItem("authToken"),F=await fetch("/api/users/upgrade-costs",{credentials:"include",headers:I?{Authorization:`Bearer ${I}`}:void 0});if(!F.ok)throw new Error(`Failed to load upgrade costs: ${F.status}`);const M=await F.json();M&&typeof M=="object"&&!Array.isArray(M)?i(N(M)):i(N(fu))}catch(I){console.error("Failed to fetch upgrade costs:",I),i(N(fu))}b(!1)};if(!r||!e)return null;const C=(e.user_tier||"free").toLowerCase(),_=s[C]||{},P=Object.keys(_).length>0,O=I=>{switch(I){case"super":return{name:"Super User",icon:Sn,color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",benefits:["2.0x point multiplier for all actions","1 proof drop required for Master Key","1,000 monthly Instagram points","Priority support","Exclusive events access","Advanced analytics"]};case"premium":return{name:"Premium User",icon:Ue,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",benefits:["1.5x point multiplier for all actions","2 proof drops required for Master Key","750 monthly Instagram points","Priority support","Advanced analytics"]};default:return{name:"Free User",icon:mr,color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200",benefits:["1.0x point multiplier","5 proof drops required for Master Key","500 monthly Instagram points","Standard support"]}}},E=async()=>{if(o){p(!0),v(null);try{const I=localStorage.getItem("authToken"),F=await fetch("/api/users/upgrade-tier",{method:"POST",headers:{"Content-Type":"application/json",...I?{Authorization:`Bearer ${I}`}:{}},credentials:"include",body:JSON.stringify({target_tier:o,payment_method:u})});if(F.ok)a(),n(),d("");else{const M=await F.json();v(M.error||"Upgrade failed")}}catch(I){console.error("Upgrade failed:",I),v("Network error occurred")}finally{p(!1)}}},T=(I,F)=>{var G;const M=(G=_[I])==null?void 0:G[F];return M?(F==="points"?e.points_balance:e.gems_balance)>=M:!1},$=O(C);return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ue,{className:"w-6 h-6 text-orange-600"}),t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Upgrade Your Tier"})]}),t.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Current Tier"}),t.jsx("div",{className:`border-2 ${$.borderColor} ${$.bgColor} rounded-lg p-4`,children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx($.icon,{className:`w-8 h-8 ${$.color}`}),t.jsxs("div",{children:[t.jsx("h4",{className:`text-lg font-semibold ${$.color}`,children:$.name}),t.jsx("p",{className:"text-sm text-gray-600",children:"Your current membership level"})]})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Available Upgrades"}),!P&&!j&&t.jsx("div",{className:"border border-dashed border-gray-300 rounded-lg p-6 text-center text-sm text-gray-500",children:"No higher tiers available right now. Check back later for new membership levels."}),j&&t.jsx("div",{className:"border border-gray-200 rounded-lg p-6 text-center text-sm text-gray-500",children:"Loading upgrade options..."}),Object.keys(_).map(I=>{const F=I.toLowerCase(),M=O(F),B=_[I];return t.jsx("div",{className:`border-2 rounded-lg p-6 cursor-pointer transition-all duration-200 ${o===F?`${M.borderColor} ${M.bgColor}`:"border-gray-200 hover:border-gray-300"}`,onClick:()=>d(F),children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[t.jsx(M.icon,{className:`w-8 h-8 ${M.color}`}),t.jsxs("div",{children:[t.jsx("h4",{className:`text-lg font-semibold ${o===F?M.color:"text-gray-900"}`,children:M.name}),t.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(Dr,{className:"w-4 h-4 text-blue-600"}),t.jsxs("span",{children:[B.points.toLocaleString()," points"]})]}),t.jsx("span",{className:"text-gray-400",children:"or"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(w0,{className:"w-4 h-4 text-purple-600"}),t.jsxs("span",{children:[B.gems," gems"]})]})]})]})]}),t.jsx("div",{className:"space-y-2",children:M.benefits.map((G,ee)=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(et,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),t.jsx("span",{className:"text-sm text-gray-700",children:G})]},ee))})]}),o===F&&t.jsx("div",{className:"ml-4",children:t.jsx(Bs,{className:`w-6 h-6 ${M.color}`})})]})},I)})]}),o&&t.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Choose Payment Method"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("button",{onClick:()=>h("points"),disabled:!T(o,"points"),className:`p-4 rounded-lg border-2 transition-colors ${u==="points"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"} ${T(o,"points")?"":"opacity-50 cursor-not-allowed"}`,children:[t.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[t.jsx(Dr,{className:"w-5 h-5 text-blue-600"}),t.jsx("span",{className:"font-medium",children:"Points"})]}),t.jsx("p",{className:"text-lg font-bold text-blue-600",children:(D=_[o])==null?void 0:D.points.toLocaleString()}),t.jsxs("p",{className:"text-xs text-gray-600",children:["Balance: ",e.points_balance.toLocaleString()]}),!T(o,"points")&&t.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Insufficient balance"})]}),t.jsxs("button",{onClick:()=>h("gems"),disabled:!T(o,"gems"),className:`p-4 rounded-lg border-2 transition-colors ${u==="gems"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"} ${T(o,"gems")?"":"opacity-50 cursor-not-allowed"}`,children:[t.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[t.jsx(w0,{className:"w-5 h-5 text-purple-600"}),t.jsx("span",{className:"font-medium",children:"Gems"})]}),t.jsx("p",{className:"text-lg font-bold text-purple-600",children:(z=_[o])==null?void 0:z.gems}),t.jsxs("p",{className:"text-xs text-gray-600",children:["Balance: ",e.gems_balance]}),!T(o,"gems")&&t.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Insufficient balance"})]})]})]}),y&&t.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsx("p",{className:"text-sm text-red-700",children:y})}),t.jsxs("div",{className:"flex space-x-3 mt-6",children:[t.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:E,disabled:!o||!T(o,u)||m,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg font-medium transition-all duration-200",children:m?"Upgrading...":`Upgrade to ${o?O(o).name:""}`})]})]})})}function BM({isOpen:e,onClose:r}){var _,P,O,E,T,$;const[n,a]=x.useState(""),[s,i]=x.useState({content:[],drops:[],users:[]}),[o,d]=x.useState(!1),[u,h]=x.useState("all"),m=[{id:"content-demo-1",title:"Launch Campaign: Social Buzz",description:"Highlight reel from the recent product launch activation.",platform:"instagram",creator_name:"Demo Creator",share_price:12.5},{id:"content-demo-2",title:"Creator Toolkit Walkthrough",description:"Step-by-step guide on monetizing content in 30 days.",platform:"youtube",creator_name:"Creator Collective",share_price:18}],p=[{id:"drop-demo-1",title:"Product Review Blitz",description:"Create authentic reviews for the new premium bundle.",gem_reward_base:120,key_cost:4,status:"active"},{id:"drop-demo-2",title:"Launch Day Engagement Sprint",description:"Boost engagement metrics during launch weekend.",gem_reward_base:95,key_cost:3,status:"active"}],y=[{id:"user-demo-1",username:"demo_creator",display_name:"Demo Creator",user_type:"creator",follower_count:42e3},{id:"user-demo-2",username:"growth_analyst",display_name:"Growth Analyst",user_type:"advertiser",follower_count:12500}],v=D=>{const z=D.toLowerCase(),I=m.filter(B=>B.title.toLowerCase().includes(z)||B.description.toLowerCase().includes(z)),F=p.filter(B=>B.title.toLowerCase().includes(z)),M=y.filter(B=>B.username.toLowerCase().includes(z)||B.display_name.toLowerCase().includes(z));return{content:I,drops:F,users:M}};x.useEffect(()=>{if(n.length>=2){const D=setTimeout(()=>{j()},300);return()=>clearTimeout(D)}else i({content:[],drops:[],users:[]})},[n]);const j=async()=>{if(!(n.trim().length<2)){d(!0);try{const D=await fetch(`/api/search?q=${encodeURIComponent(n)}`,{credentials:"include"});if(D.ok){const z=await D.json();i(z)}else i(v(n))}catch(D){console.error("Search failed:",D),i(v(n))}finally{d(!1)}}},b=()=>{switch(u){case"content":return{content:s.content,drops:[],users:[]};case"drops":return{content:[],drops:s.drops,users:[]};case"users":return{content:[],drops:[],users:s.users};default:return s}},N=()=>{var D,z,I;return(((D=s.content)==null?void 0:D.length)||0)+(((z=s.drops)==null?void 0:z.length)||0)+(((I=s.users)==null?void 0:I.length)||0)};if(!e)return null;const S=b(),C=N();return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center pt-20 z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl mx-4 max-h-[80vh] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Search Promorang"}),t.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Ze,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("div",{className:"relative",children:[t.jsx(vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx("input",{type:"text",placeholder:"Search for content, drops, users...",value:n,onChange:D=>a(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-lg",autoFocus:!0}),o&&t.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:t.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-orange-500 border-t-transparent rounded-full"})})]})}),n.length>=2&&C>0&&t.jsx("div",{className:"px-6 py-3 border-b border-gray-200",children:t.jsx("div",{className:"flex space-x-4",children:[{id:"all",label:"All",count:C},{id:"content",label:"Content",count:((_=s.content)==null?void 0:_.length)||0},{id:"drops",label:"Drops",count:((P=s.drops)==null?void 0:P.length)||0},{id:"users",label:"Users",count:((O=s.users)==null?void 0:O.length)||0}].map(D=>t.jsxs("button",{onClick:()=>h(D.id),className:`px-3 py-2 rounded-lg text-sm font-medium flex items-center space-x-2 ${u===D.id?"bg-orange-100 text-orange-700":"text-gray-600 hover:bg-gray-100"}`,children:[t.jsx("span",{children:D.label}),t.jsx("span",{className:"bg-gray-200 text-gray-600 px-2 py-1 rounded-full text-xs",children:D.count})]},D.id))})}),t.jsx("div",{className:"max-h-96 overflow-y-auto",children:n.length<2?t.jsxs("div",{className:"p-12 text-center",children:[t.jsx(vi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Search Promorang"}),t.jsx("p",{className:"text-gray-600",children:"Find content, drops, and users across the platform"})]}):C===0&&!o?t.jsxs("div",{className:"p-12 text-center",children:[t.jsx(vi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No results found"}),t.jsx("p",{className:"text-gray-600",children:"Try different keywords or browse categories"})]}):t.jsxs("div",{className:"p-6 space-y-6",children:[((E=S.content)==null?void 0:E.length)>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Ls,{className:"w-5 h-5 mr-2 text-orange-600"}),"Content (",S.content.length,")"]}),t.jsx("div",{className:"space-y-3",children:S.content.map(D=>t.jsxs(Pt,{to:`/content/${D.id}`,onClick:r,className:"flex items-center space-x-4 p-4 hover:bg-gray-50 rounded-lg transition-colors",children:[t.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:t.jsx(Ue,{className:"w-6 h-6 text-orange-600"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"font-semibold text-gray-900 truncate",children:D.title}),t.jsx("p",{className:"text-sm text-gray-600 truncate",children:D.description}),t.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[t.jsx("span",{className:"text-xs text-gray-500 capitalize",children:D.platform}),t.jsxs("span",{className:"text-xs text-gray-500",children:["by ",D.creator_name]}),t.jsxs("span",{className:"text-xs font-medium text-green-600",children:["$",D.share_price,"/share"]})]})]})]},D.id))})]}),((T=S.drops)==null?void 0:T.length)>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(mr,{className:"w-5 h-5 mr-2 text-purple-600"}),"Drops (",S.drops.length,")"]}),t.jsx("div",{className:"space-y-3",children:S.drops.map(D=>t.jsxs(Pt,{to:"/earn",onClick:r,className:"flex items-center space-x-4 p-4 hover:bg-gray-50 rounded-lg transition-colors",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx(ft,{className:"w-6 h-6 text-purple-600"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"font-semibold text-gray-900 truncate",children:D.title}),t.jsx("p",{className:"text-sm text-gray-600 truncate",children:D.description}),t.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[t.jsx("span",{className:"text-xs text-gray-500 capitalize",children:(D.drop_type||"engagement").replace("_"," ")}),t.jsxs("span",{className:"text-xs text-gray-500",children:["by ",D.creator_name||"Promorang Team"]}),t.jsxs("span",{className:"text-xs font-medium text-purple-600",children:[D.gem_reward_base??0," gems"]}),t.jsxs("span",{className:"text-xs text-gray-500",children:[D.current_participants??0," participants"]})]})]})]},D.id))})]}),(($=S.users)==null?void 0:$.length)>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(zt,{className:"w-5 h-5 mr-2 text-blue-600"}),"Users (",S.users.length,")"]}),t.jsx("div",{className:"space-y-3",children:S.users.map(D=>t.jsxs(Pt,{to:`/users/${D.username||D.id}`,onClick:r,className:"flex items-center space-x-4 p-4 hover:bg-gray-50 rounded-lg transition-colors",children:[t.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden",children:t.jsx("img",{src:D.avatar_url||"/default-avatar.png",alt:D.display_name,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"font-semibold text-gray-900 truncate",children:D.display_name||"Anonymous User"}),t.jsxs("p",{className:"text-sm text-gray-600",children:["@",D.username||"user"]}),t.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[t.jsxs("span",{className:"text-xs text-gray-500",children:["Level ",D.level]}),t.jsxs("span",{className:"text-xs text-gray-500 capitalize",children:[D.user_tier," tier"]}),t.jsxs("span",{className:"text-xs text-gray-500",children:[D.follower_count," followers"]})]})]})]},D.id))})]})]})})]})})}function pS({user:e,isOpen:r,onClose:n,onPurchase:a}){const[s,i]=x.useState(!1),[o,d]=x.useState("upgrades"),[u,h]=x.useState([]);x.useEffect(()=>{r&&e&&m()},[r,e]);const m=async()=>{try{const _=await fetch("/api/users/gold-purchases",{credentials:"include"});if(_.ok){const P=await _.json();h(P)}}catch(_){console.error("Failed to fetch gold purchases:",_)}},p=async _=>{if(!(!e||e.gold_collected<_.gold_cost)){i(!0);try{const P=await fetch("/api/users/gold-purchase",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({item_type:_.category,item_name:_.name,gold_cost:_.gold_cost,effect_data:JSON.stringify(_.effect_data)})});if(P.ok)a(),m(),y(_.name);else{const O=await P.json();alert(O.error||"Purchase failed")}}catch(P){console.error("Purchase failed:",P),alert("Purchase failed")}finally{i(!1)}}},y=_=>{const P=document.createElement("div");P.className="fixed top-4 right-4 bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-6 py-4 rounded-xl shadow-lg z-50 animate-pulse",P.innerHTML=`
      <div class="flex items-center space-x-3">
        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
          <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        <div>
          <div class="font-bold">Purchase Successful!</div>
          <div class="text-sm">${_} activated</div>
        </div>
      </div>
    `,document.body.appendChild(P),setTimeout(()=>{document.body.contains(P)&&document.body.removeChild(P)},3e3)},v=_=>{const O={crown:Sn,zap:mr,star:Ue,shield:Ar,award:ba}[_]||Ue;return t.jsx(O,{className:"w-6 h-6"})},j=[{id:"premium_upgrade",name:"Premium Tier Upgrade",description:"Upgrade to Premium tier with 1.5x points multiplier and exclusive perks",icon:"crown",category:"upgrades",gold_cost:500,effect_data:{tier:"premium"}},{id:"super_upgrade",name:"Super Tier Upgrade",description:"Upgrade to Super tier with 2x points multiplier and maximum benefits",icon:"crown",category:"upgrades",gold_cost:1e3,effect_data:{tier:"super"}},{id:"key_multiplier_24h",name:"24h Key Multiplier",description:"Double key earnings from all actions for 24 hours",icon:"zap",category:"multipliers",gold_cost:200,duration:"24 hours",effect_data:{multiplier:2,duration_hours:24,type:"key_earnings"}},{id:"xp_boost_7d",name:"7-Day XP Boost",description:"Triple XP gains from all activities for 7 days",icon:"star",category:"multipliers",gold_cost:300,duration:"7 days",effect_data:{multiplier:3,duration_hours:168,type:"xp_earnings"}},{id:"golden_badge",name:"Golden Badge",description:"Display a prestigious golden badge on your profile",icon:"award",category:"profile",gold_cost:150,effect_data:{badge_type:"golden",permanent:!0}},{id:"profile_boost",name:"Profile Boost",description:"Enhanced visibility in leaderboards and search for 30 days",icon:"shield",category:"profile",gold_cost:250,duration:"30 days",effect_data:{boost_type:"visibility",duration_hours:720}}],b=[{id:"upgrades",name:"Tier Upgrades",icon:Sn},{id:"multipliers",name:"Boosts",icon:mr},{id:"profile",name:"Profile",icon:ba}],N=j.filter(_=>_.category===o),S=_=>u.some(P=>P.item_name===_.name&&(!P.expires_at||new Date(P.expires_at)>new Date)),C=_=>e&&e.gold_collected>=_.gold_cost;return r?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[t.jsxs("div",{className:"bg-gradient-to-r from-yellow-500 to-amber-500 p-6 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Sn,{className:"w-8 h-8"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Gold Shop"}),t.jsx("p",{className:"text-yellow-100",children:"Spend your gold on exclusive upgrades and boosts"})]})]}),t.jsx("button",{onClick:n,className:"text-white hover:text-yellow-200 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsx("div",{className:"mt-4 bg-white/20 rounded-xl p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-yellow-100",children:"Your Gold Balance"}),t.jsx("span",{className:"text-2xl font-bold",children:(e==null?void 0:e.gold_collected)||0})]})})]}),t.jsx("div",{className:"border-b border-gray-200 px-6",children:t.jsx("div",{className:"flex space-x-8 py-4",children:b.map(_=>{const P=_.icon;return t.jsxs("button",{onClick:()=>d(_.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium text-sm transition-colors ${o===_.id?"bg-yellow-100 text-yellow-700":"text-gray-600 hover:text-gray-900"}`,children:[t.jsx(P,{className:"w-4 h-4"}),t.jsx("span",{children:_.name})]},_.id)})})}),t.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:N.map(_=>{const P=S(_),O=C(_);return t.jsx("div",{className:`p-6 rounded-2xl border transition-all duration-200 ${P?"border-green-200 bg-green-50":O?"border-gray-200 bg-white hover:shadow-md":"border-gray-200 bg-gray-50"}`,children:t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${P?"bg-green-100 text-green-600":"bg-gradient-to-r from-yellow-500 to-amber-500 text-white"}`,children:P?t.jsx(_a,{className:"w-6 h-6"}):v(_.icon)}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:_.name}),_.duration&&t.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:_.duration})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:_.description}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Sn,{className:"w-4 h-4 text-yellow-600"}),t.jsxs("span",{className:"font-semibold text-yellow-700",children:[_.gold_cost," Gold"]})]}),t.jsx("button",{onClick:()=>p(_),disabled:s||P||!O,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${P?"bg-green-100 text-green-700 cursor-not-allowed":O?"bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-600 hover:to-amber-600 text-white":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:s?"Processing...":P?"Owned":O?"Purchase":"Not Enough Gold"})]})]})]})},_.id)})})})]})}):null}function Wg({user:e,isOpen:r,onClose:n}){const[a,s]=x.useState([]),[i,o]=x.useState(!0),[d,u]=x.useState("all");x.useEffect(()=>{r&&e&&h()},[r,e]);const h=async()=>{try{const _=await fetch("/api/users/achievements",{credentials:"include"});if(_.ok){const P=await _.json();s(Array.isArray(P)?P:[])}else console.log("Achievements API not available, using mock data"),s(m())}catch(_){console.error("Failed to fetch achievements:",_),s(m())}finally{o(!1)}},m=()=>[{id:1,name:"First Steps",description:"Complete your first drop application",icon:"star",category:"progression",criteria_type:"count",criteria_value:1,criteria_field:"applications",gold_reward:5,xp_reward:100,is_completed:!1,progress:0},{id:2,name:"Content Creator",description:"Share your first piece of content",icon:"file-text",category:"creation",criteria_type:"count",criteria_value:1,criteria_field:"content_pieces",gold_reward:10,xp_reward:200,is_completed:!1,progress:0},{id:3,name:"Social Butterfly",description:"Reach 100 followers",icon:"users",category:"social",criteria_type:"count",criteria_value:100,criteria_field:"followers",gold_reward:25,xp_reward:500,is_completed:!1,progress:(e==null?void 0:e.follower_count)||0},{id:4,name:"Level Up",description:"Reach level 5",icon:"arrow-up",category:"progression",criteria_type:"level",criteria_value:5,criteria_field:"level",gold_reward:15,xp_reward:300,is_completed:((e==null?void 0:e.level)||0)>=5,progress:(e==null?void 0:e.level)||0},{id:5,name:"Big Spender",description:"Earn 1000 points",icon:"coins",category:"earning",criteria_type:"count",criteria_value:1e3,criteria_field:"points",gold_reward:20,xp_reward:400,is_completed:((e==null?void 0:e.points_balance)||0)>=1e3,progress:(e==null?void 0:e.points_balance)||0},{id:6,name:"Master Creator",description:"Create 5 pieces of content",icon:"crown",category:"creation",criteria_type:"count",criteria_value:5,criteria_field:"content_pieces",gold_reward:50,xp_reward:1e3,is_completed:!1,progress:0}],p=async _=>{try{const P=await fetch(`/api/users/achievements/${_}/claim`,{method:"POST",credentials:"include"});if(P.ok){const O=await P.json();y(O.gold_reward,O.xp_reward),h()}}catch(P){console.error("Failed to claim achievement:",P)}},y=(_,P)=>{const O=document.createElement("div");O.className="fixed top-4 right-4 bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-6 py-4 rounded-xl shadow-lg z-50 animate-pulse",O.innerHTML=`
      <div class="flex items-center space-x-3">
        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
          <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
        </svg>
        <div>
          <div class="font-bold">Achievement Unlocked!</div>
          <div class="text-sm">+${_} Gold, +${P} XP</div>
        </div>
      </div>
    `,document.body.appendChild(O),setTimeout(()=>{document.body.contains(O)&&document.body.removeChild(O)},4e3)},v=_=>{const O={star:Ue,"file-text":ba,zap:ur,heart:Ue,calendar:ba,crown:ur,trophy:ur,"arrow-up":Ue,coins:ba,users:Ue}[_]||Ue;return t.jsx(O,{className:"w-6 h-6"})},j=_=>({engagement:"from-blue-500 to-cyan-500",creation:"from-purple-500 to-pink-500",earning:"from-green-500 to-emerald-500",progression:"from-orange-500 to-red-500",currency:"from-yellow-500 to-amber-500",social:"from-indigo-500 to-purple-500"})[_]||"from-gray-500 to-slate-500",b=a&&a.length>0?["all",...new Set(a.map(_=>_.category))]:["all"],N=a&&a.length>0?d==="all"?a:a.filter(_=>_.category===d):[],S=a&&a.length>0?a.filter(_=>_.is_completed).length:0,C=a&&a.length>0?a.filter(_=>_.is_completed).reduce((_,P)=>_+P.gold_reward,0):0;return r?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[t.jsxs("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 p-6 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(ur,{className:"w-8 h-8"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Achievements"}),t.jsx("p",{className:"text-yellow-100",children:"Track your progress and earn rewards"})]})]}),t.jsx("button",{onClick:n,className:"text-white hover:text-yellow-200 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:S}),t.jsx("div",{className:"text-yellow-100 text-sm",children:"Completed"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:(a==null?void 0:a.length)||0}),t.jsx("div",{className:"text-yellow-100 text-sm",children:"Total"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:C}),t.jsx("div",{className:"text-yellow-100 text-sm",children:"Gold Earned"})]})]})]}),t.jsx("div",{className:"border-b border-gray-200 px-6",children:t.jsx("div",{className:"flex space-x-8 overflow-x-auto py-4",children:b.map(_=>t.jsx("button",{onClick:()=>u(_),className:`px-4 py-2 rounded-lg font-medium text-sm whitespace-nowrap transition-colors ${d===_?"bg-orange-100 text-orange-700":"text-gray-600 hover:text-gray-900"}`,children:_.charAt(0).toUpperCase()+_.slice(1)},_))})}),t.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:i?t.jsx("div",{className:"flex items-center justify-center h-32",children:t.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-orange-500 border-t-transparent rounded-full"})}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:N&&N.length>0?N.map(_=>t.jsxs("div",{className:`relative p-6 rounded-2xl border transition-all duration-200 ${_.is_completed?"border-green-200 bg-green-50":"border-gray-200 bg-white hover:shadow-md"}`,children:[t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center bg-gradient-to-r ${j(_.category)} text-white`,children:v(_.icon)}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:_.name}),_.is_completed&&t.jsx(et,{className:"w-5 h-5 text-green-600"})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:_.description}),!_.is_completed&&t.jsxs("div",{className:"mb-3",children:[t.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[t.jsx("span",{children:"Progress"}),t.jsxs("span",{children:[_.progress,"/",_.criteria_value]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${j(_.category)}`,style:{width:`${Math.min(100,_.progress/_.criteria_value*100)}%`}})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[_.gold_reward>0&&t.jsxs("div",{className:"flex items-center space-x-1 text-yellow-600",children:[t.jsx(gi,{className:"w-4 h-4"}),t.jsxs("span",{children:[_.gold_reward," Gold"]})]}),_.xp_reward>0&&t.jsxs("div",{className:"flex items-center space-x-1 text-blue-600",children:[t.jsx(Ue,{className:"w-4 h-4"}),t.jsxs("span",{children:[_.xp_reward," XP"]})]})]}),_.progress>=_.criteria_value&&!_.is_completed&&t.jsx("button",{onClick:()=>p(_.id),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200",children:"Claim"})]})]})]}),_.progress<_.criteria_value&&!_.is_completed&&t.jsx("div",{className:"absolute inset-0 bg-gray-100 bg-opacity-50 rounded-2xl flex items-center justify-center",children:t.jsx($s,{className:"w-8 h-8 text-gray-400"})})]},_.id)):t.jsxs("div",{className:"col-span-full text-center py-12",children:[t.jsx(ur,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Achievements Yet"}),t.jsx("p",{className:"text-gray-600",children:"Complete tasks and reach milestones to unlock achievements!"})]})})})]})}):null}function UM(){const{user:e}=Gr(),[r,n]=x.useState(0);x.useEffect(()=>{if(e){const i=localStorage.getItem(`notifications_unread_${e.id}`);n(i?parseInt(i):0)}},[e]);const a=x.useCallback(i=>{if(!e)return;const o=r+1;n(o),localStorage.setItem(`notifications_unread_${e.id}`,o.toString()),s(i.message,"info"),console.log("New notification:",i)},[e,r]),s=x.useCallback((i,o="info")=>{const d=document.createElement("div");d.className="fixed top-20 right-4 z-50 p-4 rounded-lg shadow-lg max-w-sm transform transition-all duration-300 translate-x-full";const u={success:"bg-green-500 text-white",error:"bg-red-500 text-white",warning:"bg-yellow-500 text-white",info:"bg-blue-500 text-white"};d.className+=` ${u[o]}`,d.textContent=i,document.body.appendChild(d),setTimeout(()=>{d.style.transform="translateX(0)"},100),setTimeout(()=>{d.style.transform="translateX(100%)",setTimeout(()=>{document.body.contains(d)&&document.body.removeChild(d)},300)},3e3)},[]);return{unreadCount:r,addNotification:a,showToast:s}}const Ht=(e={})=>{if(typeof window>"u")return{...e};const r=localStorage.getItem("authToken");return r?{...e,Authorization:`Bearer ${r}`}:{...e}};function Pr({children:e}){var ne,Y,K,ie,ae,J,ve,Q,ye,Ae,le,He,$e,ct,Je,Qe,sr;const{user:r,logout:n}=Gr(),a=an(),s=ar(),[i,o]=x.useState(null),[d,u]=x.useState(!1),[h,m]=x.useState(!1),[p,y]=x.useState(!1),[v,j]=x.useState(!1),[b,N]=x.useState(!1),[S,C]=x.useState(!1),[_,P]=x.useState(!1),[O,E]=x.useState(!1),[T,$]=x.useState(!1),[D,z]=x.useState(!1),[I,F]=x.useState(!1),{unreadCount:M}=UM();x.useEffect(()=>{r&&B()},[r]),x.useEffect(()=>{const Fe=Ge=>{(Ge.metaKey||Ge.ctrlKey)&&Ge.key==="k"&&(Ge.preventDefault(),N(!0)),Ge.key==="Escape"&&(C(!1),P(!1),E(!1),$(!1))};return document.addEventListener("keydown",Fe),()=>document.removeEventListener("keydown",Fe)},[]),x.useEffect(()=>{const Fe=Ge=>{const jt=Ge.target;!jt.closest(".user-menu")&&!jt.closest(".wallet-menu")&&(C(!1),P(!1))};return document.addEventListener("click",Fe),()=>document.removeEventListener("click",Fe)},[]);const B=async()=>{try{const Fe=Ht(),Ge=await fetch("/api/users/me",{credentials:"include",headers:Fe});if(Ge.ok){const jt=await Ge.json();jt&&typeof jt=="object"&&o(jt)}}catch(Fe){console.error("Failed to fetch user data:",Fe)}},ee=(()=>{const Fe=[{name:"Home",href:"/home",icon:_l},{name:"Earn",href:"/earn",icon:ft},{name:"Create",href:"/create",icon:Kr},{name:"Invest",href:"/invest",icon:at},{name:"Growth Hub",href:"/growth-hub",icon:ya}];return i&&i.user_type==="advertiser"&&Fe.push({name:"Dashboard",href:"/advertiser",icon:Fg}),Fe})(),L=Fe=>a.pathname===Fe||a.pathname.startsWith(Fe+"/"),H=()=>i?(i.points_balance||0)+(i.keys_balance||0)+(i.gems_balance||0)+(i.gold_collected||0):0,te=Fe=>{switch(P(!1),Fe){case"instagram":y(!0);break;case"masterkey":m(!0);break;case"convert":u(!0);break;case"leaderboard":s("/leaderboard");break;case"growthhub":s("/growth-hub");break;case"wallet":s("/wallet");break;case"goldshop":z(!0);break;case"achievements":F(!0);break}},se=async()=>{try{await n(),localStorage.clear(),sessionStorage.clear();try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(Fe){console.error("Backend logout failed:",Fe)}s("/",{replace:!0})}catch(Fe){console.error("Logout failed:",Fe);try{localStorage.clear(),sessionStorage.clear()}catch(Ge){console.error("Failed to clear storage:",Ge)}s("/",{replace:!0})}},U=Fe=>{switch(C(!1),Fe){case"profile":s("/profile");break;case"upgrade":j(!0);break;case"advertiser":!i||i.user_type!=="advertiser"?s("/advertiser/onboarding"):s("/advertiser");break;case"logout":se();break}};return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex justify-between items-center h-16",children:[t.jsx("div",{className:"flex items-center space-x-4",children:t.jsx(Pt,{to:"/home",className:"flex items-center space-x-3 group",children:t.jsx("img",{src:"https://mocha-cdn.com/0198f6f0-5737-78cb-955a-4b0907aa1065/Promorang_logo_FULL-02.png",alt:"Promorang",className:"h-10 w-10 transition-transform group-hover:scale-105"})})}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(qt,{content:"Search (K)",position:"bottom",compact:!0,children:t.jsxs("button",{onClick:()=>N(!0),className:"hidden md:flex items-center space-x-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[t.jsx(vi,{className:"w-4 h-4 text-gray-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Search..."}),t.jsx("kbd",{className:"hidden lg:inline-flex items-center px-2 py-1 text-xs font-medium text-gray-500 bg-white border border-gray-300 rounded",children:"K"})]})}),t.jsx(qt,{content:"Notifications",position:"bottom",compact:!0,children:t.jsxs("button",{onClick:()=>$(!0),className:"hidden md:flex relative p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100",children:[t.jsx(ic,{className:"w-5 h-5"}),M>0&&t.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold w-5 h-5 rounded-full flex items-center justify-center",children:M>9?"9+":M})]})}),(r||i)&&t.jsxs("div",{className:"relative wallet-menu hidden md:block",children:[t.jsx(qt,{content:"Your wallet balance",position:"bottom",compact:!0,children:t.jsxs("button",{onClick:()=>P(!_),className:"flex items-center space-x-2 px-3 py-2 bg-gradient-to-r from-blue-50 to-purple-50 hover:from-blue-100 hover:to-purple-100 rounded-lg transition-all duration-200 border border-blue-200/50 shadow-sm hover:shadow-md",children:[t.jsx(Rs,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"hidden sm:inline text-sm font-semibold text-blue-900 min-w-0",children:H().toLocaleString()}),t.jsx(qw,{className:`w-4 h-4 text-blue-600 transition-transform ${_?"rotate-180":""}`})]})}),_&&t.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[t.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:t.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Your Balances"})}),t.jsxs("div",{className:"py-2",children:[t.jsx(qt,{content:"Earn points from engagement",position:"left",children:t.jsxs("button",{onClick:()=>te("instagram"),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Dr,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Points"})]}),t.jsx("span",{className:"text-sm font-medium text-blue-900",children:(i==null?void 0:i.points_balance)||0})]})}),t.jsx(qt,{content:"Unlock premium features",position:"left",children:t.jsxs("button",{onClick:()=>te("masterkey"),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Cn,{className:"w-4 h-4 text-orange-600"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Keys"})]}),t.jsx("span",{className:"text-sm font-medium text-orange-900",children:(i==null?void 0:i.keys_balance)||0})]})}),t.jsx(qt,{content:"Premium currency from drops",position:"left",children:t.jsxs("button",{onClick:()=>te("convert"),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Ue,{className:"w-4 h-4 text-purple-600"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Gems"})]}),t.jsx("span",{className:"text-sm font-medium text-purple-900",children:(i==null?void 0:i.gems_balance)||0})]})}),((i==null?void 0:i.gold_collected)||0)>0&&t.jsx(qt,{content:"Achievement rewards",position:"left",children:t.jsxs("button",{onClick:()=>te("goldshop"),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(ur,{className:"w-4 h-4 text-yellow-600"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Gold"})]}),t.jsx("span",{className:"text-sm font-medium text-yellow-900",children:(i==null?void 0:i.gold_collected)||0})]})})]}),t.jsxs("div",{className:"border-t border-gray-100 pt-2",children:[t.jsx(qt,{content:"Full wallet management",position:"left",compact:!0,children:t.jsxs("button",{onClick:()=>te("wallet"),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center space-x-3",children:[t.jsx(Rs,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"text-sm text-gray-700",children:"View Full Wallet"})]})}),t.jsx(qt,{content:"Put your gems to work",position:"left",compact:!0,children:t.jsxs("button",{onClick:()=>te("growthhub"),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center space-x-3",children:[t.jsx(ya,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Explore Growth Hub"})]})}),t.jsx(qt,{content:"View rankings",position:"left",compact:!0,children:t.jsxs("button",{onClick:()=>te("leaderboard"),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center space-x-3",children:[t.jsx(ur,{className:"w-4 h-4 text-purple-600"}),t.jsx("span",{className:"text-sm text-gray-700",children:"View Rankings"})]})})]})]})]}),t.jsxs("div",{className:"relative user-menu hidden md:block",children:[t.jsxs("button",{onClick:()=>C(!S),className:"flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-gray-100 transition-all duration-200 group",children:[t.jsx(Pl,{username:(i==null?void 0:i.username)||((ne=r==null?void 0:r.email)==null?void 0:ne.split("@")[0]),displayName:(i==null?void 0:i.display_name)||((Y=r==null?void 0:r.google_user_data)==null?void 0:Y.name)||((K=r==null?void 0:r.google_user_data)==null?void 0:K.given_name),avatarUrl:(i==null?void 0:i.avatar_url)||((ie=r==null?void 0:r.google_user_data)==null?void 0:ie.picture),className:"flex items-center space-x-2",size:"sm"}),t.jsxs("div",{className:"hidden lg:block text-left ml-2",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-32",children:((ae=r==null?void 0:r.google_user_data)==null?void 0:ae.given_name)||((J=r==null?void 0:r.google_user_data)==null?void 0:J.name)||((ve=r==null?void 0:r.email)==null?void 0:ve.split("@")[0])||"User"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[((i==null?void 0:i.user_tier)||"free")==="super"&&t.jsx(Sn,{className:"w-3 h-3 text-yellow-600"}),((i==null?void 0:i.user_tier)||"free")==="premium"&&t.jsx(Ue,{className:"w-3 h-3 text-purple-600"}),((i==null?void 0:i.user_tier)||"free")==="free"&&t.jsx(Ue,{className:"w-3 h-3 text-gray-600"}),t.jsx("span",{className:`text-xs font-medium ${((i==null?void 0:i.user_tier)||"free")==="super"?"text-yellow-700":((i==null?void 0:i.user_tier)||"free")==="premium"?"text-purple-700":"text-gray-700"}`,children:((i==null?void 0:i.user_tier)||"free").charAt(0).toUpperCase()+((i==null?void 0:i.user_tier)||"free").slice(1)})]})]}),t.jsx(qw,{className:`w-4 h-4 text-gray-400 transition-transform group-hover:text-gray-600 ${S?"rotate-180":""}`})]}),S&&t.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[t.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:(i==null?void 0:i.display_name)||((Q=r==null?void 0:r.google_user_data)==null?void 0:Q.name)||((ye=r==null?void 0:r.google_user_data)==null?void 0:ye.given_name)||((Ae=r==null?void 0:r.email)==null?void 0:Ae.split("@")[0])||"User"}),t.jsx("div",{className:"text-xs text-gray-500",children:r==null?void 0:r.email})]}),t.jsxs("div",{className:"py-2",children:[t.jsxs("button",{onClick:()=>U("profile"),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center space-x-3",children:[t.jsx(Hr,{className:"w-4 h-4 text-gray-600"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Profile"})]}),i&&t.jsx(qt,{content:"Upgrade to Premium or Super tier for better rewards",position:"left",children:t.jsxs("button",{onClick:()=>U("upgrade"),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center space-x-3",children:[t.jsx(Sn,{className:"w-4 h-4 text-purple-600"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Upgrade Tier"})]})}),t.jsx(qt,{content:"Create and manage marketing drops for your business",position:"left",children:t.jsxs("button",{onClick:()=>U("advertiser"),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center space-x-3",children:[t.jsx(uc,{className:"w-4 h-4 text-orange-600"}),t.jsx("span",{className:"text-sm text-gray-700",children:!i||i.user_type!=="advertiser"?"Become Advertiser":"Advertiser Dashboard"})]})})]}),t.jsx("div",{className:"border-t border-gray-100 pt-2",children:t.jsxs("button",{onClick:()=>U("logout"),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center space-x-3 text-red-600",children:[t.jsx(k0,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm",children:"Sign Out"})]})})]})]})]})]})})}),O&&t.jsx("div",{className:"lg:hidden fixed inset-0 z-50 bg-black bg-opacity-50",onClick:()=>E(!1),children:t.jsxs("div",{className:"fixed inset-y-0 right-0 w-80 bg-white shadow-xl overflow-y-auto",onClick:Fe=>Fe.stopPropagation(),children:[t.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-orange-50 to-red-50",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Menu"}),t.jsx("button",{onClick:()=>E(!1),className:"p-2 text-gray-400 hover:text-gray-600",children:t.jsx(Ze,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Pl,{username:(i==null?void 0:i.username)||((le=r==null?void 0:r.email)==null?void 0:le.split("@")[0]),displayName:(i==null?void 0:i.display_name)||((He=r==null?void 0:r.google_user_data)==null?void 0:He.name)||(($e=r==null?void 0:r.google_user_data)==null?void 0:$e.given_name)||"User",avatarUrl:(i==null?void 0:i.avatar_url)||((ct=r==null?void 0:r.google_user_data)==null?void 0:ct.picture),className:"flex items-center space-x-3",size:"md"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:(i==null?void 0:i.display_name)||((Je=r==null?void 0:r.google_user_data)==null?void 0:Je.name)||((Qe=r==null?void 0:r.google_user_data)==null?void 0:Qe.given_name)||((sr=r==null?void 0:r.email)==null?void 0:sr.split("@")[0])||"User"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[((i==null?void 0:i.user_tier)||"free")==="super"&&t.jsx(Sn,{className:"w-3 h-3 text-yellow-600"}),((i==null?void 0:i.user_tier)||"free")==="premium"&&t.jsx(Ue,{className:"w-3 h-3 text-purple-600"}),((i==null?void 0:i.user_tier)||"free")==="free"&&t.jsx(Ue,{className:"w-3 h-3 text-gray-600"}),t.jsxs("span",{className:`text-xs font-medium ${((i==null?void 0:i.user_tier)||"free")==="super"?"text-yellow-700":((i==null?void 0:i.user_tier)||"free")==="premium"?"text-purple-700":"text-gray-700"}`,children:[((i==null?void 0:i.user_tier)||"free").charAt(0).toUpperCase()+((i==null?void 0:i.user_tier)||"free").slice(1)," Tier"]})]})]})]})]}),t.jsxs("div",{className:"p-4 space-y-2",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide mb-3",children:"Quick Actions"}),t.jsxs("button",{onClick:()=>{N(!0),E(!1)},className:"w-full flex items-center space-x-3 px-3 py-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[t.jsx(vi,{className:"w-5 h-5 text-gray-600"}),t.jsx("span",{className:"font-medium",children:"Search"})]}),t.jsxs("button",{onClick:()=>{$(!0),E(!1)},className:"w-full flex items-center justify-between px-3 py-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(ic,{className:"w-5 h-5 text-gray-600"}),t.jsx("span",{className:"font-medium",children:"Notifications"})]}),M>0&&t.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:M>9?"9+":M})]})]}),(r||i)&&t.jsxs("div",{className:"px-4 pb-4",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide mb-3",children:"Wallet"}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-3 mb-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Balance"}),t.jsx("span",{className:"text-lg font-bold text-blue-900",children:H().toLocaleString()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(Dr,{className:"w-3 h-3 text-blue-600"}),t.jsxs("span",{children:[((i==null?void 0:i.points_balance)||0).toLocaleString()," pts"]})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(Cn,{className:"w-3 h-3 text-orange-600"}),t.jsxs("span",{children:[(i==null?void 0:i.keys_balance)||0," keys"]})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(Ue,{className:"w-3 h-3 text-purple-600"}),t.jsxs("span",{children:[(i==null?void 0:i.gems_balance)||0," gems"]})]}),((i==null?void 0:i.gold_collected)||0)>0&&t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(ur,{className:"w-3 h-3 text-yellow-600"}),t.jsxs("span",{children:[(i==null?void 0:i.gold_collected)||0," gold"]})]})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("button",{onClick:()=>{te("wallet"),E(!1)},className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[t.jsx(Rs,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"text-sm",children:"Full Wallet"})]}),t.jsxs("button",{onClick:()=>{te("convert"),E(!1)},className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[t.jsx(Ue,{className:"w-4 h-4 text-purple-600"}),t.jsx("span",{className:"text-sm",children:"Convert Currency"})]}),t.jsxs("button",{onClick:()=>{te("masterkey"),E(!1)},className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[t.jsx(Cn,{className:"w-4 h-4 text-orange-600"}),t.jsx("span",{className:"text-sm",children:"Master Key"})]})]})]}),t.jsxs("div",{className:"px-4 pb-4",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide mb-3",children:"Account"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("button",{onClick:()=>{U("profile"),E(!1)},className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[t.jsx(Hr,{className:"w-4 h-4 text-gray-600"}),t.jsx("span",{className:"text-sm",children:"Profile"})]}),(r||i)&&t.jsxs("button",{onClick:()=>{U("upgrade"),E(!1)},className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[t.jsx(Sn,{className:"w-4 h-4 text-purple-600"}),t.jsx("span",{className:"text-sm",children:"Upgrade Tier"})]}),t.jsxs("button",{onClick:()=>{te("achievements"),E(!1)},className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[t.jsx(ur,{className:"w-4 h-4 text-yellow-600"}),t.jsx("span",{className:"text-sm",children:"Achievements"})]}),t.jsxs("button",{onClick:()=>{te("leaderboard"),E(!1)},className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[t.jsx(ur,{className:"w-4 h-4 text-purple-600"}),t.jsx("span",{className:"text-sm",children:"Leaderboard"})]}),t.jsxs("button",{onClick:()=>{te("instagram"),E(!1)},className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[t.jsx(Ue,{className:"w-4 h-4 text-pink-600"}),t.jsx("span",{className:"text-sm",children:"Instagram Rewards"})]})]})]}),t.jsxs("div",{className:"px-4 pb-4",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide mb-3",children:"Business"}),t.jsxs("button",{onClick:()=>{U("advertiser"),E(!1)},className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:[t.jsx(uc,{className:"w-4 h-4 text-orange-600"}),t.jsx("span",{className:"text-sm",children:!i||i.user_type!=="advertiser"?"Become Advertiser":"Advertiser Dashboard"})]})]}),t.jsx("div",{className:"px-4 pb-6 border-t border-gray-200 pt-4",children:t.jsxs("button",{onClick:()=>{U("logout"),E(!1)},className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-red-600 hover:bg-red-50 transition-colors",children:[t.jsx(k0,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Sign Out"})]})})]})}),t.jsx("nav",{className:"hidden lg:block bg-white border-b border-gray-200 shadow-sm",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"flex space-x-8",children:ee.map(Fe=>{const Ge=Fe.icon;return t.jsxs(Pt,{to:Fe.href,className:`flex items-center space-x-2 px-3 py-4 text-sm font-medium border-b-2 transition-colors ${L(Fe.href)?"border-orange-500 text-orange-600":"border-transparent text-gray-700 hover:text-gray-900 hover:border-gray-300"}`,children:[t.jsx(Ge,{className:"w-5 h-5"}),t.jsx("span",{children:Fe.name})]},Fe.name)})})})}),t.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-30",children:t.jsxs("div",{className:"flex",children:[t.jsxs(Pt,{to:"/home",className:`flex-1 flex flex-col items-center justify-center py-3 px-1 transition-colors ${L("/home")?"text-orange-600":"text-gray-400 hover:text-gray-600"}`,children:[t.jsx(_l,{className:"w-5 h-5"}),t.jsx("span",{className:"text-xs mt-1 font-medium leading-tight",children:"Home"})]}),t.jsxs(Pt,{to:"/earn",className:`flex-1 flex flex-col items-center justify-center py-3 px-1 transition-colors ${L("/earn")?"text-orange-600":"text-gray-400 hover:text-gray-600"}`,children:[t.jsx(ft,{className:"w-5 h-5"}),t.jsx("span",{className:"text-xs mt-1 font-medium leading-tight",children:"Earn"})]}),t.jsxs(Pt,{to:"/create",className:`flex-1 flex flex-col items-center justify-center py-3 px-1 transition-colors ${L("/create")?"text-orange-600":"text-gray-400 hover:text-gray-600"}`,children:[t.jsx(Kr,{className:"w-5 h-5"}),t.jsx("span",{className:"text-xs mt-1 font-medium leading-tight",children:"Create"})]}),t.jsxs(Pt,{to:"/invest",className:`flex-1 flex flex-col items-center justify-center py-3 px-1 transition-colors ${L("/invest")?"text-orange-600":"text-gray-400 hover:text-gray-600"}`,children:[t.jsx(at,{className:"w-5 h-5"}),t.jsx("span",{className:"text-xs mt-1 font-medium leading-tight",children:"Invest"})]}),t.jsxs("button",{onClick:()=>E(!O),className:`flex-1 flex flex-col items-center justify-center py-3 px-1 transition-colors ${O?"text-orange-600":"text-gray-400 hover:text-gray-600"}`,children:[t.jsx(MT,{className:"w-5 h-5"}),t.jsx("span",{className:"text-xs mt-1 font-medium leading-tight",children:"More"})]})]})}),t.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-20 lg:pb-8",children:e}),t.jsx(fS,{user:i,isOpen:d,onClose:()=>u(!1),onSuccess:B}),t.jsx(hS,{user:i,isOpen:h,onClose:()=>m(!1),onSuccess:B}),t.jsx(FM,{user:i,isOpen:p,onClose:()=>y(!1),onSuccess:B}),t.jsx(zM,{user:i,isOpen:v,onClose:()=>j(!1),onSuccess:B}),t.jsx(BM,{isOpen:b,onClose:()=>N(!1)}),t.jsx(RM,{isOpen:T,onClose:()=>$(!1)}),t.jsx(pS,{user:i,isOpen:D,onClose:()=>z(!1),onPurchase:B}),t.jsx(Wg,{user:i,isOpen:I,onClose:()=>F(!1)})]})}class WM extends x.Component{constructor(){super(...arguments);cl(this,"state",{hasError:!1});cl(this,"handleRefresh",()=>{window.location.reload()});cl(this,"handleGoHome",()=>{window.location.href="/home"})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,a){console.error(" Error caught by boundary:",n),console.error(" Error location:",a),console.error(" Component stack:",a.componentStack),this.setState({error:n,errorInfo:a})}render(){return this.state.hasError?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:t.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(ki,{className:"w-8 h-8 text-red-600"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Oops! Something went wrong"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"We encountered an unexpected error. Our team has been notified and is working on a fix."}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("button",{onClick:this.handleRefresh,className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[t.jsx(Ac,{className:"w-4 h-4"}),t.jsx("span",{children:"Try Again"})]}),t.jsxs("button",{onClick:this.handleGoHome,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[t.jsx(_l,{className:"w-4 h-4"}),t.jsx("span",{children:"Go Home"})]})]}),!1]})}):this.props.children}}function qM(){const{user:e,demoLogin:r,logout:n}=Gr(),a=ar(),[s,i]=x.useState({earners:127,payout:.3,earnings:12});return x.useEffect(()=>{},[e,a]),x.useEffect(()=>{const o=setInterval(()=>{i(d=>({earners:d.earners+Math.floor(Math.random()*5),payout:d.payout+Math.random()*.1,earnings:d.earnings+Math.floor(Math.random()*3)}))},3e3);return()=>clearInterval(o)},[]),t.jsxs("div",{className:"min-h-screen bg-white",children:[t.jsx("nav",{className:"bg-white/95 backdrop-blur-md border-b border-gray-100 sticky top-0 z-50 shadow-sm",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex justify-between items-center h-16",children:[t.jsx("div",{className:"flex items-center",children:t.jsx("img",{src:"https://mocha-cdn.com/0198f6f0-5737-78cb-955a-4b0907aa1065/Promorang_logo_extended-03.png",alt:"Promorang",className:"h-8 w-auto transition-transform hover:scale-105"})}),t.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[t.jsx("a",{href:"#features",className:"text-gray-600 hover:text-gray-900 font-medium transition-colors",children:"Features"}),t.jsx("a",{href:"#how-it-works",className:"text-gray-600 hover:text-gray-900 font-medium transition-colors",children:"How it Works"}),t.jsx("a",{href:"#success-stories",className:"text-gray-600 hover:text-gray-900 font-medium transition-colors",children:"Success Stories"})]}),t.jsx("div",{className:"flex items-center space-x-4",children:e?t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{onClick:()=>a("/home"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-2.5 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Go to Dashboard"}),t.jsx("button",{onClick:()=>n(),className:"text-red-600 hover:text-red-800 font-medium transition-colors px-3 py-2 border border-red-200 rounded-lg hover:bg-red-50",title:"Development logout (for testing)",children:" Logout"})]}):t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>{console.log("Sign In clicked"),a("/auth")},className:"text-gray-600 hover:text-gray-900 font-medium transition-colors",children:"Sign In"}),t.jsx("button",{onClick:()=>{console.log("Start Earning clicked"),a("/auth")},className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-2.5 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Start Earning"})]})})]})})}),!e&&t.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-b border-gray-100 py-4",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-6",children:[t.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Quick Demo:"}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:()=>r.creator(),className:"px-4 py-2 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-lg text-sm font-medium transition-colors",children:"Creator Demo"}),t.jsx("button",{onClick:()=>r.investor(),className:"px-4 py-2 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-lg text-sm font-medium transition-colors",children:"Investor Demo"}),t.jsx("button",{onClick:()=>r.advertiser(),className:"px-4 py-2 bg-orange-100 hover:bg-orange-200 text-orange-700 rounded-lg text-sm font-medium transition-colors",children:"Advertiser Demo"})]})]})})}),t.jsxs("section",{className:"relative bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-16 lg:py-24 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.03'%3E%3Ccircle cx='30' cy='30' r='30'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,opacity:.5}}),t.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[t.jsxs("div",{className:"inline-flex items-center bg-green-100 text-green-800 px-4 py-2 rounded-full text-sm font-semibold mb-8 animate-pulse",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-ping"}),t.jsx("span",{className:"font-bold",children:s.earners.toLocaleString()})," early creators earning"]}),t.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 leading-tight mb-6",children:["Monetize Your Social Influence",t.jsx("span",{className:"block bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Effortlessly"})]}),t.jsxs("p",{className:"text-xl sm:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:["Join our early community and start earning from day one.",t.jsx("span",{className:"font-semibold text-gray-900",children:" No followers required."})]}),t.jsxs("div",{className:"flex flex-wrap justify-center gap-6 mb-10 text-sm",children:[t.jsxs("div",{className:"flex items-center bg-white/60 backdrop-blur-sm rounded-full px-4 py-2",children:[t.jsx(et,{className:"w-4 h-4 text-green-500 mr-2"}),t.jsx("span",{className:"font-medium",children:"Start in 60 seconds"})]}),t.jsxs("div",{className:"flex items-center bg-white/60 backdrop-blur-sm rounded-full px-4 py-2",children:[t.jsx(et,{className:"w-4 h-4 text-green-500 mr-2"}),t.jsx("span",{className:"font-medium",children:"Grow with social media"})]}),t.jsxs("div",{className:"flex items-center bg-white/60 backdrop-blur-sm rounded-full px-4 py-2",children:[t.jsx(et,{className:"w-4 h-4 text-green-500 mr-2"}),t.jsx("span",{className:"font-medium",children:"Zero fees"})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-8",children:[e?t.jsxs("button",{onClick:()=>a("/home"),className:"group bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-200 shadow-xl hover:shadow-2xl transform hover:-translate-y-1 flex items-center justify-center",children:["Go to Dashboard",t.jsx(Bs,{className:"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform"})]}):t.jsxs("button",{onClick:()=>{console.log("Start Earning Today clicked"),a("/auth")},className:"group bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-200 shadow-xl hover:shadow-2xl transform hover:-translate-y-1 flex items-center justify-center",children:["Start Earning Today",t.jsx(Bs,{className:"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),t.jsxs("button",{className:"border-2 border-gray-300 hover:border-gray-400 text-gray-700 hover:text-gray-900 px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-200 flex items-center justify-center hover:bg-gray-50",children:[t.jsx(lS,{className:"mr-2 w-5 h-5"}),"See How it Works"]})]}),t.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 border border-gray-200 shadow-lg max-w-md mx-auto",children:[t.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Early earnings this week:"}),t.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",s.payout.toFixed(1),"k"]}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Average per early user: $",s.earnings]})]})]})})]}),t.jsx("section",{className:"bg-gradient-to-r from-orange-50 to-red-50 border-b border-gray-100 py-16",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between space-y-8 lg:space-y-0 lg:space-x-12",children:[t.jsxs("div",{className:"lg:w-1/2",children:[t.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Brands & Businesses"}),t.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Connect with authentic creators and build campaigns that drive real engagement from day one."}),t.jsxs("div",{className:"space-y-3 mb-6",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(et,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Work with vetted early adopters"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(et,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Track campaign performance"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(et,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Start with free sample campaigns"})]})]}),t.jsx("button",{onClick:()=>{console.log("Start Advertising clicked"),a(e?"/advertiser/onboarding":"/auth")},className:"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white px-8 py-3 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl",children:e?"Go to Advertising":"Start Advertising"})]}),t.jsx("div",{className:"lg:w-1/2",children:t.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Early Advertiser Benefits"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:"Free"}),t.jsx("div",{className:"text-sm text-blue-700",children:"Sample campaigns"})]}),t.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:"95%"}),t.jsx("div",{className:"text-sm text-purple-700",children:"Completion rate"})]}),t.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:"127"}),t.jsx("div",{className:"text-sm text-green-700",children:"Early creators"})]}),t.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:"4.8"}),t.jsx("div",{className:"text-sm text-orange-700",children:"Campaign rating"})]})]})]})})]})})}),t.jsx("section",{className:"bg-white border-b border-gray-100 py-12",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx("p",{className:"text-center text-gray-500 text-sm mb-8",children:"Creators earn across these platforms"}),t.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-8 items-center",children:[{name:"Instagram",icon:"",color:"from-purple-500 to-pink-500",url:"https://instagram.com"},{name:"TikTok",icon:"",color:"from-gray-900 to-gray-700",url:"https://tiktok.com"},{name:"YouTube",icon:"",color:"from-red-600 to-red-500",url:"https://youtube.com"},{name:"Twitter",icon:"",color:"from-blue-500 to-blue-400",url:"https://twitter.com"},{name:"LinkedIn",icon:"",color:"from-blue-700 to-blue-600",url:"https://linkedin.com"},{name:"Facebook",icon:"",color:"from-blue-600 to-blue-500",url:"https://facebook.com"}].map(o=>t.jsxs("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"group text-center hover:scale-110 transition-all duration-200",children:[t.jsx("div",{className:`bg-gradient-to-tr ${o.color} rounded-xl h-14 w-14 mx-auto flex items-center justify-center text-white font-bold text-xl group-hover:shadow-lg transition-shadow mb-2`,children:o.icon}),t.jsx("p",{className:"text-xs text-gray-600 group-hover:text-gray-900 transition-colors",children:o.name})]},o.name))})]})}),t.jsx("section",{id:"features",className:"py-20 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Four Ways to Earn"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Multiple income streams designed for creators, investors, and brands"})]}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:t.jsx(mr,{className:"w-8 h-8 text-blue-600"}),title:"Complete Tasks",description:"Micro-tasks and content creation",payout:"$25 avg",bgColorClass:"bg-blue-100",textColorClass:"text-blue-600"},{icon:t.jsx(at,{className:"w-8 h-8 text-green-600"}),title:"Invest in Content",description:"Own shares of viral content",payout:"12.5% ROI",bgColorClass:"bg-green-100",textColorClass:"text-green-600"},{icon:t.jsx(Kt,{className:"w-8 h-8 text-purple-600"}),title:"Social Predictions",description:"Predict content performance",payout:"87% win rate",bgColorClass:"bg-purple-100",textColorClass:"text-purple-600"},{icon:t.jsx(zt,{className:"w-8 h-8 text-orange-600"}),title:"Brand Partnerships",description:"Collaborate with 500+ brands",payout:"Fair compensation",bgColorClass:"bg-orange-100",textColorClass:"text-orange-600"}].map((o,d)=>t.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-200 hover:-translate-y-1",children:[t.jsx("div",{className:`${o.bgColorClass} rounded-xl p-3 w-fit mb-4`,children:o.icon}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:o.title}),t.jsx("p",{className:"text-gray-600 mb-4",children:o.description}),t.jsx("div",{className:`${o.textColorClass} font-semibold text-sm`,children:o.payout})]},d))})]})}),t.jsx("section",{id:"how-it-works",className:"py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Start Earning in 3 Steps"}),t.jsx("p",{className:"text-xl text-gray-600",children:"Simple. Fast. Profitable."})]}),t.jsx("div",{className:"grid lg:grid-cols-3 gap-12 max-w-4xl mx-auto",children:[{step:"1",title:"Sign Up Free",description:"Create your account in under 2 minutes",colorClass:"bg-gradient-to-r from-blue-500 to-blue-600"},{step:"2",title:"Choose Your Path",description:"Select earning methods that fit your style",colorClass:"bg-gradient-to-r from-purple-500 to-purple-600"},{step:"3",title:"Get Paid",description:"Withdraw earnings instantly to your account",colorClass:"bg-gradient-to-r from-green-500 to-green-600"}].map((o,d)=>t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:`${o.colorClass} rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-6 text-white font-bold text-2xl shadow-lg`,children:o.step}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:o.title}),t.jsx("p",{className:"text-gray-600",children:o.description})]},d))})]})}),t.jsxs("section",{className:"py-20 bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-700 text-white relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-black opacity-20"}),t.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[t.jsx("h2",{className:"text-3xl font-bold mb-12",children:"Growing with Our Early Community"}),t.jsxs("div",{className:"grid lg:grid-cols-4 gap-8 mb-12",children:[t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6",children:[t.jsx("div",{className:"text-4xl font-bold mb-2 text-yellow-300",children:s.earners.toLocaleString()}),t.jsx("div",{className:"text-blue-100",children:"Early Adopters"})]}),t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6",children:[t.jsxs("div",{className:"text-4xl font-bold mb-2 text-green-300",children:["$",s.payout.toFixed(1),"k"]}),t.jsx("div",{className:"text-blue-100",children:"Paid Out So Far"})]}),t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6",children:[t.jsx("div",{className:"text-4xl font-bold mb-2 text-pink-300",children:"4.8"}),t.jsx("div",{className:"text-blue-100",children:"Early User Rating"})]}),t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6",children:[t.jsxs("div",{className:"text-4xl font-bold mb-2 text-orange-300",children:["$",s.earnings]}),t.jsx("div",{className:"text-blue-100",children:"Average Weekly Earnings"})]})]}),t.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 rounded-2xl px-8 py-6 inline-block",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(mc,{className:"w-6 h-6 animate-pulse"}),t.jsx("span",{className:"font-bold text-lg",children:"Be part of something new from the ground up"})]})})]})]}),t.jsx("section",{id:"success-stories",className:"py-20 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Real People, Real Results"}),t.jsx("p",{className:"text-xl text-gray-600",children:"Success stories from our community"})]}),t.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:[{name:"Sarah Chen",role:"Early Creator",earnings:"$247",timeframe:"first month",quote:"Made $25 on my first day with zero followers. Love being an early adopter!"},{name:"Mike Rodriguez",role:"Beta Tester",earnings:"$384",timeframe:"2 months",quote:"Getting in early feels amazing. The platform has real potential."},{name:"Local Coffee Co.",role:"Early Brand Partner",earnings:"Great reach",timeframe:"6 weeks",quote:"Loving the authentic engagement from real early users. Quality over quantity."}].map((o,d)=>t.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full mr-4"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-gray-900",children:o.name}),t.jsx("p",{className:"text-gray-600 text-sm",children:o.role})]})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:[t.jsx("div",{className:"text-lg font-bold text-green-600",children:o.earnings}),t.jsxs("div",{className:"text-xs text-green-700",children:["in ",o.timeframe]})]}),t.jsxs("p",{className:"text-gray-700 italic",children:['"',o.quote,'"']}),t.jsx("div",{className:"flex items-center text-yellow-500 mt-4",children:[...Array(5)].map((u,h)=>t.jsx(Ue,{className:"w-4 h-4 fill-current"},h))})]},d))})]})}),t.jsx("section",{className:"py-20 bg-gray-900 text-white",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[t.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-6",children:"Your Financial Freedom Starts Now"}),t.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Join thousands of creators already earning on Promorang"}),t.jsxs("button",{onClick:()=>{console.log("Final CTA clicked"),a(e?"/home":"/auth")},className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-12 py-4 rounded-xl font-semibold text-lg transition-all duration-200 shadow-xl hover:shadow-2xl transform hover:-translate-y-1 inline-flex items-center",children:[e?"Go to Dashboard":"Start Earning Today",t.jsx(LA,{className:"ml-2 w-5 h-5"})]}),t.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[t.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:t.jsxs("div",{className:"font-bold text-green-300 flex items-center justify-center",children:[t.jsx(et,{className:"w-4 h-4 mr-2"}),"100% Free to Start"]})}),t.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:t.jsxs("div",{className:"font-bold text-yellow-300 flex items-center justify-center",children:[t.jsx(at,{className:"w-4 h-4 mr-2"}),"Grow Your Wealth"]})}),t.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:t.jsxs("div",{className:"font-bold text-blue-300 flex items-center justify-center",children:[t.jsx(Ar,{className:"w-4 h-4 mr-2"}),"Secure & Trusted"]})})]})]})}),t.jsx("footer",{className:"bg-gray-50 border-t border-gray-200 py-12",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[t.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[t.jsx("img",{src:"https://mocha-cdn.com/0198f6f0-5737-78cb-955a-4b0907aa1065/Promorang_logo_extended-03.png",alt:"Promorang",className:"h-8 w-auto mr-4"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Transform your influence into income"})]}),t.jsxs("div",{className:"flex space-x-8 text-sm text-gray-600",children:[t.jsx("a",{href:"#",className:"hover:text-gray-900 transition-colors",children:"Privacy"}),t.jsx("a",{href:"#",className:"hover:text-gray-900 transition-colors",children:"Terms"}),t.jsx("a",{href:"#",className:"hover:text-gray-900 transition-colors",children:"Support"})]})]}),t.jsx("div",{className:"border-t border-gray-200 mt-8 pt-8 text-center text-gray-500 text-sm",children:t.jsx("p",{children:" 2024 Promorang. All rights reserved."})})]})})]})}function HM(){const{signIn:e,signUp:r,signInWithOAuth:n,demoLogin:a,isPending:s}=Gr(),i=ar(),[o,d]=x.useState(!1),[u,h]=x.useState(!1),[m,p]=x.useState({email:"",password:"",username:"",display_name:""}),[y,v]=x.useState(""),j=async S=>{if(S.preventDefault(),v(""),o){if(!m.email||!m.password||!m.username){v("Please fill in all required fields");return}const C=await r(m.email,m.password);C.error?v(C.error):i("/dashboard")}else{if(!m.email||!m.password){v("Please enter email and password");return}const C=await e(m.email,m.password);C.error?v(C.error):i("/dashboard")}},b=async S=>{v("");const C=await a[S]();C.error?v(C.error):i("/dashboard")},N=async()=>{v("");const S=await n("google");S!=null&&S.error&&v(S.error)};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-md w-full space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("img",{src:"https://mocha-cdn.com/0198f6f0-5737-78cb-955a-4b0907aa1065/Promorang_logo_extended-03.png",alt:"Promorang",className:"h-12 w-auto mx-auto mb-4"}),t.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:o?"Create Account":"Welcome Back"}),t.jsx("p",{className:"mt-2 text-gray-600",children:o?"Join thousands of creators earning on Promorang":"Sign in to your account to continue earning"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("p",{className:"text-center text-sm text-gray-500 font-medium",children:"Quick Demo Login:"}),t.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[t.jsx("button",{onClick:()=>b("creator"),disabled:s,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors disabled:opacity-50",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx(Hr,{className:"w-4 h-4 text-blue-600"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"font-medium",children:"Demo Creator"}),t.jsx("div",{className:"text-xs text-gray-500",children:"creator@demo.com"})]})]})}),t.jsx("button",{onClick:()=>b("investor"),disabled:s,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors disabled:opacity-50",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:t.jsx(Hr,{className:"w-4 h-4 text-purple-600"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"font-medium",children:"Demo Investor"}),t.jsx("div",{className:"text-xs text-gray-500",children:"investor@demo.com"})]})]})}),t.jsx("button",{onClick:()=>b("advertiser"),disabled:s,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors disabled:opacity-50",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:t.jsx(Hr,{className:"w-4 h-4 text-orange-600"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"font-medium",children:"Demo Advertiser"}),t.jsx("div",{className:"text-xs text-gray-500",children:"advertiser@demo.com"})]})]})})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t border-gray-300"})}),t.jsx("div",{className:"relative flex justify-center text-sm",children:t.jsx("span",{className:"px-2 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 text-gray-500",children:"Or continue with"})})]}),t.jsxs("button",{onClick:N,disabled:s,className:"w-full flex justify-center items-center px-4 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors disabled:opacity-50",children:[t.jsx(FA,{className:"w-5 h-5 mr-3 text-red-500"}),"Continue with Google"]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t border-gray-300"})}),t.jsx("div",{className:"relative flex justify-center text-sm",children:t.jsx("span",{className:"px-2 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 text-gray-500",children:"Or use email"})})]}),t.jsxs("form",{className:"space-y-6",onSubmit:j,children:[y&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:y}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Oc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:m.email,onChange:S=>p({...m,email:S.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your email"})]})]}),o&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),t.jsxs("div",{className:"relative",children:[t.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:m.username,onChange:S=>p({...m,username:S.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Choose a username"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"display_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name (Optional)"}),t.jsxs("div",{className:"relative",children:[t.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{id:"display_name",name:"display_name",type:"text",value:m.display_name,onChange:S=>p({...m,display_name:S.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Your display name"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{id:"password",name:"password",type:u?"text":"password",required:!0,value:m.password,onChange:S=>p({...m,password:S.target.value}),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:o?"Create a password":"Enter your password"}),t.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?t.jsx(rT,{className:"w-5 h-5"}):t.jsx(Us,{className:"w-5 h-5"})})]})]}),t.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center items-center px-4 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:s?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),t.jsx("span",{children:o?"Creating Account...":"Signing In..."})]}):t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{children:o?"Create Account":"Sign In"}),t.jsx(Bs,{className:"w-4 h-4"})]})})]}),t.jsx("div",{className:"text-center",children:t.jsxs("p",{className:"text-sm text-gray-600",children:[o?"Already have an account?":"Don't have an account?",t.jsx("button",{type:"button",onClick:()=>{d(!o),v(""),p({email:"",password:"",username:"",display_name:""})},className:"ml-1 font-medium text-blue-600 hover:text-blue-500 transition-colors",children:o?"Sign in instead":"Create one here"})]})}),t.jsx("div",{className:"text-center",children:t.jsx("button",{onClick:()=>i("/"),className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:" Back to Home"})})]})})}function KM(){const e=ar(),[r]=Vk(),[n,a]=x.useState("loading"),[s,i]=x.useState("");return x.useEffect(()=>{(async()=>{const d=r.get("code"),u=r.get("error"),h=r.get("error_description");if(u){console.error("OAuth error:",u,h),a("error"),i(h||u);return}if(d)try{a("success"),setTimeout(()=>{e("/home",{replace:!0})},1500)}catch(m){console.error("OAuth callback error:",m),a("error"),i("Failed to complete authentication")}else e("/auth")})()},[r,e]),n==="loading"?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full mx-auto mb-4"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Completing Sign In..."}),t.jsx("p",{className:"text-gray-600",children:"Please wait while we finish setting up your account."})]})}):n==="error"?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-pink-50 to-orange-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"text-center text-white max-w-2xl mx-auto",children:[t.jsx("div",{className:"mb-4",children:t.jsx(HA,{className:"w-12 h-12 mx-auto text-red-400"})}),t.jsx("h2",{className:"text-2xl font-semibold mb-2 text-gray-900",children:"Authentication Failed"}),t.jsx("p",{className:"text-gray-700 mb-6",children:s||"There was an error completing your sign in. Please try again."}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:()=>e("/auth"),className:"w-full px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors",children:"Try Again"}),t.jsx("button",{onClick:()=>e("/",{replace:!0}),className:"w-full px-6 py-3 bg-white/20 hover:bg-white/30 text-gray-900 rounded-lg font-medium transition-colors",children:"Return to Landing Page"})]})]})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4",children:t.jsxs("div",{className:"text-center text-white max-w-2xl mx-auto",children:[t.jsx("div",{className:"mb-4",children:t.jsx(et,{className:"w-12 h-12 mx-auto text-green-400"})}),t.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Authentication Successful!"}),t.jsx("p",{className:"text-blue-200 mb-6",children:"You will be redirected to the app automatically in a moment..."}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:()=>e("/home",{replace:!0}),className:"w-full px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors",children:"Continue to App"}),t.jsx("button",{onClick:()=>e("/",{replace:!0}),className:"w-full px-6 py-3 bg-white/20 hover:bg-white/30 text-white rounded-lg font-medium transition-colors",children:"Return to Landing Page"})]})]})})}function xS({content:e,wallet:r,isOpen:n,onClose:a,onPurchase:s}){const[i,o]=x.useState(1),[d,u]=x.useState(!1);if(!n)return null;const h=i*e.share_price,m=r&&r.balance>=h,p=Math.min(e.available_shares,r?Math.floor(r.balance/e.share_price):0),y=async()=>{if(!(!m||i<1)){u(!0);try{await s(e,i),a()}catch(v){console.error("Purchase failed:",v)}finally{u(!1)}}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Buy Content Shares"}),t.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:e.title}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Platform:"}),t.jsx("span",{className:"font-medium capitalize",children:e.platform})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Price per share:"}),t.jsxs("span",{className:"font-bold text-green-600",children:["$",e.share_price.toFixed(2)]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Available:"}),t.jsxs("span",{className:"font-medium",children:[e.available_shares," shares"]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of shares"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{type:"button",onClick:()=>o(Math.max(1,i-1)),disabled:i<=1,className:"w-8 h-8 bg-gray-200 hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed rounded text-gray-700 font-bold",children:"-"}),t.jsx("input",{type:"number",value:i,onChange:v=>o(Math.max(1,Math.min(p,parseInt(v.target.value)||1))),min:"1",max:p,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-center"}),t.jsx("button",{type:"button",onClick:()=>o(Math.min(p,i+1)),disabled:i>=p,className:"w-8 h-8 bg-gray-200 hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed rounded text-gray-700 font-bold",children:"+"})]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Max: ",p," shares"]})]}),t.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ft,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Your Balance:"})]}),t.jsxs("span",{className:"font-bold text-blue-900",children:["$",((r==null?void 0:r.balance)||0).toFixed(2)]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(at,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Cost:"})]}),t.jsxs("span",{className:"font-bold text-gray-900",children:["$",h.toFixed(2)]})]})]}),!m&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsxs("p",{className:"text-sm text-red-700",children:["Insufficient balance to purchase ",i," shares"]})}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:a,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:y,disabled:!m||d||i<1,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg font-medium transition-all duration-200",children:d?"Processing...":`Buy ${i} Share${i>1?"s":""}`})]})]})]})})}function gS({user:e,contentId:r,contentTitle:n,isOpen:a,onClose:s,onSuccess:i}){const[o,d]=x.useState("instagram"),[u,h]=x.useState(""),[m,p]=x.useState(!1),[y,v]=x.useState(!1),[j,b]=x.useState(null);if(!a||!e)return null;const N=[{id:"instagram",name:"Instagram",color:"from-pink-500 to-purple-600"},{id:"tiktok",name:"TikTok",color:"from-black to-gray-800"},{id:"twitter",name:"Twitter",color:"from-blue-400 to-blue-600"},{id:"facebook",name:"Facebook",color:"from-blue-600 to-blue-800"},{id:"linkedin",name:"LinkedIn",color:"from-blue-500 to-blue-700"}],S=T=>{switch(T){case"super":return 2;case"premium":return 1.5;case"free":default:return 1}},C=()=>{const $=S(e.user_tier);return Math.floor(10*$)},_=async()=>{if(!u.trim()){b("Please enter the share URL");return}p(!0),b(null);try{const T=await fetch("/api/users/share-content",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({content_id:r,platform:o,share_url:u})});if(T.ok)await T.json(),i(),s(),h(""),d("instagram");else{const $=await T.json();b($.error||"Share recording failed")}}catch(T){console.error("Share recording failed:",T),b("Network error occurred")}finally{p(!1)}},P=async T=>{await navigator.clipboard.writeText(T),v(!0),setTimeout(()=>v(!1),2e3)},O=()=>`${n?`Check out this amazing content: "${n}" on Promorang!`:"Discover amazing content and earn while you engage on Promorang!"} Join me: https://promorang.com`,E=C();return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Sl,{className:"w-6 h-6 text-orange-600"}),t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Share Content"})]}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 border border-orange-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-medium text-orange-900",children:"Points to Earn"}),t.jsx("span",{className:"text-xl font-bold text-orange-600",children:E})]}),t.jsxs("div",{className:"text-xs text-orange-700",children:["Base: 10 pts  ",S(e.user_tier),"x (",e.user_tier," tier)"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Platform"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:N.map(T=>t.jsxs("button",{onClick:()=>d(T.id),className:`p-3 rounded-lg border-2 transition-colors ${o===T.id?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[t.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${T.color} rounded-lg mx-auto mb-1`}),t.jsx("span",{className:"text-sm font-medium",children:T.name})]},T.id))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Suggested Share Text"}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-sm text-gray-700 mb-2",children:O()}),t.jsxs("button",{onClick:()=>P(O()),className:"flex items-center space-x-2 text-orange-600 hover:text-orange-700 text-sm font-medium",children:[y?t.jsx(_a,{className:"w-4 h-4"}):t.jsx(Vl,{className:"w-4 h-4"}),t.jsx("span",{children:y?"Copied!":"Copy Text"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Share URL *"}),t.jsx("input",{type:"url",value:u,onChange:T=>h(T.target.value),placeholder:"https://instagram.com/p/your-post-id/",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Paste the URL of your shared post to verify and earn points"})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"How It Works"}),t.jsxs("ol",{className:"text-sm text-blue-700 space-y-1",children:[t.jsx("li",{children:"1. Copy the suggested text or create your own"}),t.jsx("li",{children:"2. Share on your chosen platform with Promorang mention"}),t.jsx("li",{children:"3. Paste the URL of your shared post here"}),t.jsxs("li",{children:["4. Earn ",E," points instantly!"]})]})]}),j&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsx("p",{className:"text-sm text-red-700",children:j})}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:s,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:_,disabled:!u.trim()||m,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-2",children:m?t.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}):t.jsxs(t.Fragment,{children:[t.jsx(oa,{className:"w-4 h-4"}),t.jsx("span",{children:"Record Share"})]})})]})]})]})})}function yS({user:e,contentId:r,contentTitle:n,contentPlatform:a,contentUrl:s,isOpen:i,onClose:o,onSuccess:d}){var $;const[u,h]=x.useState("like"),[m,p]=x.useState(""),[y,v]=x.useState(null),[j,b]=x.useState(!1),[N,S]=x.useState(null);if(!i||!e)return null;const C=[{id:"like",name:"Like",description:"Like the post on the original platform",icon:""},{id:"comment",name:"Comment",description:"Leave a meaningful comment",icon:""},{id:"share",name:"Share/Repost",description:"Share or repost the content",icon:""},{id:"save",name:"Save/Bookmark",description:"Save or bookmark the content",icon:""},{id:"repost",name:"Story/Repost",description:"Share to your story or timeline",icon:""}],_=D=>{switch(D){case"super":return 2;case"premium":return 1.5;case"free":default:return 1}},P=()=>{const z={like:10,comment:30,save:50,share:100,repost:120}[u]||10,I=_(e.user_tier),F=Math.floor(z*I),M=Math.ceil(F/20);return{points:F,keys:M,multiplier:I}},O=D=>{var I;const z=(I=D.target.files)==null?void 0:I[0];z&&v(z)},E=async()=>{if(!m.trim()&&!y){S("Please provide proof URL or upload a screenshot");return}b(!0),S(null);try{let D="";y&&(new FormData().append("image",y),D=URL.createObjectURL(y));const z=await fetch("/api/users/external-move",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({move_type:u,content_id:r,content_platform:a,content_url:s,proof_url:m||D,proof_type:y?"image":"url"})});if(z.ok){const I=await z.json();d(),o();const F=document.createElement("div");F.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-3 rounded-lg shadow-lg z-50 animate-bounce",F.innerHTML=`
          <div class="flex items-center space-x-2">
            <span class="text-lg"></span>
            <div>
              <div class="font-semibold">+${I.points_earned} points!</div>
              <div class="text-xs opacity-90">+${I.keys_earned} keys  External move verified</div>
            </div>
          </div>
        `,document.body.appendChild(F),setTimeout(()=>{document.body.contains(F)&&document.body.removeChild(F)},4e3),p(""),v(null),h("like")}else{const I=await z.json();S(I.error||"Failed to record external move")}}catch(D){console.error("External move failed:",D),S("Network error occurred")}finally{b(!1)}},T=P();return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(oa,{className:"w-6 h-6 text-purple-600"}),t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"External Move"})]}),t.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"space-y-6",children:[n&&t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:n}),t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[t.jsx("span",{className:"capitalize",children:a}),s&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-700 underline",children:"View Original"})]})]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Reward for External Move"}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"text-2xl font-bold text-purple-600",children:T.points}),t.jsx("span",{className:"text-sm text-purple-700",children:"points"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(Cn,{className:"w-4 h-4 text-orange-500"}),t.jsx("span",{className:"text-sm font-bold text-orange-600",children:T.keys})]})]})]}),t.jsxs("div",{className:"text-xs text-purple-700",children:["10x more than in-app actions  ",T.multiplier,"x ",e.user_tier," tier multiplier"]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["What did you do on ",a,"?"]}),t.jsx("div",{className:"grid grid-cols-1 gap-2",children:C.map(D=>t.jsx("button",{onClick:()=>h(D.id),className:`p-3 rounded-lg border-2 text-left transition-colors ${u===D.id?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"text-xl",children:D.icon}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:D.name}),t.jsx("div",{className:"text-sm text-gray-600",children:D.description})]})]})},D.id))})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Proof of Action *"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Link to your action (optional if uploading image)"}),t.jsx("input",{type:"url",value:m,onChange:D=>p(D.target.value),placeholder:"https://instagram.com/p/your-post/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Or upload a screenshot"}),t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-purple-400 transition-colors",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:O,className:"hidden",id:"proof-upload"}),t.jsx("label",{htmlFor:"proof-upload",className:"cursor-pointer",children:y?t.jsxs("div",{className:"space-y-2",children:[t.jsx(et,{className:"w-8 h-8 text-green-600 mx-auto"}),t.jsx("p",{className:"text-sm font-medium text-green-700",children:y.name}),t.jsx("p",{className:"text-xs text-gray-600",children:"Click to change"})]}):t.jsxs("div",{className:"space-y-2",children:[t.jsx(dc,{className:"w-8 h-8 text-gray-400 mx-auto"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload screenshot"}),t.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 10MB"})]})})]})]})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(dr,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"font-medium text-blue-900",children:"How it works"})]}),t.jsxs("ol",{className:"text-sm text-blue-700 space-y-1 pl-4",children:[t.jsxs("li",{children:["1. Go to the original content on ",a]}),t.jsxs("li",{children:["2. Perform the selected action (",($=C.find(D=>D.id===u))==null?void 0:$.name,")"]}),t.jsx("li",{children:"3. Copy the URL or take a screenshot as proof"}),t.jsxs("li",{children:["4. Submit here to earn ",T.points," points + ",T.keys," keys!"]})]})]}),N&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsx("p",{className:"text-sm text-red-700",children:N})}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:o,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:E,disabled:!m.trim()&&!y||j,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-2",children:j?t.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}):t.jsxs(t.Fragment,{children:[t.jsx(bi,{className:"w-4 h-4"}),t.jsx("span",{children:"Submit Proof"})]})})]})]})]})})}var it;(function(e){e.assertEqual=s=>{};function r(s){}e.assertIs=r;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(d=>typeof s[s[d]]!="number"),o={};for(const d of i)o[d]=s[d];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function a(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=a,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(it||(it={}));var Vw;(function(e){e.mergeShapes=(r,n)=>({...r,...n})})(Vw||(Vw={}));const ke=it.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ts=e=>{switch(typeof e){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return Number.isNaN(e)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(e)?ke.array:e===null?ke.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ke.promise:typeof Map<"u"&&e instanceof Map?ke.map:typeof Set<"u"&&e instanceof Set?ke.set:typeof Date<"u"&&e instanceof Date?ke.date:ke.object;default:return ke.unknown}},ge=it.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Xa extends Error{get errors(){return this.issues}constructor(r){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=r}format(r){const n=r||function(i){return i.message},a={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)a._errors.push(n(o));else{let d=a,u=0;for(;u<o.path.length;){const h=o.path[u];u===o.path.length-1?(d[h]=d[h]||{_errors:[]},d[h]._errors.push(n(o))):d[h]=d[h]||{_errors:[]},d=d[h],u++}}};return s(this),a}static assert(r){if(!(r instanceof Xa))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,it.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=n=>n.message){const n={},a=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(r(s))}else a.push(r(s));return{formErrors:a,fieldErrors:n}}get formErrors(){return this.flatten()}}Xa.create=e=>new Xa(e);const P0=(e,r)=>{let n;switch(e.code){case ge.invalid_type:e.received===ke.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ge.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,it.jsonStringifyReplacer)}`;break;case ge.unrecognized_keys:n=`Unrecognized key(s) in object: ${it.joinValues(e.keys,", ")}`;break;case ge.invalid_union:n="Invalid input";break;case ge.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${it.joinValues(e.options)}`;break;case ge.invalid_enum_value:n=`Invalid enum value. Expected ${it.joinValues(e.options)}, received '${e.received}'`;break;case ge.invalid_arguments:n="Invalid function arguments";break;case ge.invalid_return_type:n="Invalid function return type";break;case ge.invalid_date:n="Invalid date";break;case ge.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:it.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ge.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ge.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ge.custom:n="Invalid input";break;case ge.invalid_intersection_types:n="Intersection results could not be merged";break;case ge.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ge.not_finite:n="Number must be finite";break;default:n=r.defaultError,it.assertNever(e)}return{message:n}};let VM=P0;function GM(){return VM}const YM=e=>{const{data:r,path:n,errorMaps:a,issueData:s}=e,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let d="";const u=a.filter(h=>!!h).slice().reverse();for(const h of u)d=h(o,{data:r,defaultError:d}).message;return{...s,path:i,message:d}};function be(e,r){const n=GM(),a=YM({issueData:r,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===P0?void 0:P0].filter(s=>!!s)});e.common.issues.push(a)}class en{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,n){const a=[];for(const s of n){if(s.status==="aborted")return Re;s.status==="dirty"&&r.dirty(),a.push(s.value)}return{status:r.value,value:a}}static async mergeObjectAsync(r,n){const a=[];for(const s of n){const i=await s.key,o=await s.value;a.push({key:i,value:o})}return en.mergeObjectSync(r,a)}static mergeObjectSync(r,n){const a={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Re;i.status==="dirty"&&r.dirty(),o.status==="dirty"&&r.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(a[i.value]=o.value)}return{status:r.value,value:a}}}const Re=Object.freeze({status:"aborted"}),nc=e=>({status:"dirty",value:e}),Yn=e=>({status:"valid",value:e}),Gw=e=>e.status==="aborted",Yw=e=>e.status==="dirty",El=e=>e.status==="valid",Ku=e=>typeof Promise<"u"&&e instanceof Promise;var Oe;(function(e){e.errToObj=r=>typeof r=="string"?{message:r}:r||{},e.toString=r=>typeof r=="string"?r:r==null?void 0:r.message})(Oe||(Oe={}));class ka{constructor(r,n,a,s){this._cachedPath=[],this.parent=r,this.data=n,this._path=a,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Zw=(e,r)=>{if(El(r))return{success:!0,data:r.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Xa(e.common.issues);return this._error=n,this._error}}};function qe(e){if(!e)return{};const{errorMap:r,invalid_type_error:n,required_error:a,description:s}=e;if(r&&(n||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:s}:{errorMap:(o,d)=>{const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??d.defaultError}:typeof d.data>"u"?{message:u??a??d.defaultError}:o.code!=="invalid_type"?{message:d.defaultError}:{message:u??n??d.defaultError}},description:s}}class Xe{get description(){return this._def.description}_getType(r){return Ts(r.data)}_getOrReturnCtx(r,n){return n||{common:r.parent.common,data:r.data,parsedType:Ts(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new en,ctx:{common:r.parent.common,data:r.data,parsedType:Ts(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const n=this._parse(r);if(Ku(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(r){const n=this._parse(r);return Promise.resolve(n)}parse(r,n){const a=this.safeParse(r,n);if(a.success)return a.data;throw a.error}safeParse(r,n){const a={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Ts(r)},s=this._parseSync({data:r,path:a.path,parent:a});return Zw(a,s)}"~validate"(r){var a,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Ts(r)};if(!this["~standard"].async)try{const i=this._parseSync({data:r,path:[],parent:n});return El(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(a=i==null?void 0:i.message)==null?void 0:a.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:r,path:[],parent:n}).then(i=>El(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(r,n){const a=await this.safeParseAsync(r,n);if(a.success)return a.data;throw a.error}async safeParseAsync(r,n){const a={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Ts(r)},s=this._parse({data:r,path:a.path,parent:a}),i=await(Ku(s)?s:Promise.resolve(s));return Zw(a,i)}refine(r,n){const a=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=r(s),d=()=>i.addIssue({code:ge.custom,...a(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(d(),!1)):o?!0:(d(),!1)})}refinement(r,n){return this._refinement((a,s)=>r(a)?!0:(s.addIssue(typeof n=="function"?n(a,s):n),!1))}_refinement(r){return new Tl({schema:this,typeName:Le.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Fs.create(this,this._def)}nullable(){return Ml.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wa.create(this)}promise(){return Xu.create(this,this._def)}or(r){return Gu.create([this,r],this._def)}and(r){return Yu.create(this,r,this._def)}transform(r){return new Tl({...qe(this._def),schema:this,typeName:Le.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const n=typeof r=="function"?r:()=>r;return new T0({...qe(this._def),innerType:this,defaultValue:n,typeName:Le.ZodDefault})}brand(){return new yD({typeName:Le.ZodBranded,type:this,...qe(this._def)})}catch(r){const n=typeof r=="function"?r:()=>r;return new M0({...qe(this._def),innerType:this,catchValue:n,typeName:Le.ZodCatch})}describe(r){const n=this.constructor;return new n({...this._def,description:r})}pipe(r){return qg.create(this,r)}readonly(){return D0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ZM=/^c[^\s-]{8,}$/i,XM=/^[0-9a-z]+$/,JM=/^[0-9A-HJKMNP-TV-Z]{26}$/i,QM=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,eD=/^[a-z0-9_-]{21}$/i,tD=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,rD=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nD=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,aD="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Pp;const sD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,lD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,oD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cD=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dD=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,vS="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",uD=new RegExp(`^${vS}$`);function bS(e){let r="[0-5]\\d";e.precision?r=`${r}\\.\\d{${e.precision}}`:e.precision==null&&(r=`${r}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${r})${n}`}function mD(e){return new RegExp(`^${bS(e)}$`)}function fD(e){let r=`${vS}T${bS(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${n.join("|")})`,new RegExp(`^${r}$`)}function hD(e,r){return!!((r==="v4"||!r)&&sD.test(e)||(r==="v6"||!r)&&lD.test(e))}function pD(e,r){if(!tD.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const a=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(a));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||r&&s.alg!==r)}catch{return!1}}function xD(e,r){return!!((r==="v4"||!r)&&iD.test(e)||(r==="v6"||!r)&&oD.test(e))}class Ua extends Xe{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==ke.string){const i=this._getOrReturnCtx(r);return be(i,{code:ge.invalid_type,expected:ke.string,received:i.parsedType}),Re}const a=new en;let s;for(const i of this._def.checks)if(i.kind==="min")r.data.length<i.value&&(s=this._getOrReturnCtx(r,s),be(s,{code:ge.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")r.data.length>i.value&&(s=this._getOrReturnCtx(r,s),be(s,{code:ge.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){const o=r.data.length>i.value,d=r.data.length<i.value;(o||d)&&(s=this._getOrReturnCtx(r,s),o?be(s,{code:ge.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):d&&be(s,{code:ge.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")nD.test(r.data)||(s=this._getOrReturnCtx(r,s),be(s,{validation:"email",code:ge.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")Pp||(Pp=new RegExp(aD,"u")),Pp.test(r.data)||(s=this._getOrReturnCtx(r,s),be(s,{validation:"emoji",code:ge.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")QM.test(r.data)||(s=this._getOrReturnCtx(r,s),be(s,{validation:"uuid",code:ge.invalid_string,message:i.message}),a.dirty());else if(i.kind==="nanoid")eD.test(r.data)||(s=this._getOrReturnCtx(r,s),be(s,{validation:"nanoid",code:ge.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")ZM.test(r.data)||(s=this._getOrReturnCtx(r,s),be(s,{validation:"cuid",code:ge.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")XM.test(r.data)||(s=this._getOrReturnCtx(r,s),be(s,{validation:"cuid2",code:ge.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")JM.test(r.data)||(s=this._getOrReturnCtx(r,s),be(s,{validation:"ulid",code:ge.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(r.data)}catch{s=this._getOrReturnCtx(r,s),be(s,{validation:"url",code:ge.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(r.data)||(s=this._getOrReturnCtx(r,s),be(s,{validation:"regex",code:ge.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?r.data=r.data.trim():i.kind==="includes"?r.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(r,s),be(s,{code:ge.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?r.data=r.data.toLowerCase():i.kind==="toUpperCase"?r.data=r.data.toUpperCase():i.kind==="startsWith"?r.data.startsWith(i.value)||(s=this._getOrReturnCtx(r,s),be(s,{code:ge.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?r.data.endsWith(i.value)||(s=this._getOrReturnCtx(r,s),be(s,{code:ge.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?fD(i).test(r.data)||(s=this._getOrReturnCtx(r,s),be(s,{code:ge.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="date"?uD.test(r.data)||(s=this._getOrReturnCtx(r,s),be(s,{code:ge.invalid_string,validation:"date",message:i.message}),a.dirty()):i.kind==="time"?mD(i).test(r.data)||(s=this._getOrReturnCtx(r,s),be(s,{code:ge.invalid_string,validation:"time",message:i.message}),a.dirty()):i.kind==="duration"?rD.test(r.data)||(s=this._getOrReturnCtx(r,s),be(s,{validation:"duration",code:ge.invalid_string,message:i.message}),a.dirty()):i.kind==="ip"?hD(r.data,i.version)||(s=this._getOrReturnCtx(r,s),be(s,{validation:"ip",code:ge.invalid_string,message:i.message}),a.dirty()):i.kind==="jwt"?pD(r.data,i.alg)||(s=this._getOrReturnCtx(r,s),be(s,{validation:"jwt",code:ge.invalid_string,message:i.message}),a.dirty()):i.kind==="cidr"?xD(r.data,i.version)||(s=this._getOrReturnCtx(r,s),be(s,{validation:"cidr",code:ge.invalid_string,message:i.message}),a.dirty()):i.kind==="base64"?cD.test(r.data)||(s=this._getOrReturnCtx(r,s),be(s,{validation:"base64",code:ge.invalid_string,message:i.message}),a.dirty()):i.kind==="base64url"?dD.test(r.data)||(s=this._getOrReturnCtx(r,s),be(s,{validation:"base64url",code:ge.invalid_string,message:i.message}),a.dirty()):it.assertNever(i);return{status:a.value,value:r.data}}_regex(r,n,a){return this.refinement(s=>r.test(s),{validation:n,code:ge.invalid_string,...Oe.errToObj(a)})}_addCheck(r){return new Ua({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...Oe.errToObj(r)})}url(r){return this._addCheck({kind:"url",...Oe.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...Oe.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...Oe.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...Oe.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...Oe.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...Oe.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...Oe.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...Oe.errToObj(r)})}base64url(r){return this._addCheck({kind:"base64url",...Oe.errToObj(r)})}jwt(r){return this._addCheck({kind:"jwt",...Oe.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...Oe.errToObj(r)})}cidr(r){return this._addCheck({kind:"cidr",...Oe.errToObj(r)})}datetime(r){return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,offset:(r==null?void 0:r.offset)??!1,local:(r==null?void 0:r.local)??!1,...Oe.errToObj(r==null?void 0:r.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck({kind:"time",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,...Oe.errToObj(r==null?void 0:r.message)})}duration(r){return this._addCheck({kind:"duration",...Oe.errToObj(r)})}regex(r,n){return this._addCheck({kind:"regex",regex:r,...Oe.errToObj(n)})}includes(r,n){return this._addCheck({kind:"includes",value:r,position:n==null?void 0:n.position,...Oe.errToObj(n==null?void 0:n.message)})}startsWith(r,n){return this._addCheck({kind:"startsWith",value:r,...Oe.errToObj(n)})}endsWith(r,n){return this._addCheck({kind:"endsWith",value:r,...Oe.errToObj(n)})}min(r,n){return this._addCheck({kind:"min",value:r,...Oe.errToObj(n)})}max(r,n){return this._addCheck({kind:"max",value:r,...Oe.errToObj(n)})}length(r,n){return this._addCheck({kind:"length",value:r,...Oe.errToObj(n)})}nonempty(r){return this.min(1,Oe.errToObj(r))}trim(){return new Ua({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ua({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ua({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isCIDR(){return!!this._def.checks.find(r=>r.kind==="cidr")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get isBase64url(){return!!this._def.checks.find(r=>r.kind==="base64url")}get minLength(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxLength(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}}Ua.create=e=>new Ua({checks:[],typeName:Le.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...qe(e)});function gD(e,r){const n=(e.toString().split(".")[1]||"").length,a=(r.toString().split(".")[1]||"").length,s=n>a?n:a,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(r.toFixed(s).replace(".",""));return i%o/10**s}class Ol extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==ke.number){const i=this._getOrReturnCtx(r);return be(i,{code:ge.invalid_type,expected:ke.number,received:i.parsedType}),Re}let a;const s=new en;for(const i of this._def.checks)i.kind==="int"?it.isInteger(r.data)||(a=this._getOrReturnCtx(r,a),be(a,{code:ge.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?r.data<i.value:r.data<=i.value)&&(a=this._getOrReturnCtx(r,a),be(a,{code:ge.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?r.data>i.value:r.data>=i.value)&&(a=this._getOrReturnCtx(r,a),be(a,{code:ge.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?gD(r.data,i.value)!==0&&(a=this._getOrReturnCtx(r,a),be(a,{code:ge.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(r.data)||(a=this._getOrReturnCtx(r,a),be(a,{code:ge.not_finite,message:i.message}),s.dirty()):it.assertNever(i);return{status:s.value,value:r.data}}gte(r,n){return this.setLimit("min",r,!0,Oe.toString(n))}gt(r,n){return this.setLimit("min",r,!1,Oe.toString(n))}lte(r,n){return this.setLimit("max",r,!0,Oe.toString(n))}lt(r,n){return this.setLimit("max",r,!1,Oe.toString(n))}setLimit(r,n,a,s){return new Ol({...this._def,checks:[...this._def.checks,{kind:r,value:n,inclusive:a,message:Oe.toString(s)}]})}_addCheck(r){return new Ol({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:Oe.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Oe.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Oe.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Oe.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Oe.toString(r)})}multipleOf(r,n){return this._addCheck({kind:"multipleOf",value:r,message:Oe.toString(n)})}finite(r){return this._addCheck({kind:"finite",message:Oe.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Oe.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Oe.toString(r)})}get minValue(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxValue(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&it.isInteger(r.value))}get isFinite(){let r=null,n=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(n===null||a.value>n)&&(n=a.value):a.kind==="max"&&(r===null||a.value<r)&&(r=a.value)}return Number.isFinite(n)&&Number.isFinite(r)}}Ol.create=e=>new Ol({checks:[],typeName:Le.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...qe(e)});class fc extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce)try{r.data=BigInt(r.data)}catch{return this._getInvalidInput(r)}if(this._getType(r)!==ke.bigint)return this._getInvalidInput(r);let a;const s=new en;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?r.data<i.value:r.data<=i.value)&&(a=this._getOrReturnCtx(r,a),be(a,{code:ge.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?r.data>i.value:r.data>=i.value)&&(a=this._getOrReturnCtx(r,a),be(a,{code:ge.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?r.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(r,a),be(a,{code:ge.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):it.assertNever(i);return{status:s.value,value:r.data}}_getInvalidInput(r){const n=this._getOrReturnCtx(r);return be(n,{code:ge.invalid_type,expected:ke.bigint,received:n.parsedType}),Re}gte(r,n){return this.setLimit("min",r,!0,Oe.toString(n))}gt(r,n){return this.setLimit("min",r,!1,Oe.toString(n))}lte(r,n){return this.setLimit("max",r,!0,Oe.toString(n))}lt(r,n){return this.setLimit("max",r,!1,Oe.toString(n))}setLimit(r,n,a,s){return new fc({...this._def,checks:[...this._def.checks,{kind:r,value:n,inclusive:a,message:Oe.toString(s)}]})}_addCheck(r){return new fc({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Oe.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Oe.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Oe.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Oe.toString(r)})}multipleOf(r,n){return this._addCheck({kind:"multipleOf",value:r,message:Oe.toString(n)})}get minValue(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxValue(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}}fc.create=e=>new fc({checks:[],typeName:Le.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...qe(e)});class E0 extends Xe{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==ke.boolean){const a=this._getOrReturnCtx(r);return be(a,{code:ge.invalid_type,expected:ke.boolean,received:a.parsedType}),Re}return Yn(r.data)}}E0.create=e=>new E0({typeName:Le.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...qe(e)});class Vu extends Xe{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==ke.date){const i=this._getOrReturnCtx(r);return be(i,{code:ge.invalid_type,expected:ke.date,received:i.parsedType}),Re}if(Number.isNaN(r.data.getTime())){const i=this._getOrReturnCtx(r);return be(i,{code:ge.invalid_date}),Re}const a=new en;let s;for(const i of this._def.checks)i.kind==="min"?r.data.getTime()<i.value&&(s=this._getOrReturnCtx(r,s),be(s,{code:ge.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?r.data.getTime()>i.value&&(s=this._getOrReturnCtx(r,s),be(s,{code:ge.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):it.assertNever(i);return{status:a.value,value:new Date(r.data.getTime())}}_addCheck(r){return new Vu({...this._def,checks:[...this._def.checks,r]})}min(r,n){return this._addCheck({kind:"min",value:r.getTime(),message:Oe.toString(n)})}max(r,n){return this._addCheck({kind:"max",value:r.getTime(),message:Oe.toString(n)})}get minDate(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r!=null?new Date(r):null}}Vu.create=e=>new Vu({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Le.ZodDate,...qe(e)});class Xw extends Xe{_parse(r){if(this._getType(r)!==ke.symbol){const a=this._getOrReturnCtx(r);return be(a,{code:ge.invalid_type,expected:ke.symbol,received:a.parsedType}),Re}return Yn(r.data)}}Xw.create=e=>new Xw({typeName:Le.ZodSymbol,...qe(e)});class Jw extends Xe{_parse(r){if(this._getType(r)!==ke.undefined){const a=this._getOrReturnCtx(r);return be(a,{code:ge.invalid_type,expected:ke.undefined,received:a.parsedType}),Re}return Yn(r.data)}}Jw.create=e=>new Jw({typeName:Le.ZodUndefined,...qe(e)});class Qw extends Xe{_parse(r){if(this._getType(r)!==ke.null){const a=this._getOrReturnCtx(r);return be(a,{code:ge.invalid_type,expected:ke.null,received:a.parsedType}),Re}return Yn(r.data)}}Qw.create=e=>new Qw({typeName:Le.ZodNull,...qe(e)});class O0 extends Xe{constructor(){super(...arguments),this._any=!0}_parse(r){return Yn(r.data)}}O0.create=e=>new O0({typeName:Le.ZodAny,...qe(e)});class eN extends Xe{constructor(){super(...arguments),this._unknown=!0}_parse(r){return Yn(r.data)}}eN.create=e=>new eN({typeName:Le.ZodUnknown,...qe(e)});class Ws extends Xe{_parse(r){const n=this._getOrReturnCtx(r);return be(n,{code:ge.invalid_type,expected:ke.never,received:n.parsedType}),Re}}Ws.create=e=>new Ws({typeName:Le.ZodNever,...qe(e)});class tN extends Xe{_parse(r){if(this._getType(r)!==ke.undefined){const a=this._getOrReturnCtx(r);return be(a,{code:ge.invalid_type,expected:ke.void,received:a.parsedType}),Re}return Yn(r.data)}}tN.create=e=>new tN({typeName:Le.ZodVoid,...qe(e)});class wa extends Xe{_parse(r){const{ctx:n,status:a}=this._processInputParams(r),s=this._def;if(n.parsedType!==ke.array)return be(n,{code:ge.invalid_type,expected:ke.array,received:n.parsedType}),Re;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,d=n.data.length<s.exactLength.value;(o||d)&&(be(n,{code:o?ge.too_big:ge.too_small,minimum:d?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),a.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(be(n,{code:ge.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),a.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(be(n,{code:ge.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),a.dirty()),n.common.async)return Promise.all([...n.data].map((o,d)=>s.type._parseAsync(new ka(n,o,n.path,d)))).then(o=>en.mergeArray(a,o));const i=[...n.data].map((o,d)=>s.type._parseSync(new ka(n,o,n.path,d)));return en.mergeArray(a,i)}get element(){return this._def.type}min(r,n){return new wa({...this._def,minLength:{value:r,message:Oe.toString(n)}})}max(r,n){return new wa({...this._def,maxLength:{value:r,message:Oe.toString(n)}})}length(r,n){return new wa({...this._def,exactLength:{value:r,message:Oe.toString(n)}})}nonempty(r){return this.min(1,r)}}wa.create=(e,r)=>new wa({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Le.ZodArray,...qe(r)});function pl(e){if(e instanceof Qt){const r={};for(const n in e.shape){const a=e.shape[n];r[n]=Fs.create(pl(a))}return new Qt({...e._def,shape:()=>r})}else return e instanceof wa?new wa({...e._def,type:pl(e.element)}):e instanceof Fs?Fs.create(pl(e.unwrap())):e instanceof Ml?Ml.create(pl(e.unwrap())):e instanceof Si?Si.create(e.items.map(r=>pl(r))):e}class Qt extends Xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),n=it.objectKeys(r);return this._cached={shape:r,keys:n},this._cached}_parse(r){if(this._getType(r)!==ke.object){const h=this._getOrReturnCtx(r);return be(h,{code:ge.invalid_type,expected:ke.object,received:h.parsedType}),Re}const{status:a,ctx:s}=this._processInputParams(r),{shape:i,keys:o}=this._getCached(),d=[];if(!(this._def.catchall instanceof Ws&&this._def.unknownKeys==="strip"))for(const h in s.data)o.includes(h)||d.push(h);const u=[];for(const h of o){const m=i[h],p=s.data[h];u.push({key:{status:"valid",value:h},value:m._parse(new ka(s,p,s.path,h)),alwaysSet:h in s.data})}if(this._def.catchall instanceof Ws){const h=this._def.unknownKeys;if(h==="passthrough")for(const m of d)u.push({key:{status:"valid",value:m},value:{status:"valid",value:s.data[m]}});else if(h==="strict")d.length>0&&(be(s,{code:ge.unrecognized_keys,keys:d}),a.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const m of d){const p=s.data[m];u.push({key:{status:"valid",value:m},value:h._parse(new ka(s,p,s.path,m)),alwaysSet:m in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const h=[];for(const m of u){const p=await m.key,y=await m.value;h.push({key:p,value:y,alwaysSet:m.alwaysSet})}return h}).then(h=>en.mergeObjectSync(a,h)):en.mergeObjectSync(a,u)}get shape(){return this._def.shape()}strict(r){return Oe.errToObj,new Qt({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(n,a)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,a).message)??a.defaultError;return n.code==="unrecognized_keys"?{message:Oe.errToObj(r).message??s}:{message:s}}}:{}})}strip(){return new Qt({...this._def,unknownKeys:"strip"})}passthrough(){return new Qt({...this._def,unknownKeys:"passthrough"})}extend(r){return new Qt({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new Qt({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:Le.ZodObject})}setKey(r,n){return this.augment({[r]:n})}catchall(r){return new Qt({...this._def,catchall:r})}pick(r){const n={};for(const a of it.objectKeys(r))r[a]&&this.shape[a]&&(n[a]=this.shape[a]);return new Qt({...this._def,shape:()=>n})}omit(r){const n={};for(const a of it.objectKeys(this.shape))r[a]||(n[a]=this.shape[a]);return new Qt({...this._def,shape:()=>n})}deepPartial(){return pl(this)}partial(r){const n={};for(const a of it.objectKeys(this.shape)){const s=this.shape[a];r&&!r[a]?n[a]=s:n[a]=s.optional()}return new Qt({...this._def,shape:()=>n})}required(r){const n={};for(const a of it.objectKeys(this.shape))if(r&&!r[a])n[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof Fs;)i=i._def.innerType;n[a]=i}return new Qt({...this._def,shape:()=>n})}keyof(){return jS(it.objectKeys(this.shape))}}Qt.create=(e,r)=>new Qt({shape:()=>e,unknownKeys:"strip",catchall:Ws.create(),typeName:Le.ZodObject,...qe(r)});Qt.strictCreate=(e,r)=>new Qt({shape:()=>e,unknownKeys:"strict",catchall:Ws.create(),typeName:Le.ZodObject,...qe(r)});Qt.lazycreate=(e,r)=>new Qt({shape:e,unknownKeys:"strip",catchall:Ws.create(),typeName:Le.ZodObject,...qe(r)});class Gu extends Xe{_parse(r){const{ctx:n}=this._processInputParams(r),a=this._def.options;function s(i){for(const d of i)if(d.result.status==="valid")return d.result;for(const d of i)if(d.result.status==="dirty")return n.common.issues.push(...d.ctx.common.issues),d.result;const o=i.map(d=>new Xa(d.ctx.common.issues));return be(n,{code:ge.invalid_union,unionErrors:o}),Re}if(n.common.async)return Promise.all(a.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const u of a){const h={...n,common:{...n.common,issues:[]},parent:null},m=u._parseSync({data:n.data,path:n.path,parent:h});if(m.status==="valid")return m;m.status==="dirty"&&!i&&(i={result:m,ctx:h}),h.common.issues.length&&o.push(h.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const d=o.map(u=>new Xa(u));return be(n,{code:ge.invalid_union,unionErrors:d}),Re}}get options(){return this._def.options}}Gu.create=(e,r)=>new Gu({options:e,typeName:Le.ZodUnion,...qe(r)});function A0(e,r){const n=Ts(e),a=Ts(r);if(e===r)return{valid:!0,data:e};if(n===ke.object&&a===ke.object){const s=it.objectKeys(r),i=it.objectKeys(e).filter(d=>s.indexOf(d)!==-1),o={...e,...r};for(const d of i){const u=A0(e[d],r[d]);if(!u.valid)return{valid:!1};o[d]=u.data}return{valid:!0,data:o}}else if(n===ke.array&&a===ke.array){if(e.length!==r.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],d=r[i],u=A0(o,d);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return n===ke.date&&a===ke.date&&+e==+r?{valid:!0,data:e}:{valid:!1}}class Yu extends Xe{_parse(r){const{status:n,ctx:a}=this._processInputParams(r),s=(i,o)=>{if(Gw(i)||Gw(o))return Re;const d=A0(i.value,o.value);return d.valid?((Yw(i)||Yw(o))&&n.dirty(),{status:n.value,value:d.data}):(be(a,{code:ge.invalid_intersection_types}),Re)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}Yu.create=(e,r,n)=>new Yu({left:e,right:r,typeName:Le.ZodIntersection,...qe(n)});class Si extends Xe{_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.parsedType!==ke.array)return be(a,{code:ge.invalid_type,expected:ke.array,received:a.parsedType}),Re;if(a.data.length<this._def.items.length)return be(a,{code:ge.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Re;!this._def.rest&&a.data.length>this._def.items.length&&(be(a,{code:ge.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...a.data].map((o,d)=>{const u=this._def.items[d]||this._def.rest;return u?u._parse(new ka(a,o,a.path,d)):null}).filter(o=>!!o);return a.common.async?Promise.all(i).then(o=>en.mergeArray(n,o)):en.mergeArray(n,i)}get items(){return this._def.items}rest(r){return new Si({...this._def,rest:r})}}Si.create=(e,r)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Si({items:e,typeName:Le.ZodTuple,rest:null,...qe(r)})};class Zu extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.parsedType!==ke.object)return be(a,{code:ge.invalid_type,expected:ke.object,received:a.parsedType}),Re;const s=[],i=this._def.keyType,o=this._def.valueType;for(const d in a.data)s.push({key:i._parse(new ka(a,d,a.path,d)),value:o._parse(new ka(a,a.data[d],a.path,d)),alwaysSet:d in a.data});return a.common.async?en.mergeObjectAsync(n,s):en.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(r,n,a){return n instanceof Xe?new Zu({keyType:r,valueType:n,typeName:Le.ZodRecord,...qe(a)}):new Zu({keyType:Ua.create(),valueType:r,typeName:Le.ZodRecord,...qe(n)})}}class rN extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.parsedType!==ke.map)return be(a,{code:ge.invalid_type,expected:ke.map,received:a.parsedType}),Re;const s=this._def.keyType,i=this._def.valueType,o=[...a.data.entries()].map(([d,u],h)=>({key:s._parse(new ka(a,d,a.path,[h,"key"])),value:i._parse(new ka(a,u,a.path,[h,"value"]))}));if(a.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const u of o){const h=await u.key,m=await u.value;if(h.status==="aborted"||m.status==="aborted")return Re;(h.status==="dirty"||m.status==="dirty")&&n.dirty(),d.set(h.value,m.value)}return{status:n.value,value:d}})}else{const d=new Map;for(const u of o){const h=u.key,m=u.value;if(h.status==="aborted"||m.status==="aborted")return Re;(h.status==="dirty"||m.status==="dirty")&&n.dirty(),d.set(h.value,m.value)}return{status:n.value,value:d}}}}rN.create=(e,r,n)=>new rN({valueType:r,keyType:e,typeName:Le.ZodMap,...qe(n)});class hc extends Xe{_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.parsedType!==ke.set)return be(a,{code:ge.invalid_type,expected:ke.set,received:a.parsedType}),Re;const s=this._def;s.minSize!==null&&a.data.size<s.minSize.value&&(be(a,{code:ge.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&a.data.size>s.maxSize.value&&(be(a,{code:ge.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(u){const h=new Set;for(const m of u){if(m.status==="aborted")return Re;m.status==="dirty"&&n.dirty(),h.add(m.value)}return{status:n.value,value:h}}const d=[...a.data.values()].map((u,h)=>i._parse(new ka(a,u,a.path,h)));return a.common.async?Promise.all(d).then(u=>o(u)):o(d)}min(r,n){return new hc({...this._def,minSize:{value:r,message:Oe.toString(n)}})}max(r,n){return new hc({...this._def,maxSize:{value:r,message:Oe.toString(n)}})}size(r,n){return this.min(r,n).max(r,n)}nonempty(r){return this.min(1,r)}}hc.create=(e,r)=>new hc({valueType:e,minSize:null,maxSize:null,typeName:Le.ZodSet,...qe(r)});class nN extends Xe{get schema(){return this._def.getter()}_parse(r){const{ctx:n}=this._processInputParams(r);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}nN.create=(e,r)=>new nN({getter:e,typeName:Le.ZodLazy,...qe(r)});class aN extends Xe{_parse(r){if(r.data!==this._def.value){const n=this._getOrReturnCtx(r);return be(n,{received:n.data,code:ge.invalid_literal,expected:this._def.value}),Re}return{status:"valid",value:r.data}}get value(){return this._def.value}}aN.create=(e,r)=>new aN({value:e,typeName:Le.ZodLiteral,...qe(r)});function jS(e,r){return new Al({values:e,typeName:Le.ZodEnum,...qe(r)})}class Al extends Xe{_parse(r){if(typeof r.data!="string"){const n=this._getOrReturnCtx(r),a=this._def.values;return be(n,{expected:it.joinValues(a),received:n.parsedType,code:ge.invalid_type}),Re}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(r.data)){const n=this._getOrReturnCtx(r),a=this._def.values;return be(n,{received:n.data,code:ge.invalid_enum_value,options:a}),Re}return Yn(r.data)}get options(){return this._def.values}get enum(){const r={};for(const n of this._def.values)r[n]=n;return r}get Values(){const r={};for(const n of this._def.values)r[n]=n;return r}get Enum(){const r={};for(const n of this._def.values)r[n]=n;return r}extract(r,n=this._def){return Al.create(r,{...this._def,...n})}exclude(r,n=this._def){return Al.create(this.options.filter(a=>!r.includes(a)),{...this._def,...n})}}Al.create=jS;class sN extends Xe{_parse(r){const n=it.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(r);if(a.parsedType!==ke.string&&a.parsedType!==ke.number){const s=it.objectValues(n);return be(a,{expected:it.joinValues(s),received:a.parsedType,code:ge.invalid_type}),Re}if(this._cache||(this._cache=new Set(it.getValidEnumValues(this._def.values))),!this._cache.has(r.data)){const s=it.objectValues(n);return be(a,{received:a.data,code:ge.invalid_enum_value,options:s}),Re}return Yn(r.data)}get enum(){return this._def.values}}sN.create=(e,r)=>new sN({values:e,typeName:Le.ZodNativeEnum,...qe(r)});class Xu extends Xe{unwrap(){return this._def.type}_parse(r){const{ctx:n}=this._processInputParams(r);if(n.parsedType!==ke.promise&&n.common.async===!1)return be(n,{code:ge.invalid_type,expected:ke.promise,received:n.parsedType}),Re;const a=n.parsedType===ke.promise?n.data:Promise.resolve(n.data);return Yn(a.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Xu.create=(e,r)=>new Xu({type:e,typeName:Le.ZodPromise,...qe(r)});class Tl extends Xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:n,ctx:a}=this._processInputParams(r),s=this._def.effect||null,i={addIssue:o=>{be(a,o),o.fatal?n.abort():n.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(a.data,i);if(a.common.async)return Promise.resolve(o).then(async d=>{if(n.value==="aborted")return Re;const u=await this._def.schema._parseAsync({data:d,path:a.path,parent:a});return u.status==="aborted"?Re:u.status==="dirty"||n.value==="dirty"?nc(u.value):u});{if(n.value==="aborted")return Re;const d=this._def.schema._parseSync({data:o,path:a.path,parent:a});return d.status==="aborted"?Re:d.status==="dirty"||n.value==="dirty"?nc(d.value):d}}if(s.type==="refinement"){const o=d=>{const u=s.refinement(d,i);if(a.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(a.common.async===!1){const d=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return d.status==="aborted"?Re:(d.status==="dirty"&&n.dirty(),o(d.value),{status:n.value,value:d.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(d=>d.status==="aborted"?Re:(d.status==="dirty"&&n.dirty(),o(d.value).then(()=>({status:n.value,value:d.value}))))}if(s.type==="transform")if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!El(o))return Re;const d=s.transform(o.value,i);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:d}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>El(o)?Promise.resolve(s.transform(o.value,i)).then(d=>({status:n.value,value:d})):Re);it.assertNever(s)}}Tl.create=(e,r,n)=>new Tl({schema:e,typeName:Le.ZodEffects,effect:r,...qe(n)});Tl.createWithPreprocess=(e,r,n)=>new Tl({schema:r,effect:{type:"preprocess",transform:e},typeName:Le.ZodEffects,...qe(n)});class Fs extends Xe{_parse(r){return this._getType(r)===ke.undefined?Yn(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Fs.create=(e,r)=>new Fs({innerType:e,typeName:Le.ZodOptional,...qe(r)});class Ml extends Xe{_parse(r){return this._getType(r)===ke.null?Yn(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Ml.create=(e,r)=>new Ml({innerType:e,typeName:Le.ZodNullable,...qe(r)});class T0 extends Xe{_parse(r){const{ctx:n}=this._processInputParams(r);let a=n.data;return n.parsedType===ke.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}T0.create=(e,r)=>new T0({innerType:e,typeName:Le.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...qe(r)});class M0 extends Xe{_parse(r){const{ctx:n}=this._processInputParams(r),a={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return Ku(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Xa(a.common.issues)},input:a.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Xa(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}M0.create=(e,r)=>new M0({innerType:e,typeName:Le.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...qe(r)});class iN extends Xe{_parse(r){if(this._getType(r)!==ke.nan){const a=this._getOrReturnCtx(r);return be(a,{code:ge.invalid_type,expected:ke.nan,received:a.parsedType}),Re}return{status:"valid",value:r.data}}}iN.create=e=>new iN({typeName:Le.ZodNaN,...qe(e)});class yD extends Xe{_parse(r){const{ctx:n}=this._processInputParams(r),a=n.data;return this._def.type._parse({data:a,path:n.path,parent:n})}unwrap(){return this._def.type}}class qg extends Xe{_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?Re:i.status==="dirty"?(n.dirty(),nc(i.value)):this._def.out._parseAsync({data:i.value,path:a.path,parent:a})})();{const s=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?Re:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:a.path,parent:a})}}static create(r,n){return new qg({in:r,out:n,typeName:Le.ZodPipeline})}}class D0 extends Xe{_parse(r){const n=this._def.innerType._parse(r),a=s=>(El(s)&&(s.value=Object.freeze(s.value)),s);return Ku(n)?n.then(s=>a(s)):a(n)}unwrap(){return this._def.innerType}}D0.create=(e,r)=>new D0({innerType:e,typeName:Le.ZodReadonly,...qe(r)});var Le;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Le||(Le={}));const Be=Ua.create,vt=Ol.create,$0=E0.create,wS=O0.create;Ws.create;wa.create;const $r=Qt.create;Gu.create;Yu.create;Si.create;const NS=Zu.create,tn=Al.create;Xu.create;Fs.create;Ml.create;$r({username:Be().optional(),display_name:Be().optional(),bio:Be().optional(),avatar_url:Be().optional(),banner_url:Be().optional(),website_url:Be().optional(),social_links:Be().optional()});const vD=$r({title:Be(),description:Be(),drop_type:Be(),difficulty:Be(),key_cost:vt().min(0),gem_reward_base:vt().min(0),gem_pool_total:vt().optional(),reward_logic:Be().optional(),follower_threshold:vt().min(0).default(0),time_commitment:Be().optional(),requirements:Be().optional(),deliverables:Be().optional(),deadline_at:Be().optional(),max_participants:vt().optional(),platform:Be().optional(),content_url:Be().optional(),move_cost_points:vt().min(0).default(0),key_reward_amount:vt().min(0).default(0),is_proof_drop:$0().default(!1),is_paid_drop:$0().default(!1)});$r({application_message:Be()});$r({action_type:tn(["like","comment","save","share","repost"]),reference_id:vt().optional(),reference_type:Be().optional()});$r({from_currency:tn(["points","gems"]),to_currency:tn(["keys"]),amount:vt().min(1)});$r({date:Be().optional()});$r({amount:vt().min(200),payment_method:Be(),payment_details:NS(wS())});$r({payment_method:Be(),preference_data:NS(wS()),is_default:$0().optional()});$r({package_id:Be(),gems:vt().min(1),price:vt().min(.01)});$r({content_id:vt().optional(),platform:Be(),content_url:Be(),forecast_type:tn(["views","likes","shares","comments"]),target_value:vt().min(1),odds:vt().min(1),expires_at:Be(),initial_amount:vt().min(1),initial_side:tn(["over","under"])});$r({prediction_amount:vt().min(1),prediction_side:tn(["over","under"])});$r({platform:Be(),content_url:Be(),bet_type:tn(["views","likes","shares","comments"]),target_value:vt().min(1),odds:vt().min(1),expires_at:Be()});$r({bet_amount:vt().min(1),bet_side:tn(["over","under"])});const bD=tn(["instagram","tiktok","youtube","twitter"]),_S=tn(["content_clipping","reviews","ugc_creation","affiliate_referral","surveys","challenges_events","engagement"]),kS=tn(["easy","medium","hard"]);tn(["social_media","content_creation","marketing","review","survey"]);tn(["easy","medium","hard"]);const jD=$r({platform:tn(["instagram","tiktok","youtube","twitter","linkedin"]),title:Be().min(1),description:Be().optional(),platform_url:Be().url(),media_url:Be().optional(),total_shares:vt().min(1).max(1e3),share_price:vt().min(0)});$r({content_id:vt(),shares_count:vt().min(1)});$r({title:Be(),description:Be(),category:Be(),difficulty:tn(["easy","medium","hard"]),reward_amount:vt().min(0),currency_type:Be().default("USD"),follower_threshold:vt().min(0).default(0),time_commitment:Be().optional(),requirements:Be().optional(),deliverables:Be().optional(),deadline_at:Be().optional(),max_participants:vt().optional()});$r({application_message:Be()});function Hg({isOpen:e,onClose:r,onSuccess:n,content:a}){const[s,i]=x.useState({platform:a.platform,title:a.title,description:a.description||"",platform_url:a.platform_url,media_url:a.media_url||"",total_shares:a.total_shares,share_price:a.share_price}),[o,d]=x.useState(!1),[u,h]=x.useState(null);if(x.useEffect(()=>{a&&i({platform:a.platform,title:a.title,description:a.description||"",platform_url:a.platform_url,media_url:a.media_url||"",total_shares:a.total_shares,share_price:a.share_price})},[a]),!e)return null;const m=async p=>{p.preventDefault(),d(!0),h(null);try{if(!jD.safeParse(s).success){h("Please check all required fields");return}const v=await fetch(`/api/content/${a.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)});if(v.ok){const j=await v.json();n(j.content),r()}else{const j=await v.json();h(j.error||"Failed to update content")}}catch(y){console.error("Error updating content:",y),h("Failed to update content")}finally{d(!1)}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Content"}),t.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:o,children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[u&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:u}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform *"}),t.jsxs("select",{value:s.platform,onChange:p=>i({...s,platform:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors",required:!0,disabled:o,children:[t.jsx("option",{value:"",children:"Select platform"}),t.jsx("option",{value:"instagram",children:"Instagram"}),t.jsx("option",{value:"tiktok",children:"TikTok"}),t.jsx("option",{value:"youtube",children:"YouTube"}),t.jsx("option",{value:"twitter",children:"Twitter"}),t.jsx("option",{value:"linkedin",children:"LinkedIn"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Shares *"}),t.jsx("input",{type:"number",min:"1",max:"1000",value:s.total_shares,onChange:p=>i({...s,total_shares:parseInt(p.target.value)||0}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors",required:!0,disabled:o})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),t.jsx("input",{type:"text",value:s.title,onChange:p=>i({...s,title:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors",placeholder:"Enter content title",required:!0,disabled:o})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),t.jsx("textarea",{value:s.description,onChange:p=>i({...s,description:p.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors",placeholder:"Describe your content...",disabled:o})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform URL *"}),t.jsx("input",{type:"url",value:s.platform_url,onChange:p=>i({...s,platform_url:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors",placeholder:"https://instagram.com/p/...",required:!0,disabled:o})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Media URL"}),t.jsx("input",{type:"url",value:s.media_url,onChange:p=>i({...s,media_url:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors",placeholder:"https://example.com/image.jpg",disabled:o})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Share Price (USD) *"}),t.jsx("input",{type:"number",step:"0.0001",min:"0",value:s.share_price,onChange:p=>i({...s,share_price:parseFloat(p.target.value)||0}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors",placeholder:"0.0100",required:!0,disabled:o})]}),t.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:r,disabled:o,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:o,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-6 py-3 rounded-xl font-medium transition-all duration-200 disabled:opacity-50 flex items-center justify-center space-x-2",children:o?t.jsxs(t.Fragment,{children:[t.jsx(Lg,{className:"w-4 h-4 animate-spin"}),t.jsx("span",{children:"Updating..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(Rg,{className:"w-4 h-4"}),t.jsx("span",{children:"Update Content"})]})})]})]})]})})}function Wm({isOpen:e,onClose:r,onConfirm:n,title:a,message:s,confirmText:i="Confirm",cancelText:o="Cancel",type:d="warning",loading:u=!1}){if(!e)return null;const h=()=>{switch(d){case"danger":return t.jsx(ki,{className:"w-6 h-6 text-red-600"});case"success":return t.jsx(et,{className:"w-6 h-6 text-green-600"});case"info":return t.jsx(aS,{className:"w-6 h-6 text-blue-600"});case"warning":default:return t.jsx(ki,{className:"w-6 h-6 text-yellow-600"})}},m=()=>{switch(d){case"danger":return"bg-red-600 hover:bg-red-700 text-white";case"success":return"bg-green-600 hover:bg-green-700 text-white";case"info":return"bg-blue-600 hover:bg-blue-700 text-white";case"warning":default:return"bg-yellow-600 hover:bg-yellow-700 text-white"}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[h(),t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:a})]}),t.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:u,children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsx("p",{className:"text-gray-600 mb-6",children:s}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:r,disabled:u,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors disabled:opacity-50",children:o}),t.jsx("button",{onClick:n,disabled:u,className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 ${m()}`,children:u?t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),t.jsx("span",{children:"Processing..."})]}):i})]})]})})}function wD({isOpen:e,onClose:r,contentId:n,contentTitle:a,contentUrl:s}){const[i,o]=x.useState(!1);if(!e)return null;const d=s||`${window.location.origin}/content/${n}`,u=`Check out this amazing content: "${a}" on Promorang!`,h=async()=>{try{await navigator.clipboard.writeText(d),o(!0),setTimeout(()=>o(!1),2e3)}catch(b){console.error("Failed to copy:",b)}},m=()=>{const b=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(d)}`;window.open(b,"_blank","width=600,height=400")},p=()=>{const N=`https://twitter.com/intent/tweet?text=${encodeURIComponent(`${u} ${d}`)}`;window.open(N,"_blank","width=600,height=400")},y=()=>{const N=`https://wa.me/?text=${encodeURIComponent(`${u} ${d}`)}`;window.open(N,"_blank")},v=()=>{const b=encodeURIComponent("Check out this content on Promorang"),N=encodeURIComponent(`${u}

${d}`);window.location.href=`mailto:?subject=${b}&body=${N}`},j=async()=>{if(navigator.share)try{await navigator.share({title:a,text:u,url:d})}catch(b){console.error("Error sharing:",b)}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Sl,{className:"w-6 h-6 text-blue-600"}),t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Share Content"})]}),t.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[t.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:a}),t.jsx("p",{className:"text-sm text-gray-600 break-all",children:d})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("button",{onClick:h,className:"w-full flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[i?t.jsx(_a,{className:"w-5 h-5 text-green-600"}):t.jsx(Vl,{className:"w-5 h-5 text-gray-600"}),t.jsx("span",{className:"font-medium text-gray-900",children:i?"Copied!":"Copy Link"})]})}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("button",{onClick:m,className:"flex items-center justify-center space-x-2 p-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx(tS,{className:"w-4 h-4"}),t.jsx("span",{children:"Facebook"})]}),t.jsxs("button",{onClick:p,className:"flex items-center justify-center space-x-2 p-3 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors",children:[t.jsx(Bg,{className:"w-4 h-4"}),t.jsx("span",{children:"Twitter"})]}),t.jsxs("button",{onClick:y,className:"flex items-center justify-center space-x-2 p-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[t.jsx(yi,{className:"w-4 h-4"}),t.jsx("span",{children:"WhatsApp"})]}),t.jsxs("button",{onClick:v,className:"flex items-center justify-center space-x-2 p-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[t.jsx("span",{className:"text-sm",children:""}),t.jsx("span",{children:"Email"})]})]}),typeof window<"u"&&"share"in navigator&&t.jsxs("button",{onClick:j,className:"w-full flex items-center justify-center space-x-2 p-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-colors",children:[t.jsx(Sl,{className:"w-4 h-4"}),t.jsx("span",{children:"Share via..."})]})]}),t.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-3",children:t.jsxs("p",{className:"text-xs text-blue-700",children:[" ",t.jsx("strong",{children:"Tip:"})," Share this content to earn points and help creators grow their audience!"]})})]})})}function ND({isOpen:e,onClose:r,user:n}){const[a,s]=x.useState([]),[i,o]=x.useState(!1);x.useEffect(()=>{e&&n&&d()},[e,n]);const d=async()=>{o(!0);try{const p=await fetch("/api/users/saved-content",{credentials:"include"});if(p.ok){const y=await p.json();s(y)}}catch(p){console.error("Failed to fetch saved content:",p)}finally{o(!1)}},u=async p=>{try{(await fetch(`/api/users/saved-content/${p}`,{method:"DELETE",credentials:"include"})).ok&&s(v=>v.filter(j=>j.content_id!==p))}catch(y){console.error("Failed to remove saved content:",y)}},h=p=>new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),m=p=>{switch(p){case"instagram":return"";case"tiktok":return"";case"youtube":return"";case"twitter":return"";case"linkedin":return"";default:return""}};return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[80vh] flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Hu,{className:"w-6 h-6 text-orange-600"}),t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Saved Content"}),t.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-sm",children:a.length})]}),t.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full"})}):a.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Hu,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No saved content yet"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Save content you want to revisit later by clicking the bookmark icon."}),t.jsx("button",{onClick:r,className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"Explore Content"})]}):t.jsx("div",{className:"space-y-4",children:a.map(p=>t.jsx("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors",children:t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center text-white text-xl flex-shrink-0",children:m(p.content_platform)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h4",{className:"font-medium text-gray-900 truncate pr-2",children:p.content_title}),t.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[t.jsx("button",{onClick:()=>window.open(`/content/${p.content_id}`,"_blank"),className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"View content",children:t.jsx(Us,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>window.open(p.content_url,"_blank"),className:"text-purple-600 hover:text-purple-700 p-1 rounded transition-colors",title:"View original",children:t.jsx(oa,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>u(p.content_id),className:"text-red-600 hover:text-red-700 p-1 rounded transition-colors",title:"Remove from saved",children:t.jsx(Cl,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[t.jsx("div",{className:"flex items-center space-x-1",children:t.jsxs("span",{children:["by ",p.creator_name]})}),t.jsx("div",{className:"flex items-center space-x-1",children:t.jsx("span",{className:"capitalize",children:p.content_platform})}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(la,{className:"w-3 h-3"}),t.jsxs("span",{children:["Saved ",h(p.created_at)]})]})]})]})]})},p.id))})}),a.length>0&&t.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:t.jsx("p",{className:"text-xs text-gray-600 text-center",children:" Tip: Saved content is private and only visible to you. Use this to build your personal content library!"})})]})}):null}function Ep({variant:e,text:r,icon:n,onClick:a,disabled:s}){const i=()=>{switch(e){case"orange":return"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600";case"blue":return"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600";case"purple":return"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600";default:return"bg-gray-500 hover:bg-gray-600"}};return t.jsxs("button",{onClick:o=>a==null?void 0:a(o),disabled:s,className:`text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center space-x-2 hover:shadow-lg hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-none ${i()}`,"aria-label":r,children:[n,t.jsx("span",{children:r})]})}function _D({content:e}){const r=typeof e.share_price=="number"?e.share_price:Number(e.share_price??0),n=Number.isFinite(r)&&r>0?r:null;return t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-bold text-gray-900",children:n?`$${n.toFixed(2)}`:""}),t.jsx("div",{className:"text-xs text-gray-500",children:"per share"})]})}function kD({content:e}){const r=e.available_shares??0;return t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-bold text-blue-600",children:r>0?r:"0"}),t.jsx("div",{className:"text-xs text-gray-500",children:"available"})]})}function SD({content:e,onBuyShares:r,onPredict:n,onTip:a,onExternalMove:s,currentUser:i,onEdit:o,onDelete:d}){const u=e.available_shares??0,h=e.engagement_shares_remaining??0,m=y=>v=>{v.stopPropagation(),v.preventDefault(),y==null||y(e)},p=u<=0?h>0?"Paid shares are sold out. Share early to claim the remaining engagement shares.":"All shares have been claimed. Check back soon for the next drop.":h>0?"Paid shares are available. Share early to also lock in the limited engagement shares.":void 0;return t.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 sm:gap-3 mt-4",children:[t.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-3",children:[t.jsx(_D,{content:e}),t.jsx(kD,{content:e})]}),t.jsxs("div",{className:"flex items-center justify-center sm:justify-end gap-2 flex-wrap",children:[t.jsx(Ep,{variant:"orange",text:"Buy Shares",icon:t.jsx(at,{className:"w-4 h-4"}),onClick:m(r),disabled:u<=0}),t.jsx(Ep,{variant:"blue",text:"Predict",icon:t.jsx(Kt,{className:"w-4 h-4"}),onClick:m(n)}),t.jsx(Ep,{variant:"purple",text:"Tip Creator",icon:t.jsx(gi,{className:"w-4 h-4"}),onClick:m(a)})]}),p&&t.jsx("p",{className:"text-xs text-gray-600 bg-gray-50 border border-gray-100 rounded-lg px-3 py-2",children:p}),(i==null?void 0:i.id)===e.creator_id&&t.jsxs("div",{className:"flex items-center justify-center sm:justify-end space-x-2 pt-3 border-t border-gray-100",children:[t.jsx("button",{onClick:y=>{y.stopPropagation(),o==null||o(e)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium px-3 py-1 rounded-md hover:bg-blue-50 transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Edit content",children:"Edit"}),t.jsx("span",{className:"text-gray-300",children:""}),t.jsx("button",{onClick:y=>{y.stopPropagation(),d==null||d(e)},className:"text-red-600 hover:text-red-800 text-sm font-medium px-3 py-1 rounded-md hover:bg-red-50 transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Delete content",children:"Delete"})]}),t.jsx("div",{className:"pt-3 border-t border-gray-100",children:t.jsxs("button",{onClick:y=>{y.stopPropagation(),s==null||s(e)},className:"flex items-center justify-center space-x-2 px-4 py-2 text-sm text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-all duration-200 hover:scale-[1.02] active:scale-[0.98] w-full sm:w-auto","aria-label":"Move to external platform",children:[t.jsx(oa,{className:"w-4 h-4"}),t.jsx("span",{children:"Move to External"})]})})]})}function hu({icon:e,count:r,action:n,onClick:a,color:s="gray"}){const i=()=>{switch(s){case"red":return"hover:text-red-500";case"blue":return"hover:text-blue-500";case"purple":return"hover:text-purple-500";case"green":return"hover:text-green-500";default:return"hover:text-gray-700"}};return t.jsxs("button",{onClick:a,className:`flex items-center space-x-1 text-gray-500 ${i()} transition-all duration-200 hover:scale-[1.05] active:scale-[0.95] px-2 py-1 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-400/50`,"aria-label":`${n} (${r})`,children:[t.jsx(e,{className:"w-4 h-4","aria-hidden":"true"}),t.jsx("span",{className:"text-sm",children:r})]})}function CD({content:e,onSocialAction:r,onShare:n,onComment:a}){const s=i=>i>=1e6?(i/1e6).toFixed(1)+"M":i>=1e3?(i/1e3).toFixed(1)+"K":i.toString();return t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 pt-4 border-t border-gray-100",children:[t.jsxs("div",{className:"flex items-center justify-center sm:justify-start space-x-1 flex-wrap",children:[e.views_count!==void 0&&t.jsxs("div",{className:"flex items-center space-x-1 text-gray-500 px-2 py-1 transition-all duration-200 hover:text-gray-700 hover:bg-gray-50 rounded-md",children:[t.jsx(Us,{className:"w-4 h-4"}),t.jsxs("span",{className:"text-sm",children:[s(e.views_count)," views"]})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(hu,{icon:vl,count:e.likes_count||0,action:"like",onClick:()=>r==null?void 0:r("like",e.id),color:"red"}),t.jsx(hu,{icon:yi,count:e.comments_count||0,action:"comment",onClick:()=>a==null?void 0:a(e),color:"blue"}),t.jsx(hu,{icon:oS,count:e.reposts_count||0,action:"repost",onClick:()=>r==null?void 0:r("repost",e.id),color:"purple"}),t.jsx(hu,{icon:Sl,count:0,action:"share",onClick:()=>n==null?void 0:n(e),color:"green"})]})]}),e.engagement_shares_total>0&&t.jsxs("div",{className:"flex items-center justify-center sm:justify-end space-x-2 text-xs text-gray-500",role:"group","aria-label":"Engagement progress",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("div",{className:"w-20 h-2 bg-gray-200 rounded-full overflow-hidden",role:"progressbar","aria-valuenow":e.engagement_shares_total-e.engagement_shares_remaining,"aria-valuemin":0,"aria-valuemax":e.engagement_shares_total,"aria-label":`${e.engagement_shares_remaining} free shares remaining out of ${e.engagement_shares_total} total`,children:t.jsx("div",{className:"h-full bg-green-500 transition-all duration-300",style:{width:`${(e.engagement_shares_total-e.engagement_shares_remaining)/e.engagement_shares_total*100}%`}})}),t.jsxs("span",{className:"text-green-600 font-medium","aria-label":`${e.engagement_shares_remaining} free shares remaining`,children:[e.engagement_shares_remaining,"/",e.engagement_shares_total]})]}),t.jsx("span",{children:"free shares"})]})]})}function Op({content:e,onBuyShares:r,onShare:n,onSocialAction:a,onExternalMove:s,onTip:i,currentUser:o,onEdit:d,onDelete:u,onComment:h,onNavigate:m,onPredict:p,isSponsored:y}){const v=()=>{m&&m(e)},j=E=>E==null||Number.isNaN(E)?"0":E>=1e6?(E/1e6).toFixed(1)+"M":E>=1e3?(E/1e3).toFixed(1)+"K":E.toString(),b=e.total_shares??0,N=e.available_shares??0,S=Math.max(b-N,0),C=e.engagement_shares_remaining??0,_=typeof e.current_revenue=="number"?e.current_revenue:Number(e.current_revenue)||0,P=e.created_at?new Date(e.created_at):null,O=P&&!Number.isNaN(P.getTime())?P.toLocaleDateString():"Recently";return t.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 p-5 cursor-pointer hover:shadow-lg transition-all duration-200 hover:border-gray-200 max-w-[720px] mx-auto w-full focus-within:outline focus-within:outline-2 focus-within:outline-primary/40 focus-within:ring-2 focus-within:ring-primary/20 ${y||e.is_sponsored?"ring-2 ring-orange-200 ring-opacity-50":""}`,onClick:v,tabIndex:0,role:"article","aria-label":`Content by ${e.creator_name||e.creator_username||"Unknown Creator"}: ${e.title}`,onKeyDown:E=>{(E.key==="Enter"||E.key===" ")&&(E.preventDefault(),v())},children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[e.is_demo&&t.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 border border-purple-200 flex items-center space-x-1 transition-all duration-200 hover:bg-purple-200 hover:scale-[1.02]",children:[t.jsx(mc,{className:"w-3 h-3"}),t.jsx("span",{children:"Demo"})]}),(y||e.is_sponsored)&&t.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-orange-100 to-amber-100 text-orange-800 border border-orange-200 flex items-center space-x-1 transition-all duration-200 hover:bg-orange-200 hover:scale-[1.02]",children:[t.jsx(Iu,{className:"w-3 h-3"}),t.jsx("span",{children:"Sponsored"})]})]}),e.views_count!==void 0&&t.jsxs("div",{className:"flex items-center space-x-1 text-gray-500 transition-all duration-200 hover:text-gray-700 hover:bg-gray-50 px-2 py-1 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-400/50",role:"text","aria-label":`${j(e.views_count)} views`,children:[t.jsx(Us,{className:"w-4 h-4","aria-hidden":"true"}),t.jsxs("span",{className:"text-sm",children:[j(e.views_count)," views"]})]})]}),e.media_url&&t.jsx("div",{className:"mb-4 rounded-lg overflow-hidden bg-gray-50",onClick:E=>E.stopPropagation(),children:t.jsx("img",{src:e.media_url,alt:e.title,className:"w-full h-48 object-cover hover:scale-105 transition-transform duration-200",onError:E=>{E.target.style.display="none"}})}),t.jsxs("div",{className:"mb-4",onClick:E=>E.stopPropagation(),children:[t.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-2 hover:text-orange-600 transition-colors leading-tight cursor-pointer focus:outline-none focus:text-orange-600",children:e.title}),e.description&&t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed line-clamp-2 mb-3",children:e.description}),t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-400 to-red-500 rounded-full flex items-center justify-center text-white font-semibold text-sm transition-all duration-200 hover:scale-[1.05] cursor-pointer focus:outline-none focus:ring-2 focus:ring-orange-400/50 focus:scale-[1.05]","aria-label":`Creator: ${e.creator_name||e.creator_username||"Unknown"}`,children:(e.creator_name||e.creator_username||"U")[0].toUpperCase()}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-semibold text-gray-900 text-base hover:text-orange-600 transition-colors cursor-pointer focus:outline-none focus:text-orange-600",role:"text","aria-label":`Creator name: ${e.creator_name||e.creator_username||"Unknown Creator"}`,children:e.creator_name||e.creator_username||"Unknown Creator"}),t.jsx("span",{className:"text-gray-400",children:""}),t.jsx("span",{className:"text-sm text-gray-500",children:O}),e.platform&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-gray-400",children:""}),t.jsx("span",{className:"text-sm text-gray-500 capitalize",children:e.platform})]})]}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsxs("span",{className:"text-xs text-gray-500",children:[j(S)," shares owned"]}),t.jsx("span",{className:"text-xs text-gray-400",children:""}),t.jsxs("span",{className:"text-xs text-gray-500",children:[j(b)," total shares"]}),C>0&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-xs text-gray-400",children:""}),t.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[j(C)," free shares available"]})]})]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"flex items-center space-x-1 text-green-600 mb-1 transition-all duration-200 hover:text-green-700 hover:bg-green-50 px-2 py-1 rounded-md cursor-pointer focus:outline-none focus:ring-2 focus:ring-green-400/50",role:"text","aria-label":`Current revenue: $${_.toFixed(2)}`,children:[t.jsx(at,{className:"w-4 h-4"}),t.jsxs("span",{className:"text-sm font-semibold",children:["$",_.toFixed(2)]})]}),t.jsx("div",{className:"text-xs text-gray-500",children:"Current Revenue"})]})]}),e.platform_url&&t.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-100 transition-all duration-200 hover:bg-gray-100 hover:border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(oa,{className:"w-4 h-4 text-gray-500","aria-hidden":"true"}),t.jsxs("span",{className:"text-sm text-gray-600",children:["View on ",e.platform]})]}),t.jsx("a",{href:e.platform_url,target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-800 text-sm font-medium transition-all duration-200 hover:bg-orange-50 px-2 py-1 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400/50 focus:bg-orange-50",onClick:E=>E.stopPropagation(),"aria-label":`Open content on ${e.platform} (opens in new tab)`,children:"Open Link"})]})})]}),t.jsx(CD,{content:e,onSocialAction:a,onShare:n,onComment:h}),t.jsx(SD,{content:e,onBuyShares:r,onPredict:p,onTip:i,currentUser:o,onEdit:d,onDelete:u})]})}function lN({drop:e,onApply:r}){const n=u=>{switch(u.toLowerCase()){case"easy":return"bg-green-100 text-green-800 border-green-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"hard":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},a=u=>{switch(u.toLowerCase()){case"active":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";case"draft":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},s=u=>{const h=new Date(u),m=new Date,p=h.getTime()-m.getTime(),y=Math.ceil(p/(1e3*60*60*24));return y<0?`${Math.abs(y)} days overdue`:y===0?"Due today":y===1?"Due tomorrow":`${y} days left`},i=()=>e.key_cost===0?0:(e.gem_reward_base/e.key_cost).toFixed(1),o=()=>{window.location.href=`/drops/${e.id}`},d=e.preview_image||e.content_url||`https://images.unsplash.com/photo-1503264116251-35a269479413?auto=format&fit=crop&w=1200&q=80&sat=-15&sig=${e.id}`;return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-5 cursor-pointer hover:shadow-lg transition-all duration-200 hover:border-gray-200",onClick:o,children:[t.jsx("div",{className:"mb-4 -mx-5 -mt-5",children:t.jsx("div",{className:"h-40 w-full overflow-hidden rounded-t-xl",children:t.jsx("img",{src:d,alt:e.title,className:"h-full w-full object-cover transition-transform duration-300 hover:scale-105",onError:u=>{u.target.src=`https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&w=1200&q=80&sig=${e.id}`}})})}),t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:(e.creator_name||"U")[0].toUpperCase()}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-semibold text-gray-900 text-base hover:text-purple-600 transition-colors",children:e.creator_name||"Unknown Creator"}),t.jsx("span",{className:"text-gray-400",children:""}),t.jsx("span",{className:"text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsxs("span",{className:"text-xs text-gray-500",children:[e.current_participants," participants"]}),t.jsx("span",{className:"text-xs text-gray-400",children:""}),t.jsx("span",{className:"text-xs text-gray-500",children:e.platform||"Any platform"})]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"flex items-center space-x-1 text-purple-600 mb-1",children:[t.jsx(ba,{className:"w-4 h-4"}),t.jsxs("span",{className:"text-sm font-semibold",children:[e.gem_pool_remaining," gems"]})]}),t.jsx("div",{className:"text-xs text-gray-500",children:"Pool Remaining"})]})]}),t.jsxs("div",{className:"mb-4",onClick:u=>u.stopPropagation(),children:[t.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-2 hover:text-purple-600 transition-colors leading-tight",children:e.title}),e.description&&t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed line-clamp-2",children:e.description})]}),t.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${a(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${n(e.difficulty)}`,children:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1)}),e.is_proof_drop&&t.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200",children:"Proof Drop"}),e.is_paid_drop&&t.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800 border border-emerald-200",children:"Paid Drop"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[t.jsx(Kt,{className:"w-4 h-4 text-orange-500"}),t.jsx("span",{className:"text-xs text-gray-500",children:"Cost"})]}),t.jsx("div",{className:"text-lg font-bold text-gray-900",children:e.key_cost}),t.jsx("div",{className:"text-xs text-gray-500",children:"keys"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[t.jsx(Ue,{className:"w-4 h-4 text-yellow-500"}),t.jsx("span",{className:"text-xs text-gray-500",children:"Reward"})]}),t.jsx("div",{className:"text-lg font-bold text-purple-600",children:e.gem_reward_base}),t.jsx("div",{className:"text-xs text-gray-500",children:"gems"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[t.jsx(at,{className:"w-4 h-4 text-green-500"}),t.jsx("span",{className:"text-xs text-gray-500",children:"ROI"})]}),t.jsxs("div",{className:"text-lg font-bold text-green-600",children:[i(),"x"]}),t.jsx("div",{className:"text-xs text-gray-500",children:"per key"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[t.jsx(zt,{className:"w-4 h-4 text-blue-500"}),t.jsx("span",{className:"text-xs text-gray-500",children:"Participants"})]}),t.jsx("div",{className:"text-lg font-bold text-blue-600",children:e.current_participants}),t.jsx("div",{className:"text-xs text-gray-500",children:"joined"})]})]}),t.jsxs("div",{className:"flex items-center justify-between mb-4 text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(Kn,{className:"w-4 h-4"}),t.jsx("span",{children:e.deadline_at?s(e.deadline_at):"No deadline"})]}),e.requirements&&t.jsxs("div",{className:"text-xs",children:["Requirements: ",e.requirements.length>30?e.requirements.substring(0,30)+"...":e.requirements]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[t.jsx(la,{className:"w-4 h-4"}),t.jsxs("span",{children:["Created ",new Date(e.created_at).toLocaleDateString()]})]}),t.jsx("button",{onClick:u=>{u.stopPropagation(),r==null||r(e)},className:`px-6 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center space-x-2 ${e.status==="active"?"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white hover:shadow-lg hover:-translate-y-0.5":"bg-gray-100 text-gray-500 cursor-not-allowed"}`,disabled:e.status!=="active",children:e.status==="active"?t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"Apply Now"}),t.jsx(Kt,{className:"w-4 h-4"})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"Not Available"}),t.jsx(Kn,{className:"w-4 h-4"})]})})]})]})}const PD=()=>{const e=()=>{window.location.reload()};return t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-orange-100 to-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(at,{className:"w-12 h-12 text-orange-500"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No personalized content yet"}),t.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"We're building your personalized feed based on your interests and activity. Check back soon or explore other content in the meantime!"}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[t.jsxs("button",{onClick:()=>window.location.href="/create",className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2 mx-auto sm:mx-0",children:[t.jsx(Kr,{className:"w-4 h-4"}),t.jsx("span",{children:"Create Content"})]}),t.jsxs("button",{onClick:e,className:"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center space-x-2 mx-auto sm:mx-0",children:[t.jsx(Ac,{className:"w-4 h-4"}),t.jsx("span",{children:"Refresh Feed"})]})]})]})};function SS({isOpen:e,onClose:r,forecast:n,onPredictionPlaced:a}){const[s,i]=x.useState("over"),[o,d]=x.useState(""),[u,h]=x.useState(!1),[m,p]=x.useState(""),[y,v]=x.useState({balance:0});x.useEffect(()=>{e&&j()},[e]);const j=async()=>{try{const C=await fetch("/api/users/me/wallets");if(C.ok){const P=(await C.json()).find(O=>O.currency_type==="USD");v({balance:(P==null?void 0:P.balance)||0})}}catch(C){console.error("Failed to fetch wallet:",C)}},b=async C=>{C.preventDefault(),h(!0),p("");try{const _=await fetch(`/api/social-forecasts/${n.id}/predict`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prediction_amount:parseFloat(o),prediction_side:s})});if(_.ok)a(),r(),d(""),i("over");else{const P=await _.json();p(P.error||"Failed to place prediction")}}catch{p("Failed to place prediction")}finally{h(!1)}},N=o?(parseFloat(o)*n.odds).toFixed(2):"0",S=C=>{const _=new Date,O=new Date(C).getTime()-_.getTime();if(O<=0)return"Expired";const E=Math.floor(O/(1e3*60*60)),T=Math.floor(O%(1e3*60*60)/(1e3*60));return E>24?`${Math.floor(E/24)}d ${E%24}h`:`${E}h ${T}m`};return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[t.jsx(at,{className:"w-5 h-5 mr-2 text-blue-600"}),"Make Your Prediction"]}),t.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:t.jsx(Ze,{className:"w-6 h-6"})})]})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h3",{className:"font-medium text-gray-900",children:"Forecast Details"}),t.jsx("span",{className:"text-sm text-gray-500",children:n.platform})]}),n.content_title&&t.jsx("p",{className:"text-sm text-gray-700 mb-2",children:n.content_title}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Metric"}),t.jsxs("p",{className:"font-medium flex items-center",children:[t.jsx(Kt,{className:"w-4 h-4 mr-1 text-blue-600"}),n.forecast_type," ",n.target_value.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Current Pool"}),t.jsxs("p",{className:"font-medium text-green-600",children:["$",n.pool_size.toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Odds"}),t.jsxs("p",{className:"font-medium text-blue-600",children:[n.odds,"x payout"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Time Left"}),t.jsxs("p",{className:"font-medium flex items-center",children:[t.jsx(Kn,{className:"w-4 h-4 mr-1 text-gray-400"}),S(n.expires_at)]})]})]}),t.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Creator's Prediction"}),t.jsxs("p",{className:"text-sm font-medium text-blue-600",children:[n.creator_side.toUpperCase(),"  $",n.creator_initial_amount.toFixed(2)," staked"]})]})]}),t.jsxs("form",{onSubmit:b,className:"space-y-6",children:[m&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-center",children:[t.jsx(dr,{className:"w-4 h-4 text-red-600 mr-2"}),t.jsx("p",{className:"text-red-600 text-sm",children:m})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Your Prediction"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("button",{type:"button",onClick:()=>i("over"),className:`p-4 rounded-lg border-2 transition-colors ${s==="over"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 bg-white text-gray-700 hover:border-green-300"}`,children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"font-semibold",children:"OVER"}),t.jsxs("p",{className:"text-xs mt-1",children:["Will exceed ",n.target_value.toLocaleString()]})]})}),t.jsx("button",{type:"button",onClick:()=>i("under"),className:`p-4 rounded-lg border-2 transition-colors ${s==="under"?"border-red-500 bg-red-50 text-red-700":"border-gray-200 bg-white text-gray-700 hover:border-red-300"}`,children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"font-semibold",children:"UNDER"}),t.jsxs("p",{className:"text-xs mt-1",children:["Will not reach ",n.target_value.toLocaleString()]})]})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.jsx(ft,{className:"w-4 h-4 inline mr-1"}),"Prediction Amount (USD)"]}),t.jsx("input",{type:"number",step:"0.01",placeholder:"Enter amount",value:o,onChange:C=>d(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:"1",max:y.balance}),t.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mt-1",children:[t.jsxs("span",{children:["Available: $",y.balance.toFixed(2)]}),t.jsx("span",{children:"Min: $1.00"})]})]}),t.jsx("div",{className:"grid grid-cols-4 gap-2",children:[5,10,25,50].map(C=>t.jsxs("button",{type:"button",onClick:()=>d(C.toString()),disabled:C>y.balance,className:"py-2 px-3 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:["$",C]},C))}),o&&t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Prediction Summary"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Your prediction:"}),t.jsx("span",{className:"font-medium text-blue-600",children:s.toUpperCase()})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Amount staked:"}),t.jsxs("span",{className:"font-medium",children:["$",o]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Potential payout:"}),t.jsxs("span",{className:"font-medium text-green-600",children:["$",N]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Potential profit:"}),t.jsxs("span",{className:"font-medium text-green-600",children:["$",(parseFloat(N)-parseFloat(o)).toFixed(2)]})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:u||!o||parseFloat(o)>y.balance,className:`px-6 py-2 rounded-lg font-medium transition-colors ${s==="over"?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:u?"Placing...":`Predict ${s.toUpperCase()} $${o||"0"}`})]})]})]})]})}):null}function CS({content:e,isOpen:r,onClose:n,onTip:a}){const[s,i]=x.useState(1),[o,d]=x.useState(!1),u=[1,5,10,25,50,100],h=async()=>{if(!(s<1)){d(!0);try{await a(e,s),n(),i(1)}catch(m){console.error("Failed to send tip:",m)}finally{d(!1)}}};return r?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:(e.creator_name||e.creator_username||"U")[0].toUpperCase()}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Tip Creator"}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Support ",e.creator_name||e.creator_username||"this creator"]})]})]}),t.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Select Tip Amount"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose how many gems you'd like to tip"}),t.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:u.map(m=>t.jsx("button",{onClick:()=>i(m),className:`py-2 px-3 rounded-lg text-sm font-medium transition-all duration-200 ${s===m?"bg-purple-500 text-white ring-2 ring-purple-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[t.jsx(Dr,{className:"w-4 h-4"}),t.jsx("span",{children:m})]})},m))}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"flex-1",children:t.jsx("input",{type:"number",min:"1",max:"1000",value:s,onChange:m=>i(Math.max(1,parseInt(m.target.value)||1)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Custom amount"})}),t.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[t.jsx(Dr,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm",children:"gems"})]})]})]}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"You're tipping"}),t.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[t.jsx(Dr,{className:"w-5 h-5 inline mr-1 text-purple-500"}),s," gems"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Creator receives"}),t.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["$",(s*.01).toFixed(2)]})]})]})}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:n,className:"flex-1 py-2 px-4 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:h,disabled:o||s<1,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white py-2 px-4 rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:o?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),t.jsx("span",{children:"Sending..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(gi,{className:"w-4 h-4"}),t.jsx("span",{children:"Send Tip"})]})})]})]})]})}):null}function oN(){var zi;const{user:e}=Gr(),r=ar(),[n,a]=x.useState([]),[s,i]=x.useState([]),[o,d]=x.useState([]),[u,h]=x.useState(null),[m,p]=x.useState(!0),[y,v]=x.useState("for-you"),[j,b]=x.useState([]),[N,S]=x.useState(!1),[C,_]=x.useState(!1),[P,O]=x.useState(!1),[E,T]=x.useState(!1),[$,D]=x.useState(null),[z,I]=x.useState(null),[F,M]=x.useState(null),[B,G]=x.useState(!1),[ee,L]=x.useState(null),[H,te]=x.useState(!1),[se,U]=x.useState(null),[ne,Y]=x.useState(!1),[K,ie]=x.useState(null),[ae,J]=x.useState(!1),[ve,Q]=x.useState(!1),[ye,Ae]=x.useState(null),[le,He]=x.useState(!1),[$e,ct]=x.useState(null),[Je,Qe]=x.useState(!1);x.useEffect(()=>{Ge(),jt();const pe=ze=>{Je&&!ze.target.closest(".user-menu")&&Qe(!1)};return document.addEventListener("mousedown",pe),()=>document.removeEventListener("mousedown",pe)},[Je]);const sr=pe=>{r(`/content/${pe.id}`)},Fe=async()=>{try{const pe=localStorage.getItem("authToken");pe&&await fetch("/api/auth/logout",{method:"POST",headers:{Authorization:`Bearer ${pe}`,"Content-Type":"application/json"}})}catch(pe){console.error("Logout error:",pe)}finally{localStorage.removeItem("authToken"),r("/auth")}},Ge=async()=>{try{const pe=localStorage.getItem("authToken"),ze={"Content-Type":"application/json"};pe&&(ze.Authorization=`Bearer ${pe}`);const[Ye,ir,Aa,_t]=await Promise.all([fetch("/api/content",{headers:ze}),fetch("/api/drops?limit=10",{headers:ze}),fetch("/api/users/me/wallets",{headers:ze,credentials:"include"}),fetch("/api/content/sponsored",{headers:ze,credentials:"include"})]);if(Ye.ok){const kr=await Ye.json();Array.isArray(kr)?a(kr):(console.error("Content data is not an array:",kr),a([]))}else console.error("Content fetch failed:",Ye.status),a([]);if(ir.ok){const kr=await ir.json();Array.isArray(kr)?i(kr.slice(0,5)):i([])}else i([]);if(Aa.ok){const kr=await Aa.json();d(Array.isArray(kr)?kr:[])}else d([]);if(_t.ok){const kr=await _t.json();b(Array.isArray(kr)?kr:[])}else b([])}catch(pe){console.error("Failed to fetch feeds:",pe),a([]),i([]),d([]),b([])}finally{p(!1)}},jt=async()=>{if(!e){console.log("No authenticated user, skipping user data fetch");return}const pe=localStorage.getItem("authToken");if(!pe){console.log("No auth token found, redirecting to login"),window.location.href="/auth";return}try{const ze={"Content-Type":"application/json",Authorization:`Bearer ${pe}`},Ye=await fetch("/api/auth/profile",{headers:ze,credentials:"include"});if(Ye.ok){const ir=await Ye.json();h(ir.user)}else console.error("Failed to fetch user data:",Ye.status,Ye.statusText),(Ye.status===401||Ye.status===500)&&(localStorage.removeItem("authToken"),window.location.href="/auth")}catch(ze){console.error("Failed to fetch user data:",ze)}},ue=async(pe,ze)=>{try{const Ye=await fetch("/api/users/social-action",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({action_type:pe,reference_id:ze,reference_type:"content"})});if(Ye.ok){const ir=await Ye.json();me(ir),jt()}}catch(Ye){console.error(`Failed to record ${pe} action:`,Ye)}},me=pe=>{const ze=document.createElement("div");ze.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-pulse",ze.innerHTML=`
      <div class="flex items-center space-x-2">
        <span>+${pe.points_earned} points!</span>
        <span class="text-xs">(${pe.multiplier.toFixed(1)}x multiplier)</span>
      </div>
    `,document.body.appendChild(ze),setTimeout(()=>{document.body.contains(ze)&&document.body.removeChild(ze)},3e3)},Te=async(pe,ze)=>{try{if((await fetch("/api/content/buy-shares",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({content_id:pe.id,shares_count:ze})})).ok)await Ge();else throw new Error("Purchase failed")}catch(Ye){throw console.error("Failed to buy shares:",Ye),Ye}},rt=async(pe,ze)=>{try{if((await fetch("/api/content/tip",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({content_id:pe.id,tip_amount:ze})})).ok){const ir=document.createElement("div");ir.className="fixed top-4 right-4 bg-purple-500 text-white px-4 py-3 rounded-lg shadow-lg z-50 animate-bounce",ir.innerHTML=`
          <div class="flex items-center space-x-2">
            <span class="text-lg"></span>
            <div>
              <div class="font-semibold">Tip sent!</div>
              <div class="text-xs opacity-90">Tipped ${ze} gems to ${pe.creator_name||pe.creator_username||"creator"}</div>
            </div>
          </div>
        `,document.body.appendChild(ir),setTimeout(()=>{document.body.contains(ir)&&document.body.removeChild(ir)},4e3),jt()}else throw new Error("Tip failed")}catch(Ye){throw console.error("Failed to send tip:",Ye),Ye}},pn=pe=>{D(pe),S(!0)},Lr=pe=>{ie({id:pe.id,title:pe.title}),Y(!0)},xn=()=>{J(!0)},yt=pe=>{Ae(pe),Q(!0)},sn=pe=>{L(pe),G(!0)},We=pe=>{ct(pe),He(!0)},Ot=pe=>{U(pe),te(!0)},he=async()=>{if(se)try{const pe=await fetch(`/api/content/${se.id}`,{method:"DELETE",credentials:"include"});if(pe.ok)a(ze=>ze.filter(Ye=>Ye.id!==se.id)),te(!1),U(null);else{const ze=await pe.json();alert(ze.error||"Failed to delete content")}}catch(pe){console.error("Error deleting content:",pe),alert("Failed to delete content")}},ot=pe=>{switch(pe){case"super":return t.jsx(Sn,{className:"w-4 h-4 text-yellow-600"});case"premium":return t.jsx(Ue,{className:"w-4 h-4 text-purple-600"});default:return t.jsx(mr,{className:"w-4 h-4 text-gray-600"})}},ht=pe=>{switch(pe){case"super":return 2;case"premium":return 1.5;default:return 1}},yr=()=>u?u.master_key_activated_at?u.points_streak_days===0?{text:"Start Your Streak",subtext:"Engage with content today to begin earning streaks",action:()=>v("social"),color:"from-blue-500 to-purple-500",icon:t.jsx($u,{className:"w-5 h-5"})}:u.gems_balance<10?{text:"Get More Gems",subtext:"Purchase gems to access paid drops and predictions",action:()=>window.location.href="/invest/portfolio",color:"from-purple-500 to-pink-500",icon:t.jsx(er,{className:"w-5 h-5"})}:{text:"Explore Growth Hub",subtext:"Stake gems, fund projects, and secure your earnings",action:()=>window.location.href="/growth-hub",color:"from-green-500 to-emerald-500",icon:t.jsx(at,{className:"w-5 h-5"})}:{text:"Activate Master Key",subtext:"Complete a Proof Drop to unlock premium features",action:()=>window.location.href="/earn?type=proof",color:"from-orange-500 to-red-500",icon:t.jsx(Kt,{className:"w-5 h-5"})}:null,Xt=()=>{const pe=[];j.forEach(_t=>{pe.push({type:"content",data:_t,isSponsored:!0})});const ze=s.filter(_t=>_t.gem_reward_base>=50),Ye=n.filter(_t=>_t.available_shares>0&&!j.some(kr=>kr.id===_t.id)),ir=Ye.length>0?Ye:n,Aa=ze.length>0?ze:s;for(let _t=0;_t<Math.max(ir.length,Aa.length);_t++)ir[_t]&&pe.push({type:"content",data:ir[_t]}),Aa[_t]&&pe.push({type:"drop",data:Aa[_t]});return pe.length===0?[...j.map(_t=>({type:"content",data:_t,isSponsored:!0})),...n.slice(0,5).map(_t=>({type:"content",data:_t})),...s.slice(0,5).map(_t=>({type:"drop",data:_t}))].slice(0,10):pe.slice(0,10)},Tn=yr();return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("nav",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:[t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex justify-between items-center h-16",children:[t.jsx("div",{className:"flex items-center",children:t.jsx("button",{onClick:()=>r("/home"),className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:t.jsx("img",{src:"https://mocha-cdn.com/0198f6f0-5737-78cb-955a-4b0907aa1065/Promorang_logo_extended-03.png",alt:"Promorang",className:"h-8 w-auto"})})}),t.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[t.jsxs("button",{onClick:()=>r("/home"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-gray-700 hover:text-orange-600 hover:bg-orange-50 transition-all duration-200",children:[t.jsx(_l,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium",children:"Dashboard"})]}),t.jsxs("button",{onClick:()=>r("/earn"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-gray-700 hover:text-orange-600 hover:bg-orange-50 transition-all duration-200",children:[t.jsx(ft,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium",children:"Earn"})]}),t.jsxs("button",{onClick:()=>r("/invest/portfolio"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-gray-700 hover:text-orange-600 hover:bg-orange-50 transition-all duration-200",children:[t.jsx(Nl,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium",children:"Invest"})]}),t.jsxs("button",{onClick:()=>r("/wallet"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-gray-700 hover:text-orange-600 hover:bg-orange-50 transition-all duration-200",children:[t.jsx(Rs,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium",children:"Wallet"})]})]}),t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>Qe(!Je),className:"user-menu flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-400 to-red-500 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:((u==null?void 0:u.display_name)||(u==null?void 0:u.username)||(e==null?void 0:e.email)||"U")[0].toUpperCase()}),t.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:(u==null?void 0:u.display_name)||(u==null?void 0:u.username)||"User"}),t.jsx(Bs,{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${Je?"rotate-90":""}`})]}),Je&&t.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[t.jsxs("button",{onClick:()=>{r("/profile"),Qe(!1)},className:"w-full flex items-center space-x-3 px-4 py-2 text-left text-gray-700 hover:bg-gray-100 transition-colors",children:[t.jsx(Hr,{className:"w-4 h-4"}),t.jsx("span",{children:"Profile"})]}),t.jsxs("button",{onClick:()=>{r("/growth-hub"),Qe(!1)},className:"w-full flex items-center space-x-3 px-4 py-2 text-left text-gray-700 hover:bg-gray-100 transition-colors",children:[t.jsx(at,{className:"w-4 h-4"}),t.jsx("span",{children:"Growth Hub"})]}),t.jsxs("button",{onClick:()=>{r("/advertiser"),Qe(!1)},className:"w-full flex items-center space-x-3 px-4 py-2 text-left text-gray-700 hover:bg-gray-100 transition-colors",children:[t.jsx(Fg,{className:"w-4 h-4"}),t.jsx("span",{children:"Advertiser"})]}),t.jsx("hr",{className:"my-1 border-gray-200"}),t.jsxs("button",{onClick:()=>{Fe(),Qe(!1)},className:"w-full flex items-center space-x-3 px-4 py-2 text-left text-red-600 hover:bg-red-50 transition-colors",children:[t.jsx(k0,{className:"w-4 h-4"}),t.jsx("span",{children:"Logout"})]})]})]})})]})}),t.jsx("div",{className:"md:hidden border-t border-gray-200",children:t.jsxs("div",{className:"px-4 py-3 flex justify-around",children:[t.jsxs("button",{onClick:()=>r("/home"),className:"flex flex-col items-center space-y-1 p-2 rounded-lg text-gray-700 hover:text-orange-600 hover:bg-orange-50 transition-all duration-200",children:[t.jsx(_l,{className:"w-5 h-5"}),t.jsx("span",{className:"text-xs",children:"Dashboard"})]}),t.jsxs("button",{onClick:()=>r("/earn"),className:"flex flex-col items-center space-y-1 p-2 rounded-lg text-gray-700 hover:text-orange-600 hover:bg-orange-50 transition-all duration-200",children:[t.jsx(ft,{className:"w-5 h-5"}),t.jsx("span",{className:"text-xs",children:"Earn"})]}),t.jsxs("button",{onClick:()=>r("/invest/portfolio"),className:"flex flex-col items-center space-y-1 p-2 rounded-lg text-gray-700 hover:text-orange-600 hover:bg-orange-50 transition-all duration-200",children:[t.jsx(Nl,{className:"w-5 h-5"}),t.jsx("span",{className:"text-xs",children:"Invest"})]}),t.jsxs("button",{onClick:()=>r("/wallet"),className:"flex flex-col items-center space-y-1 p-2 rounded-lg text-gray-700 hover:text-orange-600 hover:bg-orange-50 transition-all duration-200",children:[t.jsx(Rs,{className:"w-5 h-5"}),t.jsx("span",{className:"text-xs",children:"Wallet"})]})]})})]}),t.jsx("div",{className:"max-w-4xl mx-auto space-y-6 p-4",children:t.jsxs("div",{className:"bg-gradient-to-br from-orange-500 via-red-500 to-pink-500 rounded-2xl p-6 text-white relative overflow-hidden shadow-lg",children:[t.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='white' fill-opacity='0.1'%3E%3Cpath d='M30 30c0 16.569-13.431 30-30 30v-60c16.569 0 30 13.431 30 30z'/%3E%3C/g%3E%3C/svg%3E")`}}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-start justify-between mb-6",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold mb-2 leading-tight",children:["Welcome back, ",((zi=e==null?void 0:e.google_user_data)==null?void 0:zi.given_name)||"Creator","! "]}),t.jsx("p",{className:"text-orange-100 text-base",children:"Ready to turn your influence into income?"})]}),u&&t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"flex items-center space-x-2 justify-end mb-1",children:[ot(u.user_tier),t.jsx("span",{className:"text-base font-semibold capitalize",children:u.user_tier})]}),t.jsxs("div",{className:"text-sm text-orange-200",children:[ht(u.user_tier),"x multiplier"]}),u.points_streak_days>0&&t.jsxs("div",{className:"flex items-center justify-end space-x-1 mt-1",children:[t.jsx($u,{className:"w-4 h-4 text-orange-300"}),t.jsxs("span",{className:"text-sm text-orange-200",children:[u.points_streak_days," day streak"]})]})]})]}),u&&t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[{value:(u.points_balance||0).toLocaleString(),label:"Points",icon:t.jsx(Dr,{className:"w-5 h-5"}),color:"text-blue-200"},{value:u.keys_balance||0,label:"Keys",icon:t.jsx(Kt,{className:"w-5 h-5"}),color:"text-orange-200"},{value:(u.gems_balance||0).toFixed(1),label:"Gems",icon:t.jsx(er,{className:"w-5 h-5"}),color:"text-purple-200"},{value:"View",label:"Saved",icon:t.jsx(Hu,{className:"w-5 h-5"}),color:"text-green-200",action:xn}].map((pe,ze)=>t.jsxs("div",{className:`bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center hover:bg-white/20 transition-all duration-200 cursor-pointer hover:-translate-y-1 ${pe.action?"cursor-pointer":""}`,onClick:pe.action||void 0,children:[t.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[t.jsx("span",{className:pe.color,children:pe.icon}),t.jsx("span",{className:"text-sm text-white/90 font-medium",children:pe.label})]}),t.jsx("p",{className:"text-xl font-bold text-white",children:pe.value})]},ze))}),Tn&&t.jsx("button",{onClick:Tn.action,className:`w-full bg-gradient-to-r ${Tn.color} hover:shadow-xl text-white rounded-xl p-5 transition-all duration-200 hover:-translate-y-1 hover:scale-[1.02]`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-left",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[Tn.icon,t.jsx("span",{className:"font-semibold text-lg",children:Tn.text})]}),t.jsx("p",{className:"text-white/90 text-base",children:Tn.subtext})]}),t.jsx(Bs,{className:"w-6 h-6 opacity-75"})]})})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex",children:[{key:"for-you",label:"For You",icon:t.jsx(Ue,{className:"w-5 h-5"})},{key:"social",label:"Social Feed",icon:t.jsx(j0,{className:"w-5 h-5"})},{key:"drops",label:"Opportunities",icon:t.jsx(ft,{className:"w-5 h-5"})}].map(pe=>t.jsxs("button",{onClick:()=>v(pe.key),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 font-medium text-base transition-all duration-200 ${y===pe.key?"border-b-2 border-orange-500 text-orange-600 bg-orange-50 shadow-sm":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[pe.icon,t.jsx("span",{children:pe.label})]},pe.key))})}),t.jsxs("div",{className:"p-6",children:[y==="for-you"&&t.jsx("div",{className:"space-y-6",children:Xt().length>0?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[t.jsx($u,{className:"w-5 h-5 text-orange-500"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Trending opportunities for you"})]}),Xt().map((pe,ze)=>t.jsx("div",{children:pe.type==="content"?t.jsx(Op,{content:pe.data,onBuyShares:pn,onShare:Lr,onSocialAction:ue,onTip:yt,onNavigate:sr,onPredict:We,currentUser:u,onEdit:sn,onDelete:Ot,isSponsored:pe.isSponsored}):t.jsx(lN,{drop:pe.data})},ze))]}):t.jsx(PD,{})}),y==="social"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between bg-blue-50 border border-blue-200 rounded-lg p-3",children:[t.jsxs("div",{className:"text-sm text-blue-700",children:["Showing ",n.length," content pieces"]}),t.jsx("button",{onClick:Ge,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Refresh Feed"})]}),n.length>0?[...j.map(pe=>t.jsx(Op,{content:pe,onBuyShares:pn,onShare:Lr,onSocialAction:ue,onTip:yt,onNavigate:sr,onPredict:We,currentUser:u,onEdit:sn,onDelete:Ot,isSponsored:!0},`sponsored-${pe.id}`)),...n.filter(pe=>!j.some(ze=>ze.id===pe.id)).map(pe=>t.jsx(Op,{content:pe,onBuyShares:pn,onShare:Lr,onSocialAction:ue,onTip:yt,onNavigate:sr,onPredict:We,currentUser:u,onEdit:sn,onDelete:Ot},pe.id))]:t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(at,{className:"w-12 h-12 text-gray-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No content yet"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Be the first to create and share content!"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("button",{onClick:()=>window.location.href="/create",className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2 mx-auto",children:[t.jsx(Kr,{className:"w-4 h-4"}),t.jsx("span",{children:"Create Content"})]}),t.jsx("button",{onClick:Ge,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Check for new content"})]})]})]}),y==="drops"&&t.jsx("div",{className:"space-y-4",children:s.length>0?s.map(pe=>t.jsx(lN,{drop:pe},pe.id)):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(ft,{className:"w-12 h-12 text-gray-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No opportunities available"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Check back later for new earning opportunities!"}),t.jsx("button",{onClick:()=>window.location.href="/earn",className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200",children:"Browse All Opportunities"})]})})]})]}),$&&t.jsx(xS,{content:$,wallet:o==null?void 0:o.find(pe=>pe.currency_type==="USD"),isOpen:N,onClose:()=>{S(!1),D(null)},onPurchase:Te}),t.jsx(gS,{user:u,contentId:z==null?void 0:z.id,contentTitle:z==null?void 0:z.title,isOpen:C,onClose:()=>{_(!1),I(null)},onSuccess:()=>{jt(),Ge()}}),t.jsx(yS,{user:u,contentId:F==null?void 0:F.id,contentTitle:F==null?void 0:F.title,contentPlatform:F==null?void 0:F.platform,contentUrl:F==null?void 0:F.url,isOpen:P,onClose:()=>{O(!1),M(null)},onSuccess:()=>{jt(),Ge()}}),ee&&t.jsx(Hg,{isOpen:B,onClose:()=>{G(!1),L(null)},onSuccess:handleEditSuccess,content:ee}),t.jsx(Wm,{isOpen:H,onClose:()=>{te(!1),U(null)},onConfirm:he,title:"Delete Content",message:`Are you sure you want to delete "${se==null?void 0:se.title}"? This action cannot be undone and will remove all associated data.`,confirmText:"Delete",cancelText:"Cancel",type:"danger"}),K&&t.jsx(wD,{isOpen:ne,onClose:()=>{Y(!1),ie(null)},contentId:K.id,contentTitle:K.title}),t.jsx(ND,{isOpen:ae,onClose:()=>J(!1),user:u}),ye&&t.jsx(CS,{content:ye,isOpen:ve,onClose:()=>{Q(!1),Ae(null)},onTip:rt}),$e&&t.jsx(SS,{forecast:{id:$e.id,creator_name:$e.creator_name||$e.creator_username||"Unknown",platform:$e.platform||"Unknown",content_url:$e.platform_url||"",content_title:$e.title,forecast_type:"engagement",target_value:1e3,current_value:500,odds:2.5,pool_size:250,creator_initial_amount:100,creator_side:"over",expires_at:new Date(Date.now()+10080*60*1e3).toISOString()},isOpen:le,onClose:()=>{He(!1),ct(null)},onPredictionPlaced:()=>{He(!1),ct(null),Ge()}})]})}function ED(){const{user:e}=Gr(),r=an(),[n,a]=x.useState([]),[s,i]=x.useState(null),[o,d]=x.useState(!0),[u,h]=x.useState(!1),[m,p]=x.useState(""),[y,v]=x.useState(""),[j,b]=x.useState("");x.useEffect(()=>{S(),e&&N()},[e]),x.useEffect(()=>{const P=new URLSearchParams(r.search).get("create");(P==="proof"||P==="paid")&&s&&s.user_type==="advertiser"&&h(!0)},[r,s]);const N=async()=>{try{const _=Ht(),P=await fetch("/api/users/me",{credentials:"include",headers:_});if(P.ok){const O=await P.json();i(O)}}catch(_){console.error("Failed to fetch user data:",_)}},S=async()=>{try{const P=await(await fetch("/api/drops")).json();a(P)}catch(_){console.error("Failed to fetch drops:",_)}finally{d(!1)}},C=n.filter(_=>{const P=_.title.toLowerCase().includes(m.toLowerCase())||_.description.toLowerCase().includes(m.toLowerCase()),O=!y||_.drop_type===y,E=!j||_.difficulty===j;return P&&O&&E});return o?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Earn"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Discover earning drops that match your skills"})]}),s&&s.user_type==="advertiser"&&t.jsxs("button",{onClick:()=>h(!0),className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 transition-all duration-200 shadow-lg",children:[t.jsx(Kr,{className:"w-5 h-5"}),t.jsx("span",{children:"Create Drop"})]})]}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(vi,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search drops...",value:m,onChange:_=>p(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),t.jsxs("select",{value:y,onChange:_=>v(_.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"All Drop Types"}),_S.options.map(_=>t.jsx("option",{value:_,children:_.replace(/_/g," ").replace(/\b\w/g,P=>P.toUpperCase())},_))]}),t.jsxs("select",{value:j,onChange:_=>b(_.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"All Difficulties"}),kS.options.map(_=>t.jsx("option",{value:_,className:"capitalize",children:_},_))]}),t.jsxs("button",{className:"flex items-center justify-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[t.jsx(rS,{className:"w-5 h-5 text-gray-500"}),t.jsx("span",{children:"More Filters"})]})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(_=>t.jsx(OD,{drop:_},_.id))}),C.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(vi,{className:"w-12 h-12 text-gray-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No drops found"}),t.jsx("p",{className:"text-gray-600",children:"Try adjusting your search criteria or create a new drop."})]}),u&&s&&s.user_type==="advertiser"&&t.jsx(AD,{onClose:()=>h(!1),onSuccess:()=>{h(!1),S()}})]})}function OD({drop:e}){var d,u,h;const r=ar(),n=m=>{if(e!=null&&e.content_url)return e.content_url;switch(m){case"content_clipping":return"https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=400&h=250&fit=crop";case"reviews":return"https://images.unsplash.com/photo-1556155092-490a1ba16284?w=400&h=250&fit=crop";case"ugc_creation":return"https://images.unsplash.com/photo-1558403194-611308249627?w=400&h=250&fit=crop";case"affiliate_referral":return"https://images.unsplash.com/photo-1516251193007-45ef944ab0c6?w=400&h=250&fit=crop";case"surveys":return"https://images.unsplash.com/photo-1432888622747-4eb9a8efeb07?w=400&h=250&fit=crop";case"challenges_events":return"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=400&h=250&fit=crop";default:return"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=400&h=250&fit=crop"}},a=()=>{r(`/drops/${e.id}`)},s=((d=e.title)==null?void 0:d.toLowerCase().includes("[demo]"))||((u=e.title)==null?void 0:u.toLowerCase().includes("demo"))||((h=e.description)==null?void 0:h.toLowerCase().includes("demo")),i=m=>{switch(m){case"content_clipping":return"";case"reviews":return"";case"ugc_creation":return"";case"affiliate_referral":return"";case"surveys":return"";case"challenges_events":return"";default:return""}},o=m=>{switch(m){case"easy":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"hard":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return t.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-shadow",children:[s&&t.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-amber-500 text-white px-4 py-2 text-center",children:t.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm font-medium",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"DEMO DROP - No real gems awarded"}),t.jsx("span",{children:""})]})}),t.jsxs("div",{className:"relative cursor-pointer",onClick:a,children:[t.jsx("img",{src:n(e.drop_type),alt:e.title,className:"w-full h-48 object-cover hover:opacity-95 transition-opacity"}),t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"}),t.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[s&&t.jsx("span",{className:"bg-orange-500/90 backdrop-blur-sm text-white px-2 py-1 rounded-full text-xs font-medium",children:"DEMO"}),t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${o(e.difficulty)}`,children:e.difficulty})]}),t.jsx("div",{className:"absolute top-4 left-4",children:e.is_proof_drop?t.jsx("div",{className:"bg-green-500/90 backdrop-blur-sm px-2 py-1 rounded-full",children:t.jsx("span",{className:"text-white text-sm font-medium",children:"Proof Drop"})}):e.is_paid_drop?t.jsx("div",{className:"bg-purple-500/90 backdrop-blur-sm px-2 py-1 rounded-full",children:t.jsx("span",{className:"text-white text-sm font-medium",children:"Paid Drop"})}):t.jsxs("div",{className:"flex items-center space-x-1 bg-orange-500/90 backdrop-blur-sm px-2 py-1 rounded-full",children:[t.jsx(Cn,{className:"w-3 h-3 text-white"}),t.jsx("span",{className:"text-white text-sm font-medium",children:e.key_cost})]})}),t.jsxs("div",{className:"absolute bottom-4 left-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(er,{className:"w-6 h-6 text-purple-300 drop-shadow"}),t.jsxs("p",{className:"text-3xl font-bold text-white drop-shadow-lg",children:[e.gem_reward_base,s&&t.jsx("span",{className:"text-lg opacity-80",children:" (Demo)"})]})]}),t.jsx("p",{className:"text-sm text-white/80 drop-shadow",children:s?"Demo gems (no real value)":"Gems reward"})]})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex items-start justify-between mb-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-xl",children:i(e.drop_type)}),e.is_proof_drop?t.jsx("div",{className:"flex items-center space-x-1 text-sm bg-green-100 px-2 py-1 rounded",children:t.jsx("span",{className:"font-medium text-green-700",children:"Proof Drop - Free"})}):e.is_paid_drop?t.jsx("div",{className:"flex items-center space-x-1 text-sm bg-purple-100 px-2 py-1 rounded",children:t.jsx("span",{className:"font-medium text-purple-700",children:"Paid Drop"})}):t.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[t.jsx(Cn,{className:"w-3 h-3 text-orange-600"}),t.jsxs("span",{className:"font-medium text-orange-700",children:[e.key_cost," keys"]})]})]})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 cursor-pointer hover:text-orange-600 transition-colors",onClick:a,children:e.title}),t.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:e.description}),t.jsx("div",{className:"mb-4",children:t.jsx(Pl,{username:e.creator_name,displayName:e.creator_name,avatarUrl:e.creator_avatar,className:"flex items-center space-x-2",size:"sm"})}),t.jsxs("div",{className:"space-y-2 mb-6",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[t.jsx(zt,{className:"w-4 h-4"}),t.jsxs("span",{children:[e.current_participants,"/",e.max_participants||""," participants"]})]}),e.follower_threshold>0&&t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[t.jsx(Ue,{className:"w-4 h-4"}),t.jsxs("span",{children:[e.follower_threshold,"+ followers required"]})]}),e.deadline_at&&t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[t.jsx(la,{className:"w-4 h-4"}),t.jsxs("span",{children:["Due ",new Date(e.deadline_at).toLocaleDateString()]})]}),e.time_commitment&&t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[t.jsx(Kn,{className:"w-4 h-4"}),t.jsx("span",{children:e.time_commitment})]}),e.gem_pool_total>0&&t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[t.jsx(er,{className:"w-4 h-4"}),t.jsxs("span",{children:[e.gem_pool_remaining," gems remaining in pool"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:e.drop_type.replace(/_/g," ").replace(/\b\w/g,m=>m.toUpperCase())}),t.jsx("div",{className:"flex space-x-2",children:t.jsx("button",{onClick:a,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"View Details"})})]})]})]})}const AD=({onClose:e,onSuccess:r})=>{const n=an(),s=new URLSearchParams(n.search).get("create"),i=()=>s==="paid"?"paid":s==="move"?"move":"proof",[o,d]=x.useState(!1),[u,h]=x.useState(!1),[m,p]=x.useState("upload"),[y,v]=x.useState(null),[j,b]=x.useState(null),[N,S]=x.useState(i()),C=x.useRef(null),_=z=>({title:"",description:"",drop_type:"content_clipping",difficulty:"easy",key_cost:z==="paid"?1:0,gem_reward_base:z==="paid"?50:0,gem_pool_total:0,follower_threshold:0,time_commitment:"",requirements:"",deliverables:"",deadline_at:"",max_participants:void 0,platform:"",content_url:"",is_proof_drop:z==="proof",is_paid_drop:z==="paid",move_cost_points:0,key_reward_amount:0,move_actions:[]}),[P,O]=x.useState(()=>_(i()));x.useEffect(()=>{O(z=>({...z,is_proof_drop:N==="proof",is_paid_drop:N==="paid",key_cost:N==="paid"?1:0,gem_reward_base:N==="paid"?50:0}))},[N]);const E=z=>{if(z.target.files&&z.target.files[0]){const I=z.target.files[0];b(I);const F=new FileReader;F.onload=M=>{var B;(B=M.target)!=null&&B.result&&v(M.target.result)},F.readAsDataURL(I)}},T=()=>{b(null),v(null),C.current&&(C.current.value="")},$=async z=>{try{h(!0);const I=await new Promise((B,G)=>{const ee=new FileReader;ee.onload=()=>{const L=ee.result;B(L.split(",")[1])},ee.onerror=G,ee.readAsDataURL(z)}),F=await fetch("/api/content/upload-image",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({image:I,filename:z.name,contentType:z.type,description:P.title||"Marketing drop",platform:P.platform||"general"})});if(!F.ok)throw new Error("Failed to upload image");return(await F.json()).url}catch(I){return console.error("Error uploading image:",I),"https://images.unsplash.com/photo-1516251193007-45ef944ab0c6?w=800&h=600&fit=crop&crop=center"}finally{h(!1)}},D=async z=>{z.preventDefault(),d(!0);try{let I=P.content_url;if(m==="upload"&&j)try{I=await $(j)}catch(M){console.error("Error uploading image:",M),alert("Failed to upload image. Please try again.");return}else if(m==="link"&&P.content_url)try{if(!(await fetch(P.content_url,{method:"HEAD"})).ok)throw new Error("Invalid image URL")}catch{alert("Please provide a valid image URL");return}const F=await fetch("/api/drops",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...P,content_url:I,drop_type:N==="proof"?"content_clipping":N==="paid"?"paid_content":"action_required",difficulty:P.difficulty||"easy",deadline_at:P.deadline_at||null,max_participants:P.max_participants||null,key_cost:N==="paid"?P.key_cost||1:0,gem_reward_base:N==="paid"?P.gem_reward_base||50:0,is_proof_drop:N==="proof",is_paid_drop:N==="paid",move_cost_points:N==="move"&&P.move_cost_points||0,key_reward_amount:N==="move"&&P.key_reward_amount||0})});if(!F.ok){const M=await F.json().catch(()=>({}));throw new Error(M.message||"Failed to create drop")}r(),e()}catch(I){console.error("Error creating drop:",I),alert(I instanceof Error?I.message:"Failed to create drop")}finally{d(!1)}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold",children:"Create New Drop"}),t.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700","aria-label":"Close modal",children:""})]}),t.jsxs("form",{onSubmit:D,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Drop Type"}),t.jsx("div",{className:"flex space-x-4",children:["proof","paid","move"].map(z=>t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"radio",className:"h-4 w-4 text-orange-500",checked:N===z,onChange:()=>S(z)}),t.jsx("span",{className:"ml-2 capitalize",children:z})]},z))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),t.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:P.title,onChange:z=>O({...P,title:z.target.value}),required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),t.jsx("textarea",{className:"w-full p-2 border rounded",rows:3,value:P.description,onChange:z=>O({...P,description:z.target.value}),required:!0})]}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty"}),t.jsxs("select",{className:"w-full p-2 border rounded",value:P.difficulty,onChange:z=>O({...P,difficulty:z.target.value}),children:[t.jsx("option",{value:"easy",children:"Easy"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"hard",children:"Hard"})]})]}),N==="paid"&&t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Key Cost"}),t.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded",value:P.key_cost,onChange:z=>O({...P,key_cost:Number(z.target.value)}),required:N==="paid"})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"radio",className:"h-4 w-4 text-orange-500",checked:m==="upload",onChange:()=>p("upload")}),t.jsx("span",{className:"ml-2",children:"Upload Image"})]}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"radio",className:"h-4 w-4 text-orange-500",checked:m==="link",onChange:()=>p("link")}),t.jsx("span",{className:"ml-2",children:"Image URL"})]})]}),m==="upload"?t.jsxs("div",{children:[t.jsx("input",{type:"file",ref:C,onChange:E,accept:"image/*",className:"hidden"}),t.jsx("button",{type:"button",onClick:()=>{var z;return(z=C.current)==null?void 0:z.click()},className:"w-full p-2 border-2 border-dashed border-gray-300 rounded-md text-gray-500 hover:border-orange-500 hover:text-orange-500 transition-colors",children:u?"Uploading...":"Choose an image"}),y&&t.jsxs("div",{className:"mt-2 relative",children:[t.jsx("img",{src:y,alt:"Preview",className:"max-h-40 rounded"}),t.jsx("button",{type:"button",onClick:T,className:"absolute top-1 right-1 bg-black bg-opacity-50 text-white rounded-full p-1 hover:bg-opacity-75","aria-label":"Remove image",children:""})]})]}):t.jsx("input",{type:"url",className:"w-full p-2 border rounded",placeholder:"https://example.com/image.jpg",value:P.content_url,onChange:z=>O({...P,content_url:z.target.value}),required:!0})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",disabled:o,children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 disabled:opacity-50",disabled:o||u,children:o?"Creating...":"Create Drop"})]})]})]})})};async function TD(e,r,n,a){try{return await e()}catch(s){throw console.error(`Error in ${r}.${n}:`,s),Ug(s instanceof Error?s:new Error(String(s)),r,n,a),s}}function MD(e,r,n,a){var h,m,p;console.error(`API Error in ${r}.${n}:`,e);const s=e.status||((h=e.response)==null?void 0:h.status),i=e.message||((p=(m=e.response)==null?void 0:m.data)==null?void 0:p.error)||String(e),o=[500,502,503,504],d=["internal server error","service unavailable","gateway timeout","database error","authentication failed"];(o.includes(s)||d.some(y=>i.toLowerCase().includes(y)))&&Ug(new Error(`API Error (${s}): ${i}`),r,n,a)}function DD(e){return{handleError:(r,n,a)=>{Ug(r,e,n,a)},handleApiError:(r,n,a)=>{MD(r,e,n,a)},withErrorHandling:async(r,n,a)=>TD(r,e,n,a)}}function $D(){Gr();const e=DD("Create"),[r,n]=x.useState("post"),[a,s]=x.useState({platform:"instagram",title:"",description:"",platform_url:"",media_url:"",total_shares:100,share_price:0}),[i,o]=x.useState(!1),[d,u]=x.useState(0),[h,m]=x.useState(!1),[p,y]=x.useState(null),[v,j]=x.useState(""),[b,N]=x.useState("url"),[S,C]=x.useState(!1),_=x.useRef(null),P=async I=>{try{C(!0);const F=await new Promise(G=>{const ee=new FileReader;ee.onload=()=>{const L=ee.result;G(L.split(",")[1])},ee.readAsDataURL(I)}),M=await fetch("/api/content/upload-image",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({fileName:I.name,fileType:I.type,fileData:F})});if(!M.ok)throw new Error("Upload failed");const B=await M.json();if(B.fallback){console.warn("Upload fallback used:",B.fallbackReason);const G=document.createElement("div");G.className="fixed top-4 right-4 bg-yellow-500 text-white px-4 py-3 rounded-lg shadow-lg z-50",G.innerHTML=`
          <div class="flex items-center space-x-2">
            <span></span>
            <div>
              <div class="font-semibold">Image Upload Notice</div>
              <div class="text-xs opacity-90">${B.fallbackReason||"Using fallback image"}</div>
            </div>
          </div>
        `,document.body.appendChild(G),setTimeout(()=>{document.body.contains(G)&&document.body.removeChild(G)},5e3)}return B.imageUrl}catch(F){console.error("Error uploading image:",F);try{const G=await fetch("/api/content/generate-placeholder",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({description:a.title||"Social media content",platform:a.platform})});if(G.ok){const ee=await G.json(),L=document.createElement("div");return L.className="fixed top-4 right-4 bg-orange-500 text-white px-4 py-3 rounded-lg shadow-lg z-50",L.innerHTML=`
            <div class="flex items-center space-x-2">
              <span></span>
              <div>
                <div class="font-semibold">Using Placeholder Image</div>
                <div class="text-xs opacity-90">Original upload failed, but your content will still be created</div>
              </div>
            </div>
          `,document.body.appendChild(L),setTimeout(()=>{document.body.contains(L)&&document.body.removeChild(L)},4e3),ee.imageUrl}}catch(G){console.error("Fallback image generation failed:",G)}const M="https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=800&h=600&fit=crop&crop=center",B=document.createElement("div");return B.className="fixed top-4 right-4 bg-orange-500 text-white px-4 py-3 rounded-lg shadow-lg z-50",B.innerHTML=`
        <div class="flex items-center space-x-2">
          <span></span>
          <div>
            <div class="font-semibold">Using Default Image</div>
            <div class="text-xs opacity-90">Upload service temporarily unavailable</div>
          </div>
        </div>
      `,document.body.appendChild(B),setTimeout(()=>{document.body.contains(B)&&document.body.removeChild(B)},4e3),M}finally{C(!1)}},O=async I=>{var M;const F=(M=I.target.files)==null?void 0:M[0];if(F){if(!["image/jpeg","image/png","image/gif","image/webp"].includes(F.type)){const ee=new Error("Please upload a valid image file (JPG, PNG, GIF, WEBP).");e.handleError(ee,"invalid_file_type");return}if(F.size>15*1024*1024){const ee=new Error("File size must be less than 15MB. Please compress your image or use a URL instead.");e.handleError(ee,"file_too_large");return}y(F);const G=URL.createObjectURL(F);j(G);try{const ee=await P(F);s({...a,media_url:ee})}catch(ee){console.error("File upload failed:",ee);const L=ee instanceof Error?ee.message:String(ee);if(L.includes("too large")||L.includes("Invalid file type")){const H=ee instanceof Error?ee:new Error(L);e.handleError(H,"upload_image")}else{const H=document.createElement("div");H.className="fixed top-4 right-4 bg-red-500 text-white px-4 py-3 rounded-lg shadow-lg z-50",H.innerHTML=`
            <div class="flex items-center space-x-2">
              <span></span>
              <div>
                <div class="font-semibold">Upload Failed</div>
                <div class="text-xs opacity-90">Please try again or use an image URL instead</div>
              </div>
            </div>
          `,document.body.appendChild(H),setTimeout(()=>{document.body.contains(H)&&document.body.removeChild(H)},5e3)}E()}}},E=()=>{y(null),v&&(URL.revokeObjectURL(v),j("")),s({...a,media_url:""}),_.current&&(_.current.value="")},T=async I=>{try{const F=await fetch(I,{method:"HEAD"}),M=F.headers.get("content-type");return F.ok&&(M==null?void 0:M.startsWith("image/"))||!1}catch{return!1}},$=async I=>{I.preventDefault(),m(!0);try{if(a.media_url&&b==="url"&&!await T(a.media_url)){const G=new Error("The provided image URL is not accessible. Please check the URL or upload an image file instead.");e.handleError(G,"invalid_image_url"),m(!1);return}const F={...a,share_price:i&&d>0?d/a.total_shares:0};console.log("Sending content creation request:",F);const M=await fetch("/api/content",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(F)});if(console.log("Content creation response status:",M.status),M.ok){const B=await M.json();if(i&&d>0)try{await fetch(`/api/content/${B.contentId}/fund`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({amount:d,currency_type:"Gems"})})}catch(ee){console.error("Funding failed:",ee)}s({platform:"instagram",title:"",description:"",platform_url:"",media_url:"",total_shares:100,share_price:0}),o(!1),u(0),E(),N("url");const G=document.createElement("div");G.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-3 rounded-lg shadow-lg z-50 animate-bounce",G.innerHTML=`
          <div class="flex items-center space-x-2">
            <span class="text-lg"></span>
            <div>
              <div class="font-semibold">Content Created!</div>
              <div class="text-xs opacity-90">Redirecting to your content page...</div>
            </div>
          </div>
        `,document.body.appendChild(G),setTimeout(()=>{document.body.contains(G)&&document.body.removeChild(G),window.location.href=`/content/${B.contentId}`},2e3)}else{let B="Failed to create content. Please try again.",G=null;try{const te=await M.json();console.error("Failed to create content:",te),te.error&&(B=te.error),te.details&&(console.error("Error details:",te.details),G=te.details),te.field_errors&&(console.error("Field validation errors:",te.field_errors),B=`Validation failed: ${te.field_errors.map(U=>`${U.field}: ${U.message}`).join(", ")}`)}catch(te){console.error("Error parsing error response:",te)}const ee=M.status>=500,L=B.includes("database")||B.includes("Database"),H=M.status===400&&B.includes("Validation");if(ee||L){const te=new Error(`${B}${G?` - ${G}`:""}`);e.handleError(te,"create_content")}else{const te=document.createElement("div");te.className="fixed top-4 right-4 bg-red-500 text-white px-4 py-3 rounded-lg shadow-lg z-50",te.innerHTML=`
            <div class="flex items-center space-x-2">
              <span></span>
              <div>
                <div class="font-semibold">Content Creation Failed</div>
                <div class="text-xs opacity-90">${B}</div>
                ${H?'<div class="text-xs opacity-75 mt-1">Please check all form fields and try again</div>':""}
              </div>
            </div>
          `,document.body.appendChild(te),setTimeout(()=>{document.body.contains(te)&&document.body.removeChild(te)},8e3)}}}catch(F){console.error("Failed to create content:",F);const M=F instanceof Error?F:new Error("Failed to create content. Please check your connection and try again.");e.handleError(M,"create_content_network")}finally{m(!1)}},D=I=>{switch(I){case"instagram":return t.jsx(kl,{className:"w-5 h-5"});case"twitter":return t.jsx(Bg,{className:"w-5 h-5"});case"youtube":return t.jsx(dS,{className:"w-5 h-5"});case"linkedin":return t.jsx(sS,{className:"w-5 h-5"});case"tiktok":return t.jsx(zT,{className:"w-5 h-5"});default:return t.jsx(_0,{className:"w-5 h-5"})}},z=I=>{switch(I){case"instagram":return"from-pink-500 to-purple-600";case"twitter":return"from-blue-400 to-blue-600";case"youtube":return"from-red-500 to-red-600";case"linkedin":return"from-blue-600 to-blue-800";case"tiktok":return"from-black to-gray-800";default:return"from-gray-500 to-gray-600"}};return t.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Share your content and unlock earning opportunities"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Need to create marketing campaigns?"}),t.jsx("p",{className:"text-xs text-gray-400",children:'Check "Become Advertiser" in your profile menu'})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[t.jsx("div",{className:"border-b border-gray-200",children:t.jsxs("nav",{className:"flex space-x-8 px-6",children:[t.jsx("button",{onClick:()=>n("post"),className:`py-4 border-b-2 font-medium text-sm ${r==="post"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Share Existing Content"}),t.jsx("button",{onClick:()=>n("upload"),className:`py-4 border-b-2 font-medium text-sm ${r==="upload"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Upload New Content"})]})}),t.jsxs("div",{className:"p-6",children:[r==="post"&&t.jsxs("form",{onSubmit:$,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Platform"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:bD.options.map(I=>t.jsxs("button",{type:"button",onClick:()=>s({...a,platform:I}),className:`p-4 border rounded-lg flex flex-col items-center space-y-2 transition-all ${a.platform===I?"border-orange-500 bg-orange-50 text-orange-700":"border-gray-300 hover:border-gray-400"}`,children:[t.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${z(I)} flex items-center justify-center text-white`,children:D(I)}),t.jsx("span",{className:"text-sm font-medium capitalize",children:I})]},I))})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Title"}),t.jsx("input",{type:"text",required:!0,value:a.title,onChange:I=>s({...a,title:I.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"My amazing content piece..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform URL"}),t.jsx("input",{type:"url",required:!0,value:a.platform_url,onChange:I=>s({...a,platform_url:I.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"https://instagram.com/p/..."})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),t.jsx("textarea",{rows:3,value:a.description,onChange:I=>s({...a,description:I.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Describe your content..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Media Content (Optional)"}),t.jsxs("div",{className:"flex space-x-4 mb-4",children:[t.jsxs("button",{type:"button",onClick:()=>{N("url"),E()},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${b==="url"?"bg-orange-100 text-orange-700 border border-orange-300":"bg-gray-100 text-gray-600 border border-gray-300 hover:bg-gray-200"}`,children:[t.jsx(_0,{className:"w-4 h-4 inline mr-2"}),"Use URL"]}),t.jsxs("button",{type:"button",onClick:()=>{N("file"),s({...a,media_url:""})},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${b==="file"?"bg-orange-100 text-orange-700 border border-orange-300":"bg-gray-100 text-gray-600 border border-gray-300 hover:bg-gray-200"}`,children:[t.jsx(bi,{className:"w-4 h-4 inline mr-2"}),"Upload File"]})]}),b==="url"?t.jsxs("div",{children:[t.jsx("input",{type:"url",value:a.media_url,onChange:I=>s({...a,media_url:I.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Direct link to image..."}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Make sure the image URL is publicly accessible and ends with .jpg, .png, .gif, or .webp"})]}):t.jsx("div",{className:"space-y-4",children:p?t.jsxs("div",{className:"border border-gray-300 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:t.jsx(nS,{className:"w-5 h-5 text-orange-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:p.name}),t.jsxs("p",{className:"text-sm text-gray-500",children:[(p.size/1024/1024).toFixed(2)," MB"]}),S&&t.jsx("p",{className:"text-xs text-blue-600",children:"Uploading..."})]})]}),t.jsx("button",{type:"button",onClick:E,className:"p-1 text-gray-400 hover:text-red-500 transition-colors",disabled:S,children:t.jsx(Ze,{className:"w-5 h-5"})})]}),v&&t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:v,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),S&&t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-lg",children:t.jsxs("div",{className:"text-white text-center",children:[t.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-white border-t-transparent rounded-full mx-auto mb-2"}),t.jsx("p",{className:"text-sm",children:"Processing image..."})]})})]})]}):t.jsxs("div",{onClick:()=>{var I;return(I=_.current)==null?void 0:I.click()},className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-orange-400 hover:bg-orange-50 transition-all",children:[t.jsx(bi,{className:"w-8 h-8 text-gray-400 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-600 mb-2",children:"Click to upload or drag and drop"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Images (JPG, PNG, GIF, WEBP)  Max 10 MB"}),t.jsx("input",{ref:_,type:"file",accept:"image/*",onChange:O,className:"hidden"})]})})]}),t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-4",children:"Investment Settings"}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:"Total Shares Available"}),t.jsx("input",{type:"number",min:"100",max:"1000",value:a.total_shares,onChange:I=>s({...a,total_shares:Math.max(100,Number(I.target.value))}),className:"w-full px-4 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),t.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Minimum 100 shares required"})]}),t.jsx("div",{className:"mb-4",children:t.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:i,onChange:I=>{o(I.target.checked),I.target.checked||(u(0),s({...a,share_price:0}))},className:"w-4 h-4 text-purple-600 border-purple-300 rounded focus:ring-purple-500"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Fund content with gems"}),t.jsx("p",{className:"text-xs text-purple-600",children:"Give your content initial value by funding it with gems"})]})]})}),i&&t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:"Gem Funding Amount"}),t.jsx("input",{type:"number",min:"1",step:"1",value:d||"",onChange:I=>{const F=Number(I.target.value);u(F),s({...a,share_price:F>0?F/a.total_shares:0})},className:"w-full px-4 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter gems to fund content"}),t.jsxs("div",{className:"text-xs text-purple-600 mt-1 space-y-1",children:[t.jsxs("p",{children:["This will be split across all ",a.total_shares," shares"]}),d>0&&t.jsxs("p",{children:["Share price: ",(d/a.total_shares).toFixed(4)," gems per share"]})]})]}),t.jsx("div",{className:"bg-purple-100 border border-purple-300 rounded-lg p-3",children:t.jsxs("p",{className:"text-sm text-purple-700",children:[t.jsx("strong",{children:"Total shares:"})," ",a.total_shares,i&&d>0&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("strong",{children:"Total funding:"})," ",d," gems",t.jsx("br",{}),t.jsx("strong",{children:"Value per share:"})," ",(d/a.total_shares).toFixed(4)," gems"]}),!i&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("strong",{children:"Initial value:"})," Free shares (investors can add value later)"]})]})})]}),t.jsx("button",{type:"submit",disabled:h||S,className:"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white py-3 rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Creating...":S?"Processing Image...":"Create Content Post"})]}),r==="upload"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center",children:[t.jsx(bi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Upload your content"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Drag and drop your files here, or click to browse"}),t.jsx("button",{className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200",children:"Choose Files"}),t.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Supports: Images (JPG, PNG, WEBP), Videos (MP4, MOV), Documents (PDF, DOC)"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mx-auto mb-4",children:t.jsx(dc,{className:"w-6 h-6 text-white"})}),t.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Photos"}),t.jsx("p",{className:"text-sm text-blue-700",children:"High-quality images for social sharing"})]}),t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6 text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center mx-auto mb-4",children:t.jsx(cS,{className:"w-6 h-6 text-white"})}),t.jsx("h3",{className:"font-semibold text-purple-900 mb-2",children:"Videos"}),t.jsx("p",{className:"text-sm text-purple-700",children:"Engaging video content for maximum reach"})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center mx-auto mb-4",children:t.jsx(Ls,{className:"w-6 h-6 text-white"})}),t.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"Documents"}),t.jsx("p",{className:"text-sm text-green-700",children:"Educational and informational content"})]})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Direct Upload Coming Soon"}),t.jsx("p",{className:"text-gray-600",children:`We're working on direct upload functionality. For now, please use the "Share Existing Content" tab to upload images and link to content you've posted on social platforms.`})]})]})]})]})]})}function ID({isOpen:e,onClose:r,onForecastCreated:n}){const[a,s]=x.useState({content_id:"",platform:"instagram",content_url:"",forecast_type:"views",target_value:"",odds:"2",expires_at:"",initial_amount:"",initial_side:"over"}),[i,o]=x.useState([]),[d,u]=x.useState(!1),[h,m]=x.useState(""),[p,y]=x.useState({balance:0});x.useEffect(()=>{if(e){v(),j();const C=new Date;C.setDate(C.getDate()+1),s(_=>({..._,expires_at:C.toISOString().slice(0,16)}))}},[e]);const v=async()=>{try{const C=await fetch("/api/content");if(C.ok){const _=await C.json();o(_.slice(0,20))}}catch(C){console.error("Failed to fetch content:",C)}},j=async()=>{try{const C=await fetch("/api/users/me/wallets");if(C.ok){const P=(await C.json()).find(O=>O.currency_type==="USD");y({balance:(P==null?void 0:P.balance)||0})}}catch(C){console.error("Failed to fetch wallet:",C)}},b=async C=>{C.preventDefault(),u(!0),m("");try{const _=await fetch("/api/social-forecasts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...a,content_id:a.content_id?parseInt(a.content_id):void 0,target_value:parseInt(a.target_value),odds:parseFloat(a.odds),initial_amount:parseFloat(a.initial_amount)})});if(_.ok)n(),r(),s({content_id:"",platform:"instagram",content_url:"",forecast_type:"views",target_value:"",odds:"2",expires_at:"",initial_amount:"",initial_side:"over"});else{const P=await _.json();m(P.error||"Failed to create forecast")}}catch{m("Failed to create forecast")}finally{u(!1)}},N=C=>{s(_=>({..._,content_id:C.id.toString(),platform:C.platform,content_url:C.platform_url}))},S=a.initial_amount?(parseFloat(a.initial_amount)*parseFloat(a.odds)).toFixed(2):"0";return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"p-6 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[t.jsx(at,{className:"w-5 h-5 mr-2 text-blue-600"}),"Create Social Forecast"]}),t.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Create a prediction market by putting up your own initial stake. Others can then predict on your forecast."})]}),t.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[h&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsx("p",{className:"text-red-600 text-sm",children:h})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content to Forecast On"}),t.jsxs("div",{className:"space-y-3",children:[i.length>0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Select from Promorang content:"}),t.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-200 rounded-lg",children:i.map(C=>t.jsxs("button",{type:"button",onClick:()=>N(C),className:`w-full text-left p-3 border-b border-gray-100 hover:bg-gray-50 ${a.content_id===C.id.toString()?"bg-blue-50 border-l-4 border-l-blue-500":""}`,children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.title}),t.jsxs("div",{className:"text-xs text-gray-500",children:[C.platform,"  by ",C.creator_name]})]},C.id))})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Or enter external content URL:"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsxs("select",{value:a.platform,onChange:C=>s({...a,platform:C.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"instagram",children:"Instagram"}),t.jsx("option",{value:"tiktok",children:"TikTok"}),t.jsx("option",{value:"youtube",children:"YouTube"}),t.jsx("option",{value:"twitter",children:"Twitter"})]}),t.jsx("input",{type:"url",placeholder:"Content URL",value:a.content_url,onChange:C=>s({...a,content_url:C.target.value,content_id:""}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.jsx(Kt,{className:"w-4 h-4 inline mr-1"}),"Metric to Predict"]}),t.jsxs("select",{value:a.forecast_type,onChange:C=>s({...a,forecast_type:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[t.jsx("option",{value:"views",children:"Views"}),t.jsx("option",{value:"likes",children:"Likes"}),t.jsx("option",{value:"shares",children:"Shares"}),t.jsx("option",{value:"comments",children:"Comments"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Value"}),t.jsx("input",{type:"number",placeholder:"e.g., 10000",value:a.target_value,onChange:C=>s({...a,target_value:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:"1"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payout Odds (multiplier)"}),t.jsxs("select",{value:a.odds,onChange:C=>s({...a,odds:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[t.jsx("option",{value:"1.5",children:"1.5x"}),t.jsx("option",{value:"2",children:"2x"}),t.jsx("option",{value:"2.5",children:"2.5x"}),t.jsx("option",{value:"3",children:"3x"}),t.jsx("option",{value:"4",children:"4x"}),t.jsx("option",{value:"5",children:"5x"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.jsx(Kn,{className:"w-4 h-4 inline mr-1"}),"Expires At"]}),t.jsx("input",{type:"datetime-local",value:a.expires_at,onChange:C=>s({...a,expires_at:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:new Date().toISOString().slice(0,16)})]})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Your Initial Prediction & Stake"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Prediction"}),t.jsxs("select",{value:a.initial_side,onChange:C=>s({...a,initial_side:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[t.jsx("option",{value:"over",children:"OVER (will exceed target)"}),t.jsx("option",{value:"under",children:"UNDER (will not reach target)"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.jsx(ft,{className:"w-4 h-4 inline mr-1"}),"Initial Stake (USD)"]}),t.jsx("input",{type:"number",step:"0.01",placeholder:"Amount to stake",value:a.initial_amount,onChange:C=>s({...a,initial_amount:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:"1",max:p.balance}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Available: $",p.balance.toFixed(2)]})]})]}),a.initial_amount&&t.jsxs("div",{className:"mt-3 p-3 bg-white rounded-lg border border-blue-200",children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Your stake: ",t.jsxs("span",{className:"font-medium",children:["$",a.initial_amount]})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Potential payout if correct: ",t.jsxs("span",{className:"font-medium text-green-600",children:["$",S]})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This creates the initial pool that others can predict against"})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:d||!a.content_url||!a.target_value||!a.initial_amount,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?"Creating...":"Create Forecast"})]})]})]})}):null}function LD(){const[e,r]=x.useState("forecasts"),[n,a]=x.useState([]),[s,i]=x.useState([]),[o,d]=x.useState([]),[u,h]=x.useState([]),[m,p]=x.useState(!0),[y,v]=x.useState(!1),[j,b]=x.useState(!1),[N,S]=x.useState(null);x.useEffect(()=>{C()},[e]);const C=async()=>{p(!0);try{if(e==="forecasts"){const M=await fetch("/api/social-forecasts");if(M.ok){const B=await M.json();a(B)}else console.error("Failed to fetch forecasts:",M.status)}else if(e==="my-forecasts"){const M=await fetch("/api/users/forecasts",{credentials:"include"});if(M.ok){const B=await M.json();i(B)}else console.error("Failed to fetch user forecasts:",M.status),i([])}else if(e==="my-created"){const M=await fetch("/api/users/created-forecasts",{credentials:"include"});if(M.ok){const B=await M.json();d(B)}else console.error("Failed to fetch created forecasts:",M.status),d([])}else if(e==="content"){const M=await fetch("/api/content");if(M.ok){const B=await M.json();h(B)}else console.error("Failed to fetch content:",M.status)}}catch(M){console.error("Failed to fetch data:",M)}finally{p(!1)}},_=M=>{S(M),b(!0)},P=()=>{C(),v(!1)},O=()=>{C()},E=(M,B)=>typeof M!="number"||Number.isNaN(M)?"":M.toLocaleString(void 0,B),T=M=>typeof M!="number"||Number.isNaN(M)?"":M.toLocaleString(void 0,{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}),$=M=>{const B=new Date,ee=new Date(M).getTime()-B.getTime();if(ee<=0)return"Expired";const L=Math.floor(ee/(1e3*60*60)),H=Math.floor(ee%(1e3*60*60)/(1e3*60));return L>24?`${Math.floor(L/24)}d ${L%24}h`:`${L}h ${H}m`},D=M=>{switch(M){case"active":return"text-green-600 bg-green-100";case"expired":return"text-gray-600 bg-gray-100";case"resolved":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},z=({forecast:M})=>{const B=new Date(M.expires_at)<=new Date;return t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("img",{src:M.creator_avatar||"/api/placeholder/32/32",alt:M.creator_name,className:"w-8 h-8 rounded-full"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:M.creator_name}),t.jsx("p",{className:"text-xs text-gray-500",children:M.platform})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${D(M.status)}`,children:M.status}),t.jsx("a",{href:M.content_url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gray-600",children:t.jsx(oa,{className:"w-4 h-4"})})]})]}),M.content_title&&t.jsxs("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:M.content_title}),t.jsx("p",{className:"text-xs text-gray-500",children:M.content_platform})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Kt,{className:"w-4 h-4 text-blue-600"}),t.jsxs("span",{className:"text-sm font-medium",children:[M.forecast_type," ",E(M.target_value)]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Pool"}),t.jsx("p",{className:"font-semibold text-green-600",children:T(M.pool_size)})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Kn,{className:"w-4 h-4 text-gray-400"}),t.jsx("span",{className:"text-sm text-gray-600",children:$(M.expires_at)})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Odds"}),t.jsx("p",{className:"font-semibold text-blue-600",children:typeof M.odds=="number"&&!Number.isNaN(M.odds)?`${M.odds}x`:""})]})]}),M.creator_side&&M.creator_initial_amount>0&&t.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Creator's Prediction"}),t.jsxs("p",{className:"text-sm font-medium text-blue-600",children:[M.creator_side.toUpperCase(),"  ",T(M.creator_initial_amount)," staked"]})]}),!B&&t.jsx("button",{onClick:()=>_(M),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Make Your Prediction"})]})]})},I=({forecast:M})=>{const B=M.forecast_status==="resolved",G=B&&M.actual_payout>0;return t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-gray-900",children:[M.forecast_type," forecast by ",M.creator_name]}),t.jsx("p",{className:"text-sm text-gray-600",children:M.platform})]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${D(M.forecast_status)}`,children:M.forecast_status})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Your Prediction"}),t.jsx("p",{className:"font-medium text-blue-600",children:M.prediction_side.toUpperCase()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Amount Staked"}),t.jsxs("p",{className:"font-medium",children:["$",M.prediction_amount.toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Target Value"}),t.jsx("p",{className:"font-medium",children:M.target_value.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Current Value"}),t.jsx("p",{className:"font-medium",children:M.current_value.toLocaleString()})]})]}),B?t.jsx("div",{className:`p-3 rounded-lg ${G?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:t.jsxs("p",{className:`text-sm font-medium ${G?"text-green-600":"text-red-600"}`,children:[G?"Won!":"Lost","  ",G?`+$${M.actual_payout.toFixed(2)}`:`$${M.prediction_amount.toFixed(2)} lost`]})}):t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Potential payout: ",t.jsxs("span",{className:"font-medium text-green-600",children:["$",M.potential_payout.toFixed(2)]})]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Expires: ",$(M.expires_at)]})]})]})},F=({content:M})=>t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("img",{src:M.creator_avatar||"/api/placeholder/32/32",alt:M.creator_name,className:"w-8 h-8 rounded-full"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:M.creator_name}),t.jsx("p",{className:"text-xs text-gray-500",children:M.platform})]})]}),t.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:M.title}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Share Price"}),t.jsxs("p",{className:"font-medium",children:["$",M.share_price.toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Available"}),t.jsxs("p",{className:"font-medium",children:[M.available_shares,"/",M.total_shares]})]})]}),t.jsx("div",{className:"bg-green-50 rounded-lg p-3 mb-4",children:t.jsxs("p",{className:"text-sm text-green-600 font-medium",children:["Revenue: $",M.current_revenue.toFixed(2)]})}),t.jsx("button",{className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Buy Shares"})]});return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Investment Hub"}),t.jsx("p",{className:"text-gray-600",children:"Create forecasts, make predictions, and invest in creator success"})]}),t.jsxs("button",{onClick:()=>v(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[t.jsx(Kr,{className:"w-4 h-4"}),t.jsx("span",{children:"Create Forecast"})]})]}),t.jsx("div",{className:"border-b border-gray-200 mb-8",children:t.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"forecasts",label:"All Forecasts",icon:at},{id:"my-forecasts",label:"My Predictions",icon:zt},{id:"my-created",label:"My Forecasts",icon:Kt},{id:"content",label:"Content Shares",icon:ft}].map(M=>t.jsxs("button",{onClick:()=>r(M.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${e===M.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[t.jsx(M.icon,{className:"w-4 h-4"}),t.jsx("span",{children:M.label})]},M.id))})}),m?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e==="forecasts"&&n.map(M=>t.jsx(z,{forecast:M},M.id)),e==="my-forecasts"&&s.map(M=>t.jsx(I,{forecast:M},M.id)),e==="my-created"&&o.map(M=>t.jsx(z,{forecast:M},M.id)),e==="content"&&u.map(M=>t.jsx(F,{content:M},M.id))]}),!m&&t.jsxs(t.Fragment,{children:[e==="forecasts"&&n.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(at,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Active Forecasts"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Be the first to create a prediction market! Put up your own stake and let others predict on your forecast."}),t.jsx("button",{onClick:()=>v(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create First Forecast"})]}),e==="my-forecasts"&&s.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(zt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Predictions Yet"}),t.jsx("p",{className:"text-gray-600",children:"Browse active forecasts and make your first prediction to start earning!"})]}),e==="my-created"&&o.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Kt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Created Forecasts"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first prediction market by putting up initial stake and letting others predict against you!"}),t.jsx("button",{onClick:()=>v(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Forecast"})]}),e==="content"&&u.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(ft,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Content Available"}),t.jsx("p",{className:"text-gray-600",children:"No content shares are currently available for investment."})]})]})]}),t.jsx(ID,{isOpen:y,onClose:()=>v(!1),onForecastCreated:P}),N&&t.jsx(SS,{isOpen:j,onClose:()=>b(!1),forecast:N,onPredictionPlaced:O})]})}function RD({user:e,isOpen:r,onClose:n,onSuccess:a}){const[s,i]=x.useState("amount"),[o,d]=x.useState(200),[u,h]=x.useState(""),[m,p]=x.useState({}),[y,v]=x.useState([]),[j,b]=x.useState([]),[N,S]=x.useState(!1),[C,_]=x.useState(null),[P,O]=x.useState(!1);x.useEffect(()=>{r&&(E(),T())},[r]);const E=async()=>{try{const K=await(await fetch("/api/withdrawal/methods",{credentials:"include"})).json();v(K)}catch(Y){console.error("Failed to fetch withdrawal methods:",Y)}},T=async()=>{try{const K=await(await fetch("/api/users/payment-preferences",{credentials:"include"})).json();b(K)}catch(Y){console.error("Failed to fetch user preferences:",Y)}};if(!r||!e)return null;const $=(e.gems_balance||0)>=200,D=y.find(Y=>Y.method_name===u),z=D?o*D.fee_percentage/100:0,I=o-z,F=Y=>Y.startsWith("crypto_")?t.jsx(yl,{className:"w-5 h-5"}):Y==="bank_account"?t.jsx(Jk,{className:"w-5 h-5"}):Y==="paypal"||Y==="payoneer"?t.jsx(Oc,{className:"w-5 h-5"}):t.jsx(ft,{className:"w-5 h-5"}),M=Y=>{const K=y.find(ie=>ie.method_name===Y);if(!K)return[];try{return JSON.parse(K.required_fields)}catch{return[]}},B=Y=>({wallet_address:"Wallet Address",network:"Network",email_address:"Email Address",account_holder_name:"Account Holder Name",bank_name:"Bank Name",account_number:"Account Number",routing_number:"Routing Number",swift_code:"SWIFT Code",country:"Country",full_name:"Full Name",address_line_1:"Address Line 1",address_line_2:"Address Line 2 (Optional)",city:"City",state:"State/Province",postal_code:"Postal Code",phone_number:"Phone Number"})[Y]||Y.replace("_"," ").replace(/\b\w/g,ie=>ie.toUpperCase()),G=Y=>Y==="email_address"?"email":Y==="phone_number"?"tel":"text",ee=Y=>!Y.includes("optional")&&Y!=="address_line_2",L=async()=>{S(!0),_(null);try{P&&await fetch("/api/users/payment-preferences",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({payment_method:u,preference_data:m,is_default:!0})});const Y=await fetch("/api/withdrawal/request",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({amount:o,payment_method:u,payment_details:m})});if(Y.ok)a(),n(),H();else{const K=await Y.json();_(K.error||"Withdrawal request failed")}}catch(Y){console.error("Withdrawal failed:",Y),_("Network error occurred")}finally{S(!1)}},H=()=>{i("amount"),d(200),h(""),p({}),_(null),O(!1)},te=()=>{H(),n()},se=o>=200&&o<=(e.gems_balance||0),U=u!=="",ne=()=>M(u).every(K=>!ee(K)||m[K]&&m[K].trim()!=="");return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Withdraw Gems"}),t.jsx("button",{onClick:te,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),$?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center space-x-2 mb-6",children:["amount","method","details","confirm"].map((Y,K)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${s===Y?"bg-purple-500 text-white":["amount","method","details","confirm"].indexOf(s)>K?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:K+1}),K<3&&t.jsx("div",{className:"w-12 h-0.5 bg-gray-200 mx-2"})]},Y))}),s==="amount"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Withdrawal Amount (Gems)"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("input",{type:"number",value:o,onChange:Y=>d(Math.max(200,parseInt(Y.target.value)||200)),min:"200",max:e.gems_balance||0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),t.jsx("div",{className:"flex space-x-2",children:[200,500,1e3,e.gems_balance||0].filter((Y,K,ie)=>ie.indexOf(Y)===K&&Y>=200).map(Y=>t.jsx("button",{onClick:()=>d(Y),className:"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-full text-gray-700",children:Y===e.gems_balance?"Max":Y.toLocaleString()},Y))})]})]}),t.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{children:"Available Balance:"}),t.jsxs("span",{className:"font-medium",children:[e.gems_balance," gems"]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm mt-2",children:[t.jsx("span",{children:"Withdrawal Fee (2.5%):"}),t.jsxs("span",{className:"font-medium",children:["~",Math.ceil(o*.025)," gems"]})]})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:te,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:()=>i("method"),disabled:!se,className:"flex-1 bg-purple-500 hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Next"})]})]}),s==="method"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Payment Method"}),j.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Saved Methods"}),t.jsx("div",{className:"grid grid-cols-1 gap-2",children:j.map(Y=>{const K=y.find(ae=>ae.method_name===Y.payment_method);if(!K)return null;let ie="";try{const ae=JSON.parse(Y.preference_data);ae.email_address?ie=ae.email_address:ae.wallet_address?ie=`${ae.wallet_address.slice(0,6)}...${ae.wallet_address.slice(-4)}`:ae.account_number?ie=`****${ae.account_number.slice(-4)}`:ie="Saved method"}catch{ie="Saved method"}return t.jsx("button",{onClick:()=>{h(Y.payment_method),p(JSON.parse(Y.preference_data))},className:`w-full p-3 border-2 rounded-lg text-left transition-colors ${u===Y.payment_method?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:t.jsxs("div",{className:"flex items-center space-x-3",children:[F(Y.payment_method),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:K.display_name}),t.jsx("p",{className:"text-sm text-gray-500",children:ie})]}),Y.is_default&&t.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Default"})]})},Y.id)})}),t.jsxs("div",{className:"relative my-4",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t border-gray-300"})}),t.jsx("div",{className:"relative flex justify-center text-sm",children:t.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or choose a new method"})})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:y.filter(Y=>Y.is_active).map(Y=>t.jsxs("button",{onClick:()=>h(Y.method_name),className:`p-4 border-2 rounded-lg text-left transition-colors ${u===Y.method_name?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[F(Y.method_name),t.jsx("span",{className:"font-medium",children:Y.display_name})]}),t.jsx("p",{className:"text-xs text-gray-500",children:Y.processing_time}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Min: ",Y.min_amount," gems"]})]},Y.method_name))})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:()=>i("amount"),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Back"}),t.jsx("button",{onClick:()=>i("details"),disabled:!U,className:"flex-1 bg-purple-500 hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Next"})]})]}),s==="details"&&D&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:D.display_name}),t.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Processing time: ",D.processing_time]})]}),t.jsx("div",{className:"space-y-4",children:M(u).map(Y=>t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[B(Y),ee(Y)&&t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),Y==="network"&&u.startsWith("crypto_")?t.jsxs("select",{value:m[Y]||"",onChange:K=>p(ie=>({...ie,[Y]:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:ee(Y),children:[t.jsx("option",{value:"",children:"Select Network"}),t.jsx("option",{value:"mainnet",children:"Mainnet"}),t.jsx("option",{value:"ethereum",children:"Ethereum (ERC-20)"}),t.jsx("option",{value:"bsc",children:"Binance Smart Chain (BEP-20)"}),t.jsx("option",{value:"polygon",children:"Polygon"}),t.jsx("option",{value:"arbitrum",children:"Arbitrum"})]}):Y==="country"?t.jsxs("select",{value:m[Y]||"",onChange:K=>p(ie=>({...ie,[Y]:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:ee(Y),children:[t.jsx("option",{value:"",children:"Select Country"}),t.jsx("option",{value:"US",children:"United States"}),t.jsx("option",{value:"CA",children:"Canada"}),t.jsx("option",{value:"GB",children:"United Kingdom"}),t.jsx("option",{value:"AU",children:"Australia"}),t.jsx("option",{value:"DE",children:"Germany"}),t.jsx("option",{value:"FR",children:"France"}),t.jsx("option",{value:"IT",children:"Italy"}),t.jsx("option",{value:"ES",children:"Spain"}),t.jsx("option",{value:"NL",children:"Netherlands"}),t.jsx("option",{value:"SE",children:"Sweden"}),t.jsx("option",{value:"NO",children:"Norway"}),t.jsx("option",{value:"DK",children:"Denmark"}),t.jsx("option",{value:"FI",children:"Finland"}),t.jsx("option",{value:"JP",children:"Japan"}),t.jsx("option",{value:"KR",children:"South Korea"}),t.jsx("option",{value:"SG",children:"Singapore"}),t.jsx("option",{value:"HK",children:"Hong Kong"}),t.jsx("option",{value:"IN",children:"India"}),t.jsx("option",{value:"BR",children:"Brazil"}),t.jsx("option",{value:"MX",children:"Mexico"})]}):t.jsx("input",{type:G(Y),value:m[Y]||"",onChange:K=>p(ie=>({...ie,[Y]:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:ee(Y),placeholder:Y==="wallet_address"?"Enter your wallet address":""})]},Y))}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"saveAsDefault",checked:P,onChange:Y=>O(Y.target.checked),className:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500"}),t.jsx("label",{htmlFor:"saveAsDefault",className:"text-sm text-gray-700",children:"Save this payment method for future withdrawals"})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:()=>i("method"),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Back"}),t.jsx("button",{onClick:()=>i("confirm"),disabled:!ne(),className:"flex-1 bg-purple-500 hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Review"})]})]}),s==="confirm"&&D&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Review Withdrawal Request"}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Withdrawal Amount:"}),t.jsxs("span",{className:"font-medium",children:[o," gems"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-gray-600",children:["Processing Fee (",D.fee_percentage,"%):"]}),t.jsxs("span",{className:"font-medium text-red-600",children:["-",z.toFixed(2)," gems"]})]}),t.jsx("div",{className:"border-t pt-2",children:t.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[t.jsx("span",{children:"Net Amount:"}),t.jsxs("span",{className:"text-green-600",children:[I.toFixed(2)," gems"]})]})})]}),t.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-lg",children:[t.jsxs("h4",{className:"font-medium text-gray-900 mb-2",children:["Payment Method: ",D.display_name]}),t.jsx("div",{className:"text-sm text-gray-600 space-y-1",children:Object.entries(m).map(([Y,K])=>t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"capitalize",children:[B(Y),":"]}),t.jsx("span",{className:"font-mono",children:Y.includes("address")&&K.length>20?`${K.slice(0,8)}...${K.slice(-8)}`:K})]},Y))})]}),t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(ki,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),t.jsxs("div",{className:"text-sm text-yellow-800",children:[t.jsx("p",{className:"font-medium mb-1",children:"Important Notice:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[t.jsx("li",{children:"Withdrawal requests cannot be cancelled once submitted"}),t.jsxs("li",{children:["Processing time: ",D.processing_time]}),t.jsx("li",{children:"Ensure all payment details are correct"}),t.jsx("li",{children:"You will receive an email confirmation once processed"})]})]})]})})]}),C&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsx("p",{className:"text-sm text-red-700",children:C})}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:()=>i("details"),disabled:N,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Back"}),t.jsx("button",{onClick:L,disabled:N,className:"flex-1 bg-green-500 hover:bg-green-600 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:N?t.jsx(Lg,{className:"w-4 h-4 animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(et,{className:"w-4 h-4"}),t.jsx("span",{children:"Submit Withdrawal"})]})})]})]})]}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(ki,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Insufficient Gems"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"You need at least 200 gems to request a withdrawal."}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Current balance: ",e.gems_balance||0," gems"]}),t.jsx("button",{onClick:te,className:"mt-4 px-6 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg font-medium transition-colors",children:"Close"})]})]})})}function FD({user:e,isOpen:r,onClose:n,onSuccess:a}){const[s,i]=x.useState([]),[o,d]=x.useState([]),[u,h]=x.useState(!1),[m,p]=x.useState(null),[y,v]=x.useState(""),[j,b]=x.useState({}),[N,S]=x.useState(!1),[C,_]=x.useState(null);x.useEffect(()=>{r&&P()},[r]);const P=async()=>{try{const[B,G]=await Promise.all([fetch("/api/users/payment-preferences",{credentials:"include"}),fetch("/api/withdrawal/methods",{credentials:"include"})]),ee=await B.json(),L=await G.json();i(ee),d(L)}catch(B){console.error("Failed to fetch data:",B)}};if(!r||!e)return null;const O=B=>B.startsWith("crypto_")?t.jsx(yl,{className:"w-5 h-5"}):B==="bank_account"?t.jsx(Jk,{className:"w-5 h-5"}):B==="paypal"||B==="payoneer"?t.jsx(Oc,{className:"w-5 h-5"}):t.jsx(yl,{className:"w-5 h-5"}),E=B=>{const G=o.find(ee=>ee.method_name===B);if(!G)return[];try{return JSON.parse(G.required_fields)}catch{return[]}},T=B=>({wallet_address:"Wallet Address",network:"Network",email_address:"Email Address",account_holder_name:"Account Holder Name",bank_name:"Bank Name",account_number:"Account Number",routing_number:"Routing Number",swift_code:"SWIFT Code",country:"Country",full_name:"Full Name",address_line_1:"Address Line 1",address_line_2:"Address Line 2",city:"City",state:"State/Province",postal_code:"Postal Code",phone_number:"Phone Number"})[B]||B.replace("_"," ").replace(/\b\w/g,ee=>ee.toUpperCase()),$=B=>{try{const G=JSON.parse(B.preference_data);return G.email_address?G.email_address:G.wallet_address?`${G.wallet_address.slice(0,8)}...${G.wallet_address.slice(-6)}`:G.account_number?`****${G.account_number.slice(-4)}`:G.full_name?G.full_name:"Payment method"}catch{return"Payment method"}},D=async()=>{if(!(!y||Object.keys(j).length===0)){S(!0),_(null);try{const B=await fetch("/api/users/payment-preferences",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({payment_method:y,preference_data:j,is_default:s.length===0})});if(B.ok)await P(),F(),a();else{const G=await B.json();_(G.error||"Failed to save payment preference")}}catch(B){console.error("Failed to save preference:",B),_("Network error occurred")}finally{S(!1)}}},z=async B=>{if(confirm("Are you sure you want to delete this payment method?"))try{(await fetch(`/api/users/payment-preferences/${B}`,{method:"DELETE",credentials:"include"})).ok&&(await P(),a())}catch(G){console.error("Failed to delete preference:",G)}},I=async B=>{try{(await fetch(`/api/users/payment-preferences/${B}/set-default`,{method:"POST",credentials:"include"})).ok&&(await P(),a())}catch(G){console.error("Failed to set default:",G)}},F=()=>{h(!1),p(null),v(""),b({}),_(null)},M=B=>{p(B.id),v(B.payment_method);try{b(JSON.parse(B.preference_data))}catch{b({})}h(!0)};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Payment Preferences"}),t.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Saved Payment Methods"}),t.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg font-medium transition-colors",children:[t.jsx(Kr,{className:"w-4 h-4"}),t.jsx("span",{children:"Add Method"})]})]}),s.length===0?t.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[t.jsx(yl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No payment methods saved"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Add a payment method to make withdrawals easier"}),t.jsx("button",{onClick:()=>h(!0),className:"px-6 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg font-medium transition-colors",children:"Add Payment Method"})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(B=>{const G=o.find(ee=>ee.method_name===B.payment_method);return t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[O(B.payment_method),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:G==null?void 0:G.display_name}),t.jsx("p",{className:"text-sm text-gray-600",children:$(B)})]})]}),B.is_default&&t.jsxs("span",{className:"flex items-center space-x-1 text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:[t.jsx(Ue,{className:"w-3 h-3"}),t.jsx("span",{children:"Default"})]})]}),t.jsxs("div",{className:"flex space-x-2",children:[!B.is_default&&t.jsx("button",{onClick:()=>I(B.id),className:"flex-1 text-xs px-3 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"Set Default"}),t.jsxs("button",{onClick:()=>M(B),className:"flex-1 text-xs px-3 py-1 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-lg transition-colors flex items-center justify-center space-x-1",children:[t.jsx(S0,{className:"w-3 h-3"}),t.jsx("span",{children:"Edit"})]}),t.jsxs("button",{onClick:()=>z(B.id),className:"flex-1 text-xs px-3 py-1 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg transition-colors flex items-center justify-center space-x-1",children:[t.jsx(Cl,{className:"w-3 h-3"}),t.jsx("span",{children:"Delete"})]})]})]},B.id)})})]}),u&&t.jsxs("div",{className:"border-t pt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:m?"Edit Payment Method":"Add Payment Method"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:o.filter(B=>B.is_active).map(B=>t.jsxs("button",{onClick:()=>v(B.method_name),disabled:m!==null,className:`p-3 border-2 rounded-lg text-left transition-colors ${y===B.method_name?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"} ${m?"opacity-50 cursor-not-allowed":""}`,children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[O(B.method_name),t.jsx("span",{className:"font-medium text-sm",children:B.display_name})]}),t.jsx("p",{className:"text-xs text-gray-500",children:B.processing_time})]},B.method_name))})]}),y&&t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Payment Details"}),E(y).map(B=>t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[T(B),B!=="address_line_2"&&t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),B==="network"&&y.startsWith("crypto_")?t.jsxs("select",{value:j[B]||"",onChange:G=>b(ee=>({...ee,[B]:G.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[t.jsx("option",{value:"",children:"Select Network"}),t.jsx("option",{value:"mainnet",children:"Mainnet"}),t.jsx("option",{value:"ethereum",children:"Ethereum (ERC-20)"}),t.jsx("option",{value:"bsc",children:"Binance Smart Chain (BEP-20)"}),t.jsx("option",{value:"polygon",children:"Polygon"}),t.jsx("option",{value:"arbitrum",children:"Arbitrum"})]}):B==="country"?t.jsxs("select",{value:j[B]||"",onChange:G=>b(ee=>({...ee,[B]:G.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[t.jsx("option",{value:"",children:"Select Country"}),t.jsx("option",{value:"US",children:"United States"}),t.jsx("option",{value:"CA",children:"Canada"}),t.jsx("option",{value:"GB",children:"United Kingdom"}),t.jsx("option",{value:"AU",children:"Australia"}),t.jsx("option",{value:"DE",children:"Germany"}),t.jsx("option",{value:"FR",children:"France"}),t.jsx("option",{value:"IT",children:"Italy"}),t.jsx("option",{value:"ES",children:"Spain"}),t.jsx("option",{value:"NL",children:"Netherlands"}),t.jsx("option",{value:"JP",children:"Japan"}),t.jsx("option",{value:"SG",children:"Singapore"}),t.jsx("option",{value:"IN",children:"India"}),t.jsx("option",{value:"BR",children:"Brazil"}),t.jsx("option",{value:"MX",children:"Mexico"})]}):t.jsx("input",{type:B==="email_address"?"email":B==="phone_number"?"tel":"text",value:j[B]||"",onChange:G=>b(ee=>({...ee,[B]:G.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:B!=="address_line_2"})]},B))]}),C&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsx("p",{className:"text-sm text-red-700",children:C})}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:F,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:D,disabled:!y||N||E(y).some(B=>B!=="address_line_2"&&(!j[B]||j[B].trim()==="")),className:"flex-1 bg-purple-500 hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg font-medium transition-colors",children:N?"Saving...":m?"Update Method":"Save Method"})]})]})]})]})]})})}const Ap=[{id:"starter",gems:10,price:11,bonus:0},{id:"basic",gems:25,price:27.5,bonus:0},{id:"popular",gems:47,price:55,bonus:3,popular:!0,savings:"Best Value"},{id:"premium",gems:88,price:110,bonus:12,savings:"12% Bonus"},{id:"ultimate",gems:210,price:275,bonus:40,savings:"16% Bonus"}];function zD({user:e,isOpen:r,onClose:n}){const[a,s]=x.useState("popular"),[i,o]=x.useState(!1),[d,u]=x.useState(null);if(console.log("=== GemStoreModal Debug Info ==="),console.log("isOpen:",r),console.log("user exists:",!!e),console.log("user data:",e),console.log("onClose function:",typeof n),!r)return console.log("Modal not rendering: isOpen is false"),null;console.log("Modal should be visible now!");const h=async()=>{const p=Ap.find(y=>y.id===a);if(p){o(!0),u(null);try{const y=await fetch("/api/payments/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({package_id:a,gems:p.gems+p.bonus,price:p.price})});if(y.ok){const{checkout_url:v}=await y.json();window.location.href=v}else{const v=await y.json();u(v.error||"Failed to create payment session")}}catch(y){console.error("Payment failed:",y),u("Payment processing failed. Please try again.")}finally{o(!1)}}},m=Ap.find(p=>p.id===a);return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:t.jsx(er,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Gem Store"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Purchase gems to participate in drops and forecasts"})]})]}),t.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),!e&&t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Loading user data..."}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Please wait while we load your account information."}),t.jsx("p",{className:"text-xs text-red-600",children:"Debug: User data is null - check console for details"}),t.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg text-sm hover:bg-blue-600",children:"Reload Page"})]})}),e&&t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4 mb-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(er,{className:"w-8 h-8 text-purple-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-semibold text-purple-900",children:"Current Balance"}),t.jsx("p",{className:"text-sm text-purple-600",children:"Your gem wallet"})]})]}),t.jsx("p",{className:"text-3xl font-bold text-purple-900",children:e.gems_balance})]})}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Choose Your Package"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ap.map(p=>t.jsxs("div",{onClick:()=>s(p.id),className:`relative border-2 rounded-xl p-6 cursor-pointer transition-all duration-200 ${a===p.id?"border-purple-500 bg-purple-50 shadow-lg scale-105":"border-gray-200 hover:border-gray-300 hover:shadow-md"}`,children:[p.popular&&t.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:t.jsxs("span",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-3 py-1 rounded-full text-xs font-medium flex items-center space-x-1",children:[t.jsx(Ue,{className:"w-3 h-3"}),t.jsx("span",{children:"Most Popular"})]})}),p.savings&&!p.popular&&t.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:t.jsx("span",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:p.savings})}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(er,{className:"w-8 h-8 text-white"})}),t.jsx("h4",{className:"text-lg font-semibold text-gray-900 capitalize mb-2",children:p.id}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",p.price]}),t.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-1",children:[t.jsxs("span",{className:"text-lg font-semibold text-purple-600",children:[p.gems," gems"]}),p.bonus>0&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-gray-400",children:"+"}),t.jsxs("span",{className:"text-lg font-semibold text-green-600",children:[p.bonus," bonus"]})]})]}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Total: ",p.gems+p.bonus," gems"]})]}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx(mr,{className:"w-4 h-4 text-orange-500"}),t.jsx("span",{children:"Participate in drops"})]}),t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx(yl,{className:"w-4 h-4 text-blue-500"}),t.jsx("span",{children:"Place predictions"})]}),p.bonus>0&&t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx(Ue,{className:"w-4 h-4 text-yellow-500"}),t.jsxs("span",{children:[Math.round(p.bonus/p.gems*100),"% bonus gems"]})]})]})]})]},p.id))})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[t.jsx(Ar,{className:"w-5 h-5 text-green-600"}),t.jsx("h4",{className:"font-medium text-gray-900",children:"Secure Payment"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),t.jsx("span",{children:"256-bit SSL encryption"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),t.jsx("span",{children:"PCI DSS compliant"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),t.jsx("span",{children:"Powered by Stripe"})]})]})]}),m&&t.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Purchase Summary"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Package:"}),t.jsx("span",{className:"font-medium capitalize",children:m.id})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Base Gems:"}),t.jsx("span",{className:"font-medium",children:m.gems})]}),m.bonus>0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Bonus Gems:"}),t.jsxs("span",{className:"font-medium text-green-600",children:["+",m.bonus]})]}),t.jsxs("div",{className:"border-t pt-2",children:[t.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[t.jsx("span",{children:"Total Gems:"}),t.jsx("span",{className:"text-purple-600",children:m.gems+m.bonus})]}),t.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[t.jsx("span",{children:"Total Price:"}),t.jsxs("span",{children:["$",m.price]})]})]})]})]}),d&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-6",children:t.jsx("p",{className:"text-sm text-red-700",children:d})}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:n,disabled:i,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),t.jsx("button",{onClick:h,disabled:i||!m,className:"flex-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-2",children:i?t.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}):t.jsxs(t.Fragment,{children:[t.jsx(yl,{className:"w-5 h-5"}),t.jsxs("span",{children:["Purchase $",m==null?void 0:m.price," - ",m?m.gems+m.bonus:0," Gems"]})]})})]}),t.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"By purchasing gems, you agree to our Terms of Service. Gems are virtual currency and have no real-world value. All sales are final and non-refundable."})]})]})})}function BD(){const{user:e,redirectToLogin:r}=Gr(),[n,a]=x.useState(null),[s,i]=x.useState(!1),o=async()=>{i(!0);try{console.log("=== COMPREHENSIVE AUTH DEBUG ===");const h=document.cookie;console.log("1. Cookies:",h);const m=h.includes("mocha_session_token"),p=Ht(),y=await fetch("/api/users/me",{credentials:"include",headers:p}),v=await y.text();let j=null;try{j=JSON.parse(v)}catch{console.log("Mocha auth response not JSON:",v)}console.log("2. Mocha auth response:",{status:y.status,data:j,rawText:v});const b=await fetch("/api/app/users/me",{credentials:"include",headers:p}),N=await b.text();let S=null;try{S=JSON.parse(N)}catch{console.log("App user response not JSON:",N)}console.log("3. App user response:",{status:b.status,data:S,rawText:N}),console.log("4. React Auth Provider state:",{user:e,hasUser:!!e,userId:e==null?void 0:e.id,userEmail:e==null?void 0:e.email});const C={timestamp:new Date().toISOString(),cookies:{present:!!h,count:h.split(";").length,hasSessionToken:m,raw:h},mochaAuth:{status:y.status,statusText:y.statusText,data:j,headers:Object.fromEntries(y.headers.entries())},appUser:{status:b.status,statusText:b.statusText,data:S,headers:Object.fromEntries(b.headers.entries())},reactAuth:{hasUser:!!e,user:e}};a(C),console.log("=== DEBUG COMPLETE ===",C)}catch(h){console.error("Auth debug failed:",h),a({error:h instanceof Error?h.message:"Unknown error"})}finally{i(!1)}},d=()=>{localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(h=>{const m=h.indexOf("="),p=m>-1?h.substr(0,m):h;document.cookie=p+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/",document.cookie=p+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain="+window.location.hostname}),alert("All data cleared. Please refresh the page.")},u=async()=>{try{await r()}catch(h){console.error("Force login failed:",h),alert("Login redirect failed. Check console for details.")}};return t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mt-6",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[t.jsx(ki,{className:"w-5 h-5 text-yellow-600"}),t.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:"Authentication Debugger"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex space-x-3",children:[t.jsxs("button",{onClick:o,disabled:s,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[s?t.jsx(Ac,{className:"w-4 h-4 animate-spin"}):t.jsx(et,{className:"w-4 h-4"}),t.jsx("span",{children:s?"Testing...":"Run Full Auth Test"})]}),t.jsx("button",{onClick:d,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Clear All Data"}),t.jsxs("button",{onClick:u,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[t.jsx(ST,{className:"w-4 h-4"}),t.jsx("span",{children:"Force Login"})]})]}),n&&t.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Debug Results:"}),t.jsx("pre",{className:"text-xs text-gray-700 overflow-auto max-h-96 bg-gray-50 p-3 rounded",children:JSON.stringify(n,null,2)})]}),t.jsxs("div",{className:"text-sm text-yellow-700",children:[t.jsx("p",{children:t.jsx("strong",{children:"Instructions:"})}),t.jsxs("ol",{className:"list-decimal list-inside space-y-1 mt-2",children:[t.jsx("li",{children:'Click "Run Full Auth Test" to diagnose authentication issues'}),t.jsx("li",{children:'If authentication is broken, try "Clear All Data" then "Force Login"'}),t.jsx("li",{children:"Check the debug results to see exactly what's failing"}),t.jsx("li",{children:"All debug info is also logged to the browser console"})]})]})]})]})}const Tp=()=>[{id:"listing-demo-1",content_id:"content-demo-1",content_title:"Launch Campaign: Social Buzz",content_thumbnail:"https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&w=600&q=80",owner_id:"00000000-0000-0000-0000-000000000001",owner_name:"Demo Creator",quantity:60,remaining_quantity:40,ask_price:12.5,market_price:12.2,status:"active",created_at:new Date(Date.now()-7200*1e3).toISOString(),expires_at:new Date(Date.now()+2880*60*1e3).toISOString()}],UD=async(e=!1)=>{try{const n=await fetch(`/api/shares/listings${e?"?owner=true":""}`,{credentials:"include"});return n.ok&&(await n.json()).listings||Tp()}catch(r){return console.error("Failed to fetch share listings:",r),Tp()}},WD=async e=>{const r=await fetch("/api/shares/listings",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!r.ok){const n=await r.json().catch(()=>({}));throw new Error(n.error||"Failed to create listing")}return r.json()},qD=async e=>{const r=await fetch("/api/shares/offers",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!r.ok){const n=await r.json().catch(()=>({}));throw new Error(n.error||"Failed to submit offer")}return r.json()},Mp=()=>[{id:"offer-demo-1",content_id:"content-demo-1",buyer_id:"00000000-0000-0000-0000-000000000005",seller_id:"00000000-0000-0000-0000-000000000001",quantity:25,bid_price:12.75,status:"pending",message:"Happy to take at a slight premium. Can settle within 24h.",content_title:"Launch Campaign: Social Buzz",created_at:new Date(Date.now()-10800*1e3).toISOString(),expires_at:new Date(Date.now()+1260*60*1e3).toISOString()},{id:"offer-demo-2",content_id:"content-demo-2",buyer_id:"00000000-0000-0000-0000-000000000001",seller_id:"00000000-0000-0000-0000-000000000004",quantity:30,bid_price:18,status:"pending",message:"Would love to take this block before the next update drop.",content_title:"Creator Toolkit Walkthrough",created_at:new Date(Date.now()-360*60*1e3).toISOString(),expires_at:new Date(Date.now()+1800*60*1e3).toISOString()}],cN=async e=>{try{const r=await fetch(`/api/shares/offers?role=${e}`,{credentials:"include"});return r.ok&&(await r.json()).offers||Mp()}catch(r){return console.error("Failed to fetch share offers:",r),Mp()}},HD=async e=>{const r=await fetch(`/api/shares/offers/${e}/accept`,{method:"POST",credentials:"include"});if(!r.ok){const n=await r.json().catch(()=>({}));throw new Error(n.error||"Failed to accept offer")}return r.json()};function KD({isOpen:e,onClose:r,holding:n,onSuccess:a}){const[s,i]=x.useState(()=>n?Math.min(n.available_to_sell,n.owned_shares):0),[o,d]=x.useState(()=>(n==null?void 0:n.current_price)||0),[u,h]=x.useState(!1),[m,p]=x.useState(null);if(x.useEffect(()=>{n&&e&&(i(Math.min(n.available_to_sell,n.owned_shares)),d(n.current_price),p(null))},[n,e]),!e||!n)return null;const y=()=>{i(Math.min(n.available_to_sell,n.owned_shares)),d(n.current_price),p(null)},v=()=>{u||(y(),r())},j=async b=>{if(b.preventDefault(),!!n){if(s<=0||o<=0){p("Enter a valid quantity and price.");return}h(!0),p(null);try{await WD({content_id:n.content_id,content_title:n.content_title,content_thumbnail:n.content_thumbnail,quantity:s,ask_price:o}),a==null||a(),v()}catch(N){p(N instanceof Error?N.message:"Failed to create listing")}finally{h(!1)}}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"List Shares for Resale"}),t.jsx("p",{className:"text-sm text-gray-500",children:n.content_title})]}),t.jsx("button",{onClick:v,className:"text-gray-400 hover:text-gray-600","aria-label":"Close list shares modal",children:""})]}),t.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Quantity"}),t.jsx("input",{type:"number",min:1,max:n.available_to_sell,value:s,onChange:b=>i(Number(b.target.value)),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),t.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Available: ",n.available_to_sell," shares"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ask Price (per share)"}),t.jsx("input",{type:"number",min:.01,step:.01,value:o,onChange:b=>d(Number(b.target.value)),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),t.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Market price ",n.current_price.toFixed(2)]})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-sm text-gray-600",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Estimated proceeds"}),t.jsxs("span",{className:"font-medium text-gray-900",children:["$",(s*o).toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between mt-2",children:[t.jsx("span",{children:"Transaction fee (2.5%)"}),t.jsxs("span",{children:["$",(s*o*.025).toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between mt-2 text-green-600 font-semibold",children:[t.jsx("span",{children:"Net payout"}),t.jsxs("span",{children:["$",(s*o*.975).toFixed(2)]})]})]}),m&&t.jsx("p",{className:"text-sm text-red-600",children:m}),t.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[t.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-800",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:u,className:"px-4 py-2 bg-orange-600 text-white text-sm font-medium rounded-lg shadow-sm hover:bg-orange-700 disabled:opacity-60",children:u?"Listing":"List Shares"})]})]})]})})}const Lu=()=>[{content_id:"content-demo-1",content_title:"Launch Campaign: Social Buzz",content_thumbnail:"https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&w=600&q=80",creator_id:"00000000-0000-0000-0000-000000000001",creator_name:"Demo Creator",creator_avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=demo_content",platform:"instagram",owned_shares:180,available_to_sell:60,avg_cost:8.75,current_price:12.5,market_value:2250,unrealized_gain:675,day_change_pct:3.2,week_change_pct:8.5,month_change_pct:22.4,last_trade_at:new Date(Date.now()-7200*1e3).toISOString(),is_listed:!0,listing_id:"listing-demo-1",visibility:"public"},{content_id:"content-demo-2",content_title:"Creator Toolkit Walkthrough",content_thumbnail:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&w=600&q=80",creator_id:"00000000-0000-0000-0000-000000000002",creator_name:"Creator Collective",creator_avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=creator_collective",platform:"youtube",owned_shares:95,available_to_sell:95,avg_cost:15,current_price:18.75,market_value:1781.25,unrealized_gain:356.25,day_change_pct:1.2,week_change_pct:4.7,month_change_pct:12.8,last_trade_at:new Date(Date.now()-360*60*1e3).toISOString(),is_listed:!1,visibility:"public"}],Ru=()=>[{id:"prediction-demo-1",forecast_id:"forecast-demo-1",content_title:"Creator Toolkit Walkthrough",platform:"youtube",prediction_side:"over",amount:150,potential_payout:315,status:"active",result:void 0,created_at:new Date(Date.now()-4320*60*1e3).toISOString(),resolved_at:void 0},{id:"prediction-demo-2",forecast_id:"forecast-demo-2",content_title:"Launch Day Reach",platform:"instagram",prediction_side:"under",amount:80,potential_payout:152,status:"settled",result:"won",created_at:new Date(Date.now()-288*60*60*1e3).toISOString(),resolved_at:new Date(Date.now()-14400*60*1e3).toISOString()}],dN=e=>{const r=Lu(),n=r.find(s=>s.content_id===e)||r[0],a=Date.now();return{holding:n,content:{description:"Behind-the-scenes look at the launch strategy, featuring creator testimonials and performance metrics.",genres:["Campaign Spotlight","Community"],tags:["launch","growth","community"],published_at:new Date(a-10080*60*1e3).toISOString(),total_views:128e3,engagement_rate:12.4,earnings_to_date:4320},performance:{history:Array.from({length:14},(s,i)=>({date:new Date(a-(13-i)*24*60*60*1e3).toISOString().split("T")[0],price:n.current_price*(.85+i*.01),volume:Math.round(Math.random()*120+40)})),ledger:[{id:"txn-1",type:"purchase",quantity:n.owned_shares,price:n.avg_cost,timestamp:new Date(a-288*60*60*1e3).toISOString()},{id:"txn-2",type:"dividend",quantity:0,price:120,timestamp:new Date(a-5760*60*1e3).toISOString()}]},marketplace:{listings:[{id:"listing-history-1",quantity:40,ask_price:11.8,status:"filled",filled_at:new Date(a-7200*60*1e3).toISOString()}],offers:[{id:"offer-history-1",quantity:30,bid_price:12.6,status:"pending",buyer_name:"Marketplace Analyst",message:"Happy to take this block before launch day finale."}]}}},uN=e=>{const r=Ru(),n=r.find(s=>s.id===e)||r[0],a=Date.now();return{prediction:n,forecast:{metric:"7-day reach",target:"125K",odds:2.1,expires_at:new Date(a+5760*60*1e3).toISOString(),creator_projection:"Over performance expected due to paid boosts and influencer cross-promotions scheduled mid-week."},trajectory:Array.from({length:10},(s,i)=>{const o=new Date(a-(9-i)*24*60*60*1e3),d=6e4+i*6500+Math.round(Math.random()*2500);return{date:o.toISOString().split("T")[0],actual:d,expected:55e3+i*7e3}}),participants:[{username:"growth_analyst",amount:150,side:"over",status:"active"},{username:"launch_partner",amount:90,side:"under",status:"active"}]}},PS=async e=>{try{const r=e?`?userId=${encodeURIComponent(e)}`:"",n=await fetch(`/api/portfolio/holdings${r}`,{credentials:"include"});return n.ok&&(await n.json()).holdings||Lu()}catch(r){return console.error("Failed to fetch portfolio holdings:",r),Lu()}},VD=async e=>{try{const r=e?`?userId=${encodeURIComponent(e)}`:"",n=await fetch(`/api/portfolio/predictions${r}`,{credentials:"include"});return n.ok&&(await n.json()).predictions||Ru()}catch(r){return console.error("Failed to fetch predictions:",r),Ru()}},GD=async(e,r)=>{try{const n=r?`?userId=${encodeURIComponent(r)}`:"",a=await fetch(`/api/portfolio/holdings/${e}${n}`,{credentials:"include"});return a.ok?a.json():dN(e)}catch(n){return console.error("Failed to fetch holding detail:",n),dN(e)}},YD=async e=>{try{const r=await fetch(`/api/portfolio/predictions/${e}`,{credentials:"include"});return r.ok?r.json():uN(e)}catch(r){return console.error("Failed to fetch prediction detail:",r),uN(e)}};function ES(e){var r,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(r=0;r<s;r++)e[r]&&(n=ES(e[r]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function tt(){for(var e,r,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(r=ES(e))&&(a&&(a+=" "),a+=r);return a}var ZD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Kg(e){if(typeof e!="string")return!1;var r=ZD;return r.includes(e)}var XD=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function OS(e){if(typeof e!="string")return!1;var r=XD;return r.includes(e)}function AS(e){return typeof e=="string"&&e.startsWith("data-")}function rn(e){var r=Object.entries(e).filter(n=>{var[a]=n;return OS(a)||AS(a)});return Object.fromEntries(r)}function Ci(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var r=e.props;return rn(r)}return typeof e=="object"&&!Array.isArray(e)?rn(e):null}function nn(e){var r=Object.entries(e).filter(n=>{var[a]=n;return OS(a)||AS(a)||Kg(a)});return Object.fromEntries(r)}function TS(e){return e==null?null:x.isValidElement(e)?nn(e.props):typeof e=="object"&&!Array.isArray(e)?nn(e):null}var JD=["children","width","height","viewBox","className","style","title","desc"];function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},I0.apply(null,arguments)}function QD(e,r){if(e==null)return{};var n,a,s=e$(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function e$(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var Vg=x.forwardRef((e,r)=>{var{children:n,width:a,height:s,viewBox:i,className:o,style:d,title:u,desc:h}=e,m=QD(e,JD),p=i||{width:a,height:s,x:0,y:0},y=tt("recharts-surface",o);return x.createElement("svg",I0({},nn(m),{className:y,width:a,height:s,style:d,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:r}),x.createElement("title",null,u),x.createElement("desc",null,h),n)}),t$=["children","className"];function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},L0.apply(null,arguments)}function r$(e,r){if(e==null)return{};var n,a,s=n$(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function n$(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var Vt=x.forwardRef((e,r)=>{var{children:n,className:a}=e,s=r$(e,t$),i=tt("recharts-layer",a);return x.createElement("g",L0({className:i},nn(s),{ref:r}),n)}),MS=x.createContext(null),a$=()=>x.useContext(MS);function Nt(e){return function(){return e}}const DS=Math.cos,Ju=Math.sin,ua=Math.sqrt,Qu=Math.PI,qm=2*Qu,R0=Math.PI,F0=2*R0,di=1e-6,s$=F0-di;function $S(e){this._+=e[0];for(let r=1,n=e.length;r<n;++r)this._+=arguments[r]+e[r]}function i$(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return $S;const n=10**r;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+a[s]}}class l${constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?$S:i$(r)}moveTo(r,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,n){this._append`L${this._x1=+r},${this._y1=+n}`}quadraticCurveTo(r,n,a,s){this._append`Q${+r},${+n},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(r,n,a,s,i,o){this._append`C${+r},${+n},${+a},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(r,n,a,s,i){if(r=+r,n=+n,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,d=this._y1,u=a-r,h=s-n,m=o-r,p=d-n,y=m*m+p*p;if(this._x1===null)this._append`M${this._x1=r},${this._y1=n}`;else if(y>di)if(!(Math.abs(p*u-h*m)>di)||!i)this._append`L${this._x1=r},${this._y1=n}`;else{let v=a-o,j=s-d,b=u*u+h*h,N=v*v+j*j,S=Math.sqrt(b),C=Math.sqrt(y),_=i*Math.tan((R0-Math.acos((b+y-N)/(2*S*C)))/2),P=_/C,O=_/S;Math.abs(P-1)>di&&this._append`L${r+P*m},${n+P*p}`,this._append`A${i},${i},0,0,${+(p*v>m*j)},${this._x1=r+O*u},${this._y1=n+O*h}`}}arc(r,n,a,s,i,o){if(r=+r,n=+n,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let d=a*Math.cos(s),u=a*Math.sin(s),h=r+d,m=n+u,p=1^o,y=o?s-i:i-s;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>di||Math.abs(this._y1-m)>di)&&this._append`L${h},${m}`,a&&(y<0&&(y=y%F0+F0),y>s$?this._append`A${a},${a},0,1,${p},${r-d},${n-u}A${a},${a},0,1,${p},${this._x1=h},${this._y1=m}`:y>di&&this._append`A${a},${a},0,${+(y>=R0)},${p},${this._x1=r+a*Math.cos(i)},${this._y1=n+a*Math.sin(i)}`)}rect(r,n,a,s){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function Gg(e){let r=3;return e.digits=function(n){if(!arguments.length)return r;if(n==null)r=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);r=a}return e},()=>new l$(r)}function Yg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function IS(e){this._context=e}IS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function Hm(e){return new IS(e)}function LS(e){return e[0]}function RS(e){return e[1]}function FS(e,r){var n=Nt(!0),a=null,s=Hm,i=null,o=Gg(d);e=typeof e=="function"?e:e===void 0?LS:Nt(e),r=typeof r=="function"?r:r===void 0?RS:Nt(r);function d(u){var h,m=(u=Yg(u)).length,p,y=!1,v;for(a==null&&(i=s(v=o())),h=0;h<=m;++h)!(h<m&&n(p=u[h],h,u))===y&&((y=!y)?i.lineStart():i.lineEnd()),y&&i.point(+e(p,h,u),+r(p,h,u));if(v)return i=null,v+""||null}return d.x=function(u){return arguments.length?(e=typeof u=="function"?u:Nt(+u),d):e},d.y=function(u){return arguments.length?(r=typeof u=="function"?u:Nt(+u),d):r},d.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Nt(!!u),d):n},d.curve=function(u){return arguments.length?(s=u,a!=null&&(i=s(a)),d):s},d.context=function(u){return arguments.length?(u==null?a=i=null:i=s(a=u),d):a},d}function pu(e,r,n){var a=null,s=Nt(!0),i=null,o=Hm,d=null,u=Gg(h);e=typeof e=="function"?e:e===void 0?LS:Nt(+e),r=typeof r=="function"?r:Nt(r===void 0?0:+r),n=typeof n=="function"?n:n===void 0?RS:Nt(+n);function h(p){var y,v,j,b=(p=Yg(p)).length,N,S=!1,C,_=new Array(b),P=new Array(b);for(i==null&&(d=o(C=u())),y=0;y<=b;++y){if(!(y<b&&s(N=p[y],y,p))===S)if(S=!S)v=y,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),j=y-1;j>=v;--j)d.point(_[j],P[j]);d.lineEnd(),d.areaEnd()}S&&(_[y]=+e(N,y,p),P[y]=+r(N,y,p),d.point(a?+a(N,y,p):_[y],n?+n(N,y,p):P[y]))}if(C)return d=null,C+""||null}function m(){return FS().defined(s).curve(o).context(i)}return h.x=function(p){return arguments.length?(e=typeof p=="function"?p:Nt(+p),a=null,h):e},h.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Nt(+p),h):e},h.x1=function(p){return arguments.length?(a=p==null?null:typeof p=="function"?p:Nt(+p),h):a},h.y=function(p){return arguments.length?(r=typeof p=="function"?p:Nt(+p),n=null,h):r},h.y0=function(p){return arguments.length?(r=typeof p=="function"?p:Nt(+p),h):r},h.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Nt(+p),h):n},h.lineX0=h.lineY0=function(){return m().x(e).y(r)},h.lineY1=function(){return m().x(e).y(n)},h.lineX1=function(){return m().x(a).y(r)},h.defined=function(p){return arguments.length?(s=typeof p=="function"?p:Nt(!!p),h):s},h.curve=function(p){return arguments.length?(o=p,i!=null&&(d=o(i)),h):o},h.context=function(p){return arguments.length?(p==null?i=d=null:d=o(i=p),h):i},h}class zS{constructor(r,n){this._context=r,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,n){switch(r=+r,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,n,r,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,r,this._y0,r,n);break}}this._x0=r,this._y0=n}}function o$(e){return new zS(e,!0)}function c$(e){return new zS(e,!1)}const Zg={draw(e,r){const n=ua(r/Qu);e.moveTo(n,0),e.arc(0,0,n,0,qm)}},d$={draw(e,r){const n=ua(r/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},BS=ua(1/3),u$=BS*2,m$={draw(e,r){const n=ua(r/u$),a=n*BS;e.moveTo(0,-n),e.lineTo(a,0),e.lineTo(0,n),e.lineTo(-a,0),e.closePath()}},f$={draw(e,r){const n=ua(r),a=-n/2;e.rect(a,a,n,n)}},h$=.8908130915292852,US=Ju(Qu/10)/Ju(7*Qu/10),p$=Ju(qm/10)*US,x$=-DS(qm/10)*US,g$={draw(e,r){const n=ua(r*h$),a=p$*n,s=x$*n;e.moveTo(0,-n),e.lineTo(a,s);for(let i=1;i<5;++i){const o=qm*i/5,d=DS(o),u=Ju(o);e.lineTo(u*n,-d*n),e.lineTo(d*a-u*s,u*a+d*s)}e.closePath()}},Dp=ua(3),y$={draw(e,r){const n=-ua(r/(Dp*3));e.moveTo(0,n*2),e.lineTo(-Dp*n,-n),e.lineTo(Dp*n,-n),e.closePath()}},Fn=-.5,zn=ua(3)/2,z0=1/ua(12),v$=(z0/2+1)*3,b$={draw(e,r){const n=ua(r/v$),a=n/2,s=n*z0,i=a,o=n*z0+n,d=-i,u=o;e.moveTo(a,s),e.lineTo(i,o),e.lineTo(d,u),e.lineTo(Fn*a-zn*s,zn*a+Fn*s),e.lineTo(Fn*i-zn*o,zn*i+Fn*o),e.lineTo(Fn*d-zn*u,zn*d+Fn*u),e.lineTo(Fn*a+zn*s,Fn*s-zn*a),e.lineTo(Fn*i+zn*o,Fn*o-zn*i),e.lineTo(Fn*d+zn*u,Fn*u-zn*d),e.closePath()}};function j$(e,r){let n=null,a=Gg(s);e=typeof e=="function"?e:Nt(e||Zg),r=typeof r=="function"?r:Nt(r===void 0?64:+r);function s(){let i;if(n||(n=i=a()),e.apply(this,arguments).draw(n,+r.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Nt(i),s):e},s.size=function(i){return arguments.length?(r=typeof i=="function"?i:Nt(+i),s):r},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function em(){}function tm(e,r,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+n)/6)}function WS(e){this._context=e}WS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:tm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:tm(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function w$(e){return new WS(e)}function qS(e){this._context=e}qS.prototype={areaStart:em,areaEnd:em,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:tm(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function N$(e){return new qS(e)}function HS(e){this._context=e}HS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:tm(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function _$(e){return new HS(e)}function KS(e){this._context=e}KS.prototype={areaStart:em,areaEnd:em,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}};function k$(e){return new KS(e)}function mN(e){return e<0?-1:1}function fN(e,r,n){var a=e._x1-e._x0,s=r-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),o=(n-e._y1)/(s||a<0&&-0),d=(i*s+o*a)/(a+s);return(mN(i)+mN(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(d))||0}function hN(e,r){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-r)/2:r}function $p(e,r,n){var a=e._x0,s=e._y0,i=e._x1,o=e._y1,d=(i-a)/3;e._context.bezierCurveTo(a+d,s+d*r,i-d,o-d*n,i,o)}function rm(e){this._context=e}rm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$p(this,this._t0,hN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var n=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,$p(this,hN(this,n=fN(this,e,r)),n);break;default:$p(this,this._t0,n=fN(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=n}}};function VS(e){this._context=new GS(e)}(VS.prototype=Object.create(rm.prototype)).point=function(e,r){rm.prototype.point.call(this,r,e)};function GS(e){this._context=e}GS.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,n,a,s,i){this._context.bezierCurveTo(r,e,a,n,i,s)}};function S$(e){return new rm(e)}function C$(e){return new VS(e)}function YS(e){this._context=e}YS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),n===2)this._context.lineTo(e[1],r[1]);else for(var a=pN(e),s=pN(r),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[o],r[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}};function pN(e){var r,n=e.length-1,a,s=new Array(n),i=new Array(n),o=new Array(n);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],r=1;r<n-1;++r)s[r]=1,i[r]=4,o[r]=4*e[r]+2*e[r+1];for(s[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],r=1;r<n;++r)a=s[r]/i[r-1],i[r]-=a,o[r]-=a*o[r-1];for(s[n-1]=o[n-1]/i[n-1],r=n-2;r>=0;--r)s[r]=(o[r]-s[r+1])/i[r];for(i[n-1]=(e[n]+s[n-1])/2,r=0;r<n-1;++r)i[r]=2*e[r+1]-s[r+1];return[s,i]}function P$(e){return new YS(e)}function Km(e,r){this._context=e,this._t=r}Km.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,r)}break}}this._x=e,this._y=r}};function E$(e){return new Km(e,.5)}function O$(e){return new Km(e,0)}function A$(e){return new Km(e,1)}function Dl(e,r){if((o=e.length)>1)for(var n=1,a,s,i=e[r[0]],o,d=i.length;n<o;++n)for(s=i,i=e[r[n]],a=0;a<d;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function B0(e){for(var r=e.length,n=new Array(r);--r>=0;)n[r]=r;return n}function T$(e,r){return e[r]}function M$(e){const r=[];return r.key=e,r}function D$(){var e=Nt([]),r=B0,n=Dl,a=T$;function s(i){var o=Array.from(e.apply(this,arguments),M$),d,u=o.length,h=-1,m;for(const p of i)for(d=0,++h;d<u;++d)(o[d][h]=[0,+a(p,o[d].key,h,i)]).data=p;for(d=0,m=Yg(r(o));d<u;++d)o[m[d]].index=d;return n(o,m),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Nt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:Nt(+i),s):a},s.order=function(i){return arguments.length?(r=i==null?B0:typeof i=="function"?i:Nt(Array.from(i)),s):r},s.offset=function(i){return arguments.length?(n=i??Dl,s):n},s}function $$(e,r){if((a=e.length)>0){for(var n,a,s=0,i=e[0].length,o;s<i;++s){for(o=n=0;n<a;++n)o+=e[n][s][1]||0;if(o)for(n=0;n<a;++n)e[n][s][1]/=o}Dl(e,r)}}function I$(e,r){if((s=e.length)>0){for(var n=0,a=e[r[0]],s,i=a.length;n<i;++n){for(var o=0,d=0;o<s;++o)d+=e[o][n][1]||0;a[n][1]+=a[n][0]=-d/2}Dl(e,r)}}function L$(e,r){if(!(!((o=e.length)>0)||!((i=(s=e[r[0]]).length)>0))){for(var n=0,a=1,s,i,o;a<i;++a){for(var d=0,u=0,h=0;d<o;++d){for(var m=e[r[d]],p=m[a][1]||0,y=m[a-1][1]||0,v=(p-y)/2,j=0;j<d;++j){var b=e[r[j]],N=b[a][1]||0,S=b[a-1][1]||0;v+=N-S}u+=p,h+=v*p}s[a-1][1]+=s[a-1][0]=n,u&&(n-=h/u)}s[a-1][1]+=s[a-1][0]=n,Dl(e,r)}}var Ip={},Lp={},xN;function R$(){return xN||(xN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return n==="__proto__"}e.isUnsafeProperty=r})(Lp)),Lp}var Rp={},gN;function ZS(){return gN||(gN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=r})(Rp)),Rp}var Fp={},yN;function Xg(){return yN||(yN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){var a;return typeof n=="string"||typeof n=="symbol"?n:Object.is((a=n==null?void 0:n.valueOf)==null?void 0:a.call(n),-0)?"-0":String(n)}e.toKey=r})(Fp)),Fp}var zp={},Bp={},vN;function F$(){return vN||(vN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(r).join(",");const a=String(n);return a==="0"&&Object.is(Number(n),-0)?"-0":a}e.toString=r})(Bp)),Bp}var bN;function Jg(){return bN||(bN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=F$(),n=Xg();function a(s){if(Array.isArray(s))return s.map(n.toKey);if(typeof s=="symbol")return[s];s=r.toString(s);const i=[],o=s.length;if(o===0)return i;let d=0,u="",h="",m=!1;for(s.charCodeAt(0)===46&&(i.push(""),d++);d<o;){const p=s[d];h?p==="\\"&&d+1<o?(d++,u+=s[d]):p===h?h="":u+=p:m?p==='"'||p==="'"?h=p:p==="]"?(m=!1,i.push(u),u=""):u+=p:p==="["?(m=!0,u&&(i.push(u),u="")):p==="."?u&&(i.push(u),u=""):u+=p,d++}return u&&i.push(u),i}e.toPath=a})(zp)),zp}var jN;function Qg(){return jN||(jN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=R$(),n=ZS(),a=Xg(),s=Jg();function i(d,u,h){if(d==null)return h;switch(typeof u){case"string":{if(r.isUnsafeProperty(u))return h;const m=d[u];return m===void 0?n.isDeepKey(u)?i(d,s.toPath(u),h):h:m}case"number":case"symbol":{typeof u=="number"&&(u=a.toKey(u));const m=d[u];return m===void 0?h:m}default:{if(Array.isArray(u))return o(d,u,h);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),r.isUnsafeProperty(u))return h;const m=d[u];return m===void 0?h:m}}}function o(d,u,h){if(u.length===0)return h;let m=d;for(let p=0;p<u.length;p++){if(m==null||r.isUnsafeProperty(u[p]))return h;m=m[u[p]]}return m===void 0?h:m}e.get=i})(Ip)),Ip}var Up,wN;function z$(){return wN||(wN=1,Up=Qg().get),Up}var B$=z$();const Pi=ns(B$);var Nr=e=>e===0?0:e>0?1:-1,En=e=>typeof e=="number"&&e!=+e,Ja=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Se=e=>(typeof e=="number"||e instanceof Number)&&!En(e),Sa=e=>Se(e)||typeof e=="string",U$=0,pc=e=>{var r=++U$;return"".concat(e||"").concat(r)},Vr=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(r)&&typeof r!="string")return a;var i;if(Ja(r)){if(n==null)return a;var o=r.indexOf("%");i=n*parseFloat(r.slice(0,o))/100}else i=+r;return En(i)&&(i=a),s&&n!=null&&i>n&&(i=n),i},XS=e=>{if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1};function xt(e,r,n){return Se(e)&&Se(r)?e+n*(r-e):r}function JS(e,r,n){if(!(!e||!e.length))return e.find(a=>a&&(typeof r=="function"?r(a):Pi(a,r))===n)}var Et=e=>e===null||typeof e>"u",Tc=e=>Et(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),W$=["type","size","sizeType"];function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},U0.apply(null,arguments)}function NN(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function _N(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?NN(Object(n),!0).forEach(function(a){q$(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function q$(e,r,n){return(r=H$(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function H$(e){var r=K$(e,"string");return typeof r=="symbol"?r:r+""}function K$(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function V$(e,r){if(e==null)return{};var n,a,s=G$(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function G$(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var QS={symbolCircle:Zg,symbolCross:d$,symbolDiamond:m$,symbolSquare:f$,symbolStar:g$,symbolTriangle:y$,symbolWye:b$},Y$=Math.PI/180,Z$=e=>{var r="symbol".concat(Tc(e));return QS[r]||Zg},X$=(e,r,n)=>{if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Y$;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},J$=(e,r)=>{QS["symbol".concat(Tc(e))]=r},ey=e=>{var{type:r="circle",size:n=64,sizeType:a="area"}=e,s=V$(e,W$),i=_N(_N({},s),{},{type:r,size:n,sizeType:a}),o="circle";typeof r=="string"&&(o=r);var d=()=>{var y=Z$(o),v=j$().type(y).size(X$(n,a,o)),j=v();if(j!==null)return j},{className:u,cx:h,cy:m}=i,p=nn(i);return h===+h&&m===+m&&n===+n?x.createElement("path",U0({},p,{className:tt("recharts-symbols",u),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};ey.registerSymbol=J$;var ty=(e,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(s=>{Kg(s)&&(a[s]=(i=>n[s](n,i)))}),a},Q$=(e,r,n)=>a=>(e(r,n,a),null),Mc=(e,r,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(s=>{var i=e[s];Kg(s)&&typeof i=="function"&&(a||(a={}),a[s]=Q$(i,r,n))}),a};function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},W0.apply(null,arguments)}function kN(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function eI(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?kN(Object(n),!0).forEach(function(a){ry(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function ry(e,r,n){return(r=tI(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function tI(e){var r=rI(e,"string");return typeof r=="symbol"?r:r+""}function rI(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Bn=32;class ny extends x.PureComponent{renderIcon(r,n){var{inactiveColor:a}=this.props,s=Bn/2,i=Bn/6,o=Bn/3,d=r.inactive?a:r.color,u=n??r.type;if(u==="none")return null;if(u==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Bn,y2:s,className:"recharts-legend-icon"});if(u==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Bn,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(u==="rect")return x.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Bn/8,"h").concat(Bn,"v").concat(Bn*3/4,"h").concat(-Bn,"z"),className:"recharts-legend-icon"});if(x.isValidElement(r.legendIcon)){var h=eI({},r);return delete h.legendIcon,x.cloneElement(r.legendIcon,h)}return x.createElement(ey,{fill:d,cx:s,cy:s,size:Bn,sizeType:"diameter",type:u})}renderItems(){var{payload:r,iconSize:n,layout:a,formatter:s,inactiveColor:i,iconType:o}=this.props,d={x:0,y:0,width:Bn,height:Bn},u={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((m,p)=>{var y=m.formatter||s,v=tt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:m.inactive});if(m.type==="none")return null;var j=m.inactive?i:m.color,b=y?y(m.value,m,p):m.value;return x.createElement("li",W0({className:v,style:u,key:"legend-item-".concat(p)},Mc(this.props,m,p)),x.createElement(Vg,{width:n,height:n,viewBox:d,style:h,"aria-label":"".concat(b," legend icon")},this.renderIcon(m,o)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},b))})}render(){var{payload:r,layout:n,align:a}=this.props;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}ry(ny,"displayName","Legend");ry(ny,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Wp={},qp={},SN;function nI(){return SN||(SN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n,a){const s=new Map;for(let i=0;i<n.length;i++){const o=n[i],d=a(o);s.has(d)||s.set(d,o)}return Array.from(s.values())}e.uniqBy=r})(qp)),qp}var Hp={},CN;function e5(){return CN||(CN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return n}e.identity=r})(Hp)),Hp}var Kp={},Vp={},Gp={},PN;function aI(){return PN||(PN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=r})(Gp)),Gp}var EN;function ay(){return EN||(EN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=aI();function n(a){return a!=null&&typeof a!="function"&&r.isLength(a.length)}e.isArrayLike=n})(Vp)),Vp}var Yp={},ON;function sI(){return ON||(ON=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return typeof n=="object"&&n!==null}e.isObjectLike=r})(Yp)),Yp}var AN;function iI(){return AN||(AN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=ay(),n=sI();function a(s){return n.isObjectLike(s)&&r.isArrayLike(s)}e.isArrayLikeObject=a})(Kp)),Kp}var Zp={},Xp={},TN;function lI(){return TN||(TN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Qg();function n(a){return function(s){return r.get(s,a)}}e.property=n})(Xp)),Xp}var Jp={},Qp={},ex={},tx={},MN;function t5(){return MN||(MN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=r})(tx)),tx}var rx={},DN;function r5(){return DN||(DN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=r})(rx)),rx}var nx={},$N;function n5(){return $N||($N=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n,a){return n===a||Number.isNaN(n)&&Number.isNaN(a)}e.eq=r})(nx)),nx}var IN;function oI(){return IN||(IN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=t5(),n=r5(),a=n5();function s(m,p,y){return typeof y!="function"?s(m,p,()=>{}):i(m,p,function v(j,b,N,S,C,_){const P=y(j,b,N,S,C,_);return P!==void 0?!!P:i(j,b,v,_)},new Map)}function i(m,p,y,v){if(p===m)return!0;switch(typeof p){case"object":return o(m,p,y,v);case"function":return Object.keys(p).length>0?i(m,{...p},y,v):a.eq(m,p);default:return r.isObject(m)?typeof p=="string"?p==="":!0:a.eq(m,p)}}function o(m,p,y,v){if(p==null)return!0;if(Array.isArray(p))return u(m,p,y,v);if(p instanceof Map)return d(m,p,y,v);if(p instanceof Set)return h(m,p,y,v);const j=Object.keys(p);if(m==null)return j.length===0;if(j.length===0)return!0;if(v!=null&&v.has(p))return v.get(p)===m;v==null||v.set(p,m);try{for(let b=0;b<j.length;b++){const N=j[b];if(!n.isPrimitive(m)&&!(N in m)||p[N]===void 0&&m[N]!==void 0||p[N]===null&&m[N]!==null||!y(m[N],p[N],N,m,p,v))return!1}return!0}finally{v==null||v.delete(p)}}function d(m,p,y,v){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[j,b]of p.entries()){const N=m.get(j);if(y(N,b,j,m,p,v)===!1)return!1}return!0}function u(m,p,y,v){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const j=new Set;for(let b=0;b<p.length;b++){const N=p[b];let S=!1;for(let C=0;C<m.length;C++){if(j.has(C))continue;const _=m[C];let P=!1;if(y(_,N,b,m,p,v)&&(P=!0),P){j.add(C),S=!0;break}}if(!S)return!1}return!0}function h(m,p,y,v){return p.size===0?!0:m instanceof Set?u([...m],[...p],y,v):!1}e.isMatchWith=s,e.isSetMatch=h})(ex)),ex}var LN;function a5(){return LN||(LN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=oI();function n(a,s){return r.isMatchWith(a,s,()=>{})}e.isMatch=n})(Qp)),Qp}var ax={},sx={},ix={},RN;function cI(){return RN||(RN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return Object.getOwnPropertySymbols(n).filter(a=>Object.prototype.propertyIsEnumerable.call(n,a))}e.getSymbols=r})(ix)),ix}var lx={},FN;function s5(){return FN||(FN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=r})(lx)),lx}var ox={},zN;function i5(){return zN||(zN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r="[object RegExp]",n="[object String]",a="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",d="[object Date]",u="[object Map]",h="[object Set]",m="[object Array]",p="[object Function]",y="[object ArrayBuffer]",v="[object Object]",j="[object Error]",b="[object DataView]",N="[object Uint8Array]",S="[object Uint8ClampedArray]",C="[object Uint16Array]",_="[object Uint32Array]",P="[object BigUint64Array]",O="[object Int8Array]",E="[object Int16Array]",T="[object Int32Array]",$="[object BigInt64Array]",D="[object Float32Array]",z="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=y,e.arrayTag=m,e.bigInt64ArrayTag=$,e.bigUint64ArrayTag=P,e.booleanTag=s,e.dataViewTag=b,e.dateTag=d,e.errorTag=j,e.float32ArrayTag=D,e.float64ArrayTag=z,e.functionTag=p,e.int16ArrayTag=E,e.int32ArrayTag=T,e.int8ArrayTag=O,e.mapTag=u,e.numberTag=a,e.objectTag=v,e.regexpTag=r,e.setTag=h,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=C,e.uint32ArrayTag=_,e.uint8ArrayTag=N,e.uint8ClampedArrayTag=S})(ox)),ox}var cx={},BN;function dI(){return BN||(BN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=r})(cx)),cx}var UN;function l5(){return UN||(UN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=cI(),n=s5(),a=i5(),s=r5(),i=dI();function o(m,p){return d(m,void 0,m,new Map,p)}function d(m,p,y,v=new Map,j=void 0){const b=j==null?void 0:j(m,p,y,v);if(b!==void 0)return b;if(s.isPrimitive(m))return m;if(v.has(m))return v.get(m);if(Array.isArray(m)){const N=new Array(m.length);v.set(m,N);for(let S=0;S<m.length;S++)N[S]=d(m[S],S,y,v,j);return Object.hasOwn(m,"index")&&(N.index=m.index),Object.hasOwn(m,"input")&&(N.input=m.input),N}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const N=new RegExp(m.source,m.flags);return N.lastIndex=m.lastIndex,N}if(m instanceof Map){const N=new Map;v.set(m,N);for(const[S,C]of m)N.set(S,d(C,S,y,v,j));return N}if(m instanceof Set){const N=new Set;v.set(m,N);for(const S of m)N.add(d(S,void 0,y,v,j));return N}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(i.isTypedArray(m)){const N=new(Object.getPrototypeOf(m)).constructor(m.length);v.set(m,N);for(let S=0;S<m.length;S++)N[S]=d(m[S],S,y,v,j);return N}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const N=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return v.set(m,N),u(N,m,y,v,j),N}if(typeof File<"u"&&m instanceof File){const N=new File([m],m.name,{type:m.type});return v.set(m,N),u(N,m,y,v,j),N}if(typeof Blob<"u"&&m instanceof Blob){const N=new Blob([m],{type:m.type});return v.set(m,N),u(N,m,y,v,j),N}if(m instanceof Error){const N=new m.constructor;return v.set(m,N),N.message=m.message,N.name=m.name,N.stack=m.stack,N.cause=m.cause,u(N,m,y,v,j),N}if(m instanceof Boolean){const N=new Boolean(m.valueOf());return v.set(m,N),u(N,m,y,v,j),N}if(m instanceof Number){const N=new Number(m.valueOf());return v.set(m,N),u(N,m,y,v,j),N}if(m instanceof String){const N=new String(m.valueOf());return v.set(m,N),u(N,m,y,v,j),N}if(typeof m=="object"&&h(m)){const N=Object.create(Object.getPrototypeOf(m));return v.set(m,N),u(N,m,y,v,j),N}return m}function u(m,p,y=m,v,j){const b=[...Object.keys(p),...r.getSymbols(p)];for(let N=0;N<b.length;N++){const S=b[N],C=Object.getOwnPropertyDescriptor(m,S);(C==null||C.writable)&&(m[S]=d(p[S],S,y,v,j))}}function h(m){switch(n.getTag(m)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=d,e.copyProperties=u})(sx)),sx}var WN;function uI(){return WN||(WN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=l5();function n(a){return r.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=n})(ax)),ax}var qN;function mI(){return qN||(qN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=a5(),n=uI();function a(s){return s=n.cloneDeep(s),i=>r.isMatch(i,s)}e.matches=a})(Jp)),Jp}var dx={},ux={},mx={},HN;function fI(){return HN||(HN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=l5(),n=i5();function a(s,i){return r.cloneDeepWith(s,(o,d,u,h)=>{const m=i==null?void 0:i(o,d,u,h);if(m!==void 0)return m;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new s.constructor(s==null?void 0:s.valueOf());return r.copyProperties(p,s),p}case n.argumentsTag:{const p={};return r.copyProperties(p,s),p.length=s.length,p[Symbol.iterator]=s[Symbol.iterator],p}default:return}})}e.cloneDeepWith=a})(mx)),mx}var KN;function hI(){return KN||(KN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=fI();function n(a){return r.cloneDeepWith(a)}e.cloneDeep=n})(ux)),ux}var fx={},hx={},VN;function o5(){return VN||(VN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;function n(a,s=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<s;case"symbol":return!1;case"string":return r.test(a)}}e.isIndex=n})(hx)),hx}var px={},GN;function pI(){return GN||(GN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=s5();function n(a){return a!==null&&typeof a=="object"&&r.getTag(a)==="[object Arguments]"}e.isArguments=n})(px)),px}var YN;function xI(){return YN||(YN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=ZS(),n=o5(),a=pI(),s=Jg();function i(o,d){let u;if(Array.isArray(d)?u=d:typeof d=="string"&&r.isDeepKey(d)&&(o==null?void 0:o[d])==null?u=s.toPath(d):u=[d],u.length===0)return!1;let h=o;for(let m=0;m<u.length;m++){const p=u[m];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||a.isArguments(h))&&n.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}e.has=i})(fx)),fx}var ZN;function gI(){return ZN||(ZN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=a5(),n=Xg(),a=hI(),s=Qg(),i=xI();function o(d,u){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return u=a.cloneDeep(u),function(h){const m=s.get(h,d);return m===void 0?i.has(h,d):u===void 0?m===void 0:r.isMatch(m,u)}}e.matchesProperty=o})(dx)),dx}var XN;function yI(){return XN||(XN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=e5(),n=lI(),a=mI(),s=gI();function i(o){if(o==null)return r.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):a.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=i})(Zp)),Zp}var JN;function vI(){return JN||(JN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=nI(),n=e5(),a=iI(),s=yI();function i(o,d=n.identity){return a.isArrayLikeObject(o)?r.uniqBy(Array.from(o),s.iteratee(d)):[]}e.uniqBy=i})(Wp)),Wp}var xx,QN;function bI(){return QN||(QN=1,xx=vI().uniqBy),xx}var jI=bI();const e1=ns(jI);function c5(e,r,n){return r===!0?e1(e,n):typeof r=="function"?e1(e,r):e}var gx={exports:{}},yx={},vx={exports:{}},bx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t1;function wI(){if(t1)return bx;t1=1;var e=Ul();function r(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:r,a=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function d(p,y){var v=y(),j=a({inst:{value:v,getSnapshot:y}}),b=j[0].inst,N=j[1];return i(function(){b.value=v,b.getSnapshot=y,u(b)&&N({inst:b})},[p,v,y]),s(function(){return u(b)&&N({inst:b}),p(function(){u(b)&&N({inst:b})})},[p]),o(v),v}function u(p){var y=p.getSnapshot;p=p.value;try{var v=y();return!n(p,v)}catch{return!0}}function h(p,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return bx.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,bx}var r1;function NI(){return r1||(r1=1,vx.exports=wI()),vx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n1;function _I(){if(n1)return yx;n1=1;var e=Ul(),r=NI();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var a=typeof Object.is=="function"?Object.is:n,s=r.useSyncExternalStore,i=e.useRef,o=e.useEffect,d=e.useMemo,u=e.useDebugValue;return yx.useSyncExternalStoreWithSelector=function(h,m,p,y,v){var j=i(null);if(j.current===null){var b={hasValue:!1,value:null};j.current=b}else b=j.current;j=d(function(){function S(E){if(!C){if(C=!0,_=E,E=y(E),v!==void 0&&b.hasValue){var T=b.value;if(v(T,E))return P=T}return P=E}if(T=P,a(_,E))return T;var $=y(E);return v!==void 0&&v(T,$)?(_=E,T):(_=E,P=$)}var C=!1,_,P,O=p===void 0?null:p;return[function(){return S(m())},O===null?void 0:function(){return S(O())}]},[m,p,y,v]);var N=s(h,j[0],j[1]);return o(function(){b.hasValue=!0,b.value=N},[N]),u(N),N},yx}var a1;function kI(){return a1||(a1=1,gx.exports=_I()),gx.exports}var SI=kI(),sy=x.createContext(null),CI=e=>e,$t=()=>{var e=x.useContext(sy);return e?e.store.dispatch:CI},Fu=()=>{},PI=()=>Fu,EI=(e,r)=>e===r;function Ce(e){var r=x.useContext(sy);return SI.useSyncExternalStoreWithSelector(r?r.subscription.addNestedSub:PI,r?r.store.getState:Fu,r?r.store.getState:Fu,r?e:Fu,EI)}function OI(e,r=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(r)}function AI(e,r=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(r)}function TI(e,r="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${r}[${n}]`)}}var s1=e=>Array.isArray(e)?e:[e];function MI(e){const r=Array.isArray(e[0])?e[0]:e;return TI(r,"createSelector expects all input-selectors to be functions, but received the following types: "),r}function DI(e,r){const n=[],{length:a}=e;for(let s=0;s<a;s++)n.push(e[s].apply(null,r));return n}var $I=class{constructor(e){this.value=e}deref(){return this.value}},II=typeof WeakRef<"u"?WeakRef:$I,LI=0,i1=1;function xu(){return{s:LI,v:void 0,o:null,p:null}}function d5(e,r={}){let n=xu();const{resultEqualityCheck:a}=r;let s,i=0;function o(){var p;let d=n;const{length:u}=arguments;for(let y=0,v=u;y<v;y++){const j=arguments[y];if(typeof j=="function"||typeof j=="object"&&j!==null){let b=d.o;b===null&&(d.o=b=new WeakMap);const N=b.get(j);N===void 0?(d=xu(),b.set(j,d)):d=N}else{let b=d.p;b===null&&(d.p=b=new Map);const N=b.get(j);N===void 0?(d=xu(),b.set(j,d)):d=N}}const h=d;let m;if(d.s===i1)m=d.v;else if(m=e.apply(null,arguments),i++,a){const y=((p=s==null?void 0:s.deref)==null?void 0:p.call(s))??s;y!=null&&a(y,m)&&(m=y,i!==0&&i--),s=typeof m=="object"&&m!==null||typeof m=="function"?new II(m):m}return h.s=i1,h.v=m,m}return o.clearCache=()=>{n=xu(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function RI(e,...r){const n=typeof e=="function"?{memoize:e,memoizeOptions:r}:e,a=(...s)=>{let i=0,o=0,d,u={},h=s.pop();typeof h=="object"&&(u=h,h=s.pop()),OI(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m={...n,...u},{memoize:p,memoizeOptions:y=[],argsMemoize:v=d5,argsMemoizeOptions:j=[]}=m,b=s1(y),N=s1(j),S=MI(s),C=p(function(){return i++,h.apply(null,arguments)},...b),_=v(function(){o++;const O=DI(S,arguments);return d=C.apply(null,O),d},...N);return Object.assign(_,{resultFunc:h,memoizedResultFunc:C,dependencies:S,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>d,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:p,argsMemoize:v})};return Object.assign(a,{withTypes:()=>a}),a}var Z=RI(d5),FI=Object.assign((e,r=Z)=>{AI(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),a=n.map(i=>e[i]);return r(a,(...i)=>i.reduce((o,d,u)=>(o[n[u]]=d,o),{}))},{withTypes:()=>FI}),jx={},wx={},Nx={},l1;function zI(){return l1||(l1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const n=(a,s,i)=>{if(a!==s){const o=r(a),d=r(s);if(o===d&&o===0){if(a<s)return i==="desc"?1:-1;if(a>s)return i==="desc"?-1:1}return i==="desc"?d-o:o-d}return 0};e.compareValues=n})(Nx)),Nx}var _x={},kx={},o1;function u5(){return o1||(o1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=r})(kx)),kx}var c1;function BI(){return c1||(c1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=u5(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||r.isSymbol(i)?!0:typeof i=="string"&&(a.test(i)||!n.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s})(_x)),_x}var d1;function UI(){return d1||(d1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=zI(),n=BI(),a=Jg();function s(i,o,d,u){if(i==null)return[];d=u?void 0:d,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(v=>String(v));const h=(v,j)=>{let b=v;for(let N=0;N<j.length&&b!=null;++N)b=b[j[N]];return b},m=(v,j)=>j==null||v==null?j:typeof v=="object"&&"key"in v?Object.hasOwn(j,v.key)?j[v.key]:h(j,v.path):typeof v=="function"?v(j):Array.isArray(v)?h(j,v):typeof j=="object"?j[v]:j,p=o.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:a.toPath(v)}));return i.map(v=>({original:v,criteria:p.map(j=>m(j,v))})).slice().sort((v,j)=>{for(let b=0;b<p.length;b++){const N=r.compareValues(v.criteria[b],j.criteria[b],d[b]);if(N!==0)return N}return 0}).map(v=>v.original)}e.orderBy=s})(wx)),wx}var Sx={},u1;function WI(){return u1||(u1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n,a=1){const s=[],i=Math.floor(a),o=(d,u)=>{for(let h=0;h<d.length;h++){const m=d[h];Array.isArray(m)&&u<i?o(m,u+1):s.push(m)}};return o(n,0),s}e.flatten=r})(Sx)),Sx}var Cx={},m1;function m5(){return m1||(m1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=o5(),n=ay(),a=t5(),s=n5();function i(o,d,u){return a.isObject(u)&&(typeof d=="number"&&n.isArrayLike(u)&&r.isIndex(d)&&d<u.length||typeof d=="string"&&d in u)?s.eq(u[d],o):!1}e.isIterateeCall=i})(Cx)),Cx}var f1;function qI(){return f1||(f1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=UI(),n=WI(),a=m5();function s(i,...o){const d=o.length;return d>1&&a.isIterateeCall(i,o[0],o[1])?o=[]:d>2&&a.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),r.orderBy(i,n.flatten(o),["asc"])}e.sortBy=s})(jx)),jx}var Px,h1;function HI(){return h1||(h1=1,Px=qI().sortBy),Px}var KI=HI();const Vm=ns(KI);var f5=e=>e.legend.settings,VI=e=>e.legend.size,GI=e=>e.legend.payload,YI=Z([GI,f5],(e,r)=>{var{itemSorter:n}=r,a=e.flat(1);return n?Vm(a,n):a});function ZI(){return Ce(YI)}var gu=1;function h5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[r,n]=x.useState({height:0,left:0,top:0,width:0}),a=x.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-r.height)>gu||Math.abs(o.left-r.left)>gu||Math.abs(o.top-r.top)>gu||Math.abs(o.width-r.width)>gu)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[r.width,r.height,r.top,r.left,...e]);return[r,a]}function Or(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var XI=typeof Symbol=="function"&&Symbol.observable||"@@observable",p1=XI,Ex=()=>Math.random().toString(36).substring(7).split("").join("."),JI={INIT:`@@redux/INIT${Ex()}`,REPLACE:`@@redux/REPLACE${Ex()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ex()}`},nm=JI;function iy(e){if(typeof e!="object"||e===null)return!1;let r=e;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r||Object.getPrototypeOf(e)===null}function p5(e,r,n){if(typeof e!="function")throw new Error(Or(2));if(typeof r=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Or(0));if(typeof r=="function"&&typeof n>"u"&&(n=r,r=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Or(1));return n(p5)(e,r)}let a=e,s=r,i=new Map,o=i,d=0,u=!1;function h(){o===i&&(o=new Map,i.forEach((N,S)=>{o.set(S,N)}))}function m(){if(u)throw new Error(Or(3));return s}function p(N){if(typeof N!="function")throw new Error(Or(4));if(u)throw new Error(Or(5));let S=!0;h();const C=d++;return o.set(C,N),function(){if(S){if(u)throw new Error(Or(6));S=!1,h(),o.delete(C),i=null}}}function y(N){if(!iy(N))throw new Error(Or(7));if(typeof N.type>"u")throw new Error(Or(8));if(typeof N.type!="string")throw new Error(Or(17));if(u)throw new Error(Or(9));try{u=!0,s=a(s,N)}finally{u=!1}return(i=o).forEach(C=>{C()}),N}function v(N){if(typeof N!="function")throw new Error(Or(10));a=N,y({type:nm.REPLACE})}function j(){const N=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(Or(11));function C(){const P=S;P.next&&P.next(m())}return C(),{unsubscribe:N(C)}},[p1](){return this}}}return y({type:nm.INIT}),{dispatch:y,subscribe:p,getState:m,replaceReducer:v,[p1]:j}}function QI(e){Object.keys(e).forEach(r=>{const n=e[r];if(typeof n(void 0,{type:nm.INIT})>"u")throw new Error(Or(12));if(typeof n(void 0,{type:nm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Or(13))})}function x5(e){const r=Object.keys(e),n={};for(let i=0;i<r.length;i++){const o=r[i];typeof e[o]=="function"&&(n[o]=e[o])}const a=Object.keys(n);let s;try{QI(n)}catch(i){s=i}return function(o={},d){if(s)throw s;let u=!1;const h={};for(let m=0;m<a.length;m++){const p=a[m],y=n[p],v=o[p],j=y(v,d);if(typeof j>"u")throw d&&d.type,new Error(Or(14));h[p]=j,u=u||j!==v}return u=u||a.length!==Object.keys(o).length,u?h:o}}function am(...e){return e.length===0?r=>r:e.length===1?e[0]:e.reduce((r,n)=>(...a)=>r(n(...a)))}function e9(...e){return r=>(n,a)=>{const s=r(n,a);let i=()=>{throw new Error(Or(15))};const o={getState:s.getState,dispatch:(u,...h)=>i(u,...h)},d=e.map(u=>u(o));return i=am(...d)(s.dispatch),{...s,dispatch:i}}}function g5(e){return iy(e)&&"type"in e&&typeof e.type=="string"}var y5=Symbol.for("immer-nothing"),x1=Symbol.for("immer-draftable"),On=Symbol.for("immer-state");function aa(e,...r){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var $l=Object.getPrototypeOf;function Ei(e){return!!e&&!!e[On]}function Qa(e){var r;return e?v5(e)||Array.isArray(e)||!!e[x1]||!!((r=e.constructor)!=null&&r[x1])||Dc(e)||Ym(e):!1}var t9=Object.prototype.constructor.toString();function v5(e){if(!e||typeof e!="object")return!1;const r=$l(e);if(r===null)return!0;const n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===t9}function sm(e,r){Gm(e)===0?Reflect.ownKeys(e).forEach(n=>{r(n,e[n],e)}):e.forEach((n,a)=>r(a,n,e))}function Gm(e){const r=e[On];return r?r.type_:Array.isArray(e)?1:Dc(e)?2:Ym(e)?3:0}function q0(e,r){return Gm(e)===2?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function b5(e,r,n){const a=Gm(e);a===2?e.set(r,n):a===3?e.add(n):e[r]=n}function r9(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function Dc(e){return e instanceof Map}function Ym(e){return e instanceof Set}function ui(e){return e.copy_||e.base_}function H0(e,r){if(Dc(e))return new Map(e);if(Ym(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=v5(e);if(r===!0||r==="class_only"&&!n){const a=Object.getOwnPropertyDescriptors(e);delete a[On];let s=Reflect.ownKeys(a);for(let i=0;i<s.length;i++){const o=s[i],d=a[o];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(a[o]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[o]})}return Object.create($l(e),a)}else{const a=$l(e);if(a!==null&&n)return{...e};const s=Object.create(a);return Object.assign(s,e)}}function ly(e,r=!1){return Zm(e)||Ei(e)||!Qa(e)||(Gm(e)>1&&Object.defineProperties(e,{set:{value:yu},add:{value:yu},clear:{value:yu},delete:{value:yu}}),Object.freeze(e),r&&Object.values(e).forEach(n=>ly(n,!0))),e}function yu(){aa(2)}function Zm(e){return Object.isFrozen(e)}var n9={};function Oi(e){const r=n9[e];return r||aa(0,e),r}var xc;function j5(){return xc}function a9(e,r){return{drafts_:[],parent_:e,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function g1(e,r){r&&(Oi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=r)}function K0(e){V0(e),e.drafts_.forEach(s9),e.drafts_=null}function V0(e){e===xc&&(xc=e.parent_)}function y1(e){return xc=a9(xc,e)}function s9(e){const r=e[On];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function v1(e,r){r.unfinalizedDrafts_=r.drafts_.length;const n=r.drafts_[0];return e!==void 0&&e!==n?(n[On].modified_&&(K0(r),aa(4)),Qa(e)&&(e=im(r,e),r.parent_||lm(r,e)),r.patches_&&Oi("Patches").generateReplacementPatches_(n[On].base_,e,r.patches_,r.inversePatches_)):e=im(r,n,[]),K0(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),e!==y5?e:void 0}function im(e,r,n){if(Zm(r))return r;const a=r[On];if(!a)return sm(r,(s,i)=>b1(e,a,r,s,i,n)),r;if(a.scope_!==e)return r;if(!a.modified_)return lm(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let i=s,o=!1;a.type_===3&&(i=new Set(s),s.clear(),o=!0),sm(i,(d,u)=>b1(e,a,s,d,u,n,o)),lm(e,s,!1),n&&e.patches_&&Oi("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function b1(e,r,n,a,s,i,o){if(Ei(s)){const d=i&&r&&r.type_!==3&&!q0(r.assigned_,a)?i.concat(a):void 0,u=im(e,s,d);if(b5(n,a,u),Ei(u))e.canAutoFreeze_=!1;else return}else o&&n.add(s);if(Qa(s)&&!Zm(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;im(e,s),(!r||!r.scope_.parent_)&&typeof a!="symbol"&&(Dc(n)?n.has(a):Object.prototype.propertyIsEnumerable.call(n,a))&&lm(e,s)}}function lm(e,r,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ly(r,n)}function i9(e,r){const n=Array.isArray(e),a={type_:n?1:0,scope_:r?r.scope_:j5(),modified_:!1,finalized_:!1,assigned_:{},parent_:r,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=a,i=oy;n&&(s=[a],i=gc);const{revoke:o,proxy:d}=Proxy.revocable(s,i);return a.draft_=d,a.revoke_=o,d}var oy={get(e,r){if(r===On)return e;const n=ui(e);if(!q0(n,r))return l9(e,n,r);const a=n[r];return e.finalized_||!Qa(a)?a:a===Ox(e.base_,r)?(Ax(e),e.copy_[r]=Y0(a,e)):a},has(e,r){return r in ui(e)},ownKeys(e){return Reflect.ownKeys(ui(e))},set(e,r,n){const a=w5(ui(e),r);if(a!=null&&a.set)return a.set.call(e.draft_,n),!0;if(!e.modified_){const s=Ox(ui(e),r),i=s==null?void 0:s[On];if(i&&i.base_===n)return e.copy_[r]=n,e.assigned_[r]=!1,!0;if(r9(n,s)&&(n!==void 0||q0(e.base_,r)))return!0;Ax(e),G0(e)}return e.copy_[r]===n&&(n!==void 0||r in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[r])||(e.copy_[r]=n,e.assigned_[r]=!0),!0},deleteProperty(e,r){return Ox(e.base_,r)!==void 0||r in e.base_?(e.assigned_[r]=!1,Ax(e),G0(e)):delete e.assigned_[r],e.copy_&&delete e.copy_[r],!0},getOwnPropertyDescriptor(e,r){const n=ui(e),a=Reflect.getOwnPropertyDescriptor(n,r);return a&&{writable:!0,configurable:e.type_!==1||r!=="length",enumerable:a.enumerable,value:n[r]}},defineProperty(){aa(11)},getPrototypeOf(e){return $l(e.base_)},setPrototypeOf(){aa(12)}},gc={};sm(oy,(e,r)=>{gc[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}});gc.deleteProperty=function(e,r){return gc.set.call(this,e,r,void 0)};gc.set=function(e,r,n){return oy.set.call(this,e[0],r,n,e[0])};function Ox(e,r){const n=e[On];return(n?ui(n):e)[r]}function l9(e,r,n){var s;const a=w5(r,n);return a?"value"in a?a.value:(s=a.get)==null?void 0:s.call(e.draft_):void 0}function w5(e,r){if(!(r in e))return;let n=$l(e);for(;n;){const a=Object.getOwnPropertyDescriptor(n,r);if(a)return a;n=$l(n)}}function G0(e){e.modified_||(e.modified_=!0,e.parent_&&G0(e.parent_))}function Ax(e){e.copy_||(e.copy_=H0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var o9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(r,n,a)=>{if(typeof r=="function"&&typeof n!="function"){const i=n;n=r;const o=this;return function(u=i,...h){return o.produce(u,m=>n.call(this,m,...h))}}typeof n!="function"&&aa(6),a!==void 0&&typeof a!="function"&&aa(7);let s;if(Qa(r)){const i=y1(this),o=Y0(r,void 0);let d=!0;try{s=n(o),d=!1}finally{d?K0(i):V0(i)}return g1(i,a),v1(s,i)}else if(!r||typeof r!="object"){if(s=n(r),s===void 0&&(s=r),s===y5&&(s=void 0),this.autoFreeze_&&ly(s,!0),a){const i=[],o=[];Oi("Patches").generateReplacementPatches_(r,s,i,o),a(i,o)}return s}else aa(1,r)},this.produceWithPatches=(r,n)=>{if(typeof r=="function")return(o,...d)=>this.produceWithPatches(o,u=>r(u,...d));let a,s;return[this.produce(r,n,(o,d)=>{a=o,s=d}),a,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Qa(e)||aa(8),Ei(e)&&(e=Va(e));const r=y1(this),n=Y0(e,void 0);return n[On].isManual_=!0,V0(r),n}finishDraft(e,r){const n=e&&e[On];(!n||!n.isManual_)&&aa(9);const{scope_:a}=n;return g1(a,r),v1(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(r=r.slice(n+1));const a=Oi("Patches").applyPatches_;return Ei(e)?a(e,r):this.produce(e,s=>a(s,r))}};function Y0(e,r){const n=Dc(e)?Oi("MapSet").proxyMap_(e,r):Ym(e)?Oi("MapSet").proxySet_(e,r):i9(e,r);return(r?r.scope_:j5()).drafts_.push(n),n}function Va(e){return Ei(e)||aa(10,e),N5(e)}function N5(e){if(!Qa(e)||Zm(e))return e;const r=e[On];let n;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,n=H0(e,r.scope_.immer_.useStrictShallowCopy_)}else n=H0(e,!0);return sm(n,(a,s)=>{b5(n,a,N5(s))}),r&&(r.finalized_=!1),n}var c9=new o9,_5=c9.produce;function k5(e){return({dispatch:n,getState:a})=>s=>i=>typeof i=="function"?i(n,a,e):s(i)}var d9=k5(),u9=k5,m9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?am:am.apply(null,arguments)};function Vn(e,r){function n(...a){if(r){let s=r(...a);if(!s)throw new Error(Pn(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:a[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=a=>g5(a)&&a.type===e,n}var S5=class ac extends Array{constructor(...r){super(...r),Object.setPrototypeOf(this,ac.prototype)}static get[Symbol.species](){return ac}concat(...r){return super.concat.apply(this,r)}prepend(...r){return r.length===1&&Array.isArray(r[0])?new ac(...r[0].concat(this)):new ac(...r.concat(this))}};function j1(e){return Qa(e)?_5(e,()=>{}):e}function vu(e,r,n){return e.has(r)?e.get(r):e.set(r,n(r)).get(r)}function f9(e){return typeof e=="boolean"}var h9=()=>function(r){const{thunk:n=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=r??{};let o=new S5;return n&&(f9(n)?o.push(d9):o.push(u9(n.extraArgument))),o},C5="RTK_autoBatch",Xr=()=>e=>({payload:e,meta:{[C5]:!0}}),w1=e=>r=>{setTimeout(r,e)},P5=(e={type:"raf"})=>r=>(...n)=>{const a=r(...n);let s=!0,i=!1,o=!1;const d=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:w1(10):e.type==="callback"?e.queueNotification:w1(e.timeout),h=()=>{o=!1,i&&(i=!1,d.forEach(m=>m()))};return Object.assign({},a,{subscribe(m){const p=()=>s&&m(),y=a.subscribe(p);return d.add(m),()=>{y(),d.delete(m)}},dispatch(m){var p;try{return s=!((p=m==null?void 0:m.meta)!=null&&p[C5]),i=!s,i&&(o||(o=!0,u(h))),a.dispatch(m)}finally{s=!0}}})},p9=e=>function(n){const{autoBatch:a=!0}=n??{};let s=new S5(e);return a&&s.push(P5(typeof a=="object"?a:void 0)),s};function x9(e){const r=h9(),{reducer:n=void 0,middleware:a,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(iy(n))d=x5(n);else throw new Error(Pn(1));let u;typeof a=="function"?u=a(r):u=r();let h=am;s&&(h=m9({trace:!1,...typeof s=="object"&&s}));const m=e9(...u),p=p9(m);let y=typeof o=="function"?o(p):p();const v=h(...y);return p5(d,i,v)}function E5(e){const r={},n=[];let a;const s={addCase(i,o){const d=typeof i=="string"?i:i.type;if(!d)throw new Error(Pn(28));if(d in r)throw new Error(Pn(29));return r[d]=o,s},addAsyncThunk(i,o){return o.pending&&(r[i.pending.type]=o.pending),o.rejected&&(r[i.rejected.type]=o.rejected),o.fulfilled&&(r[i.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:i.settled,reducer:o.settled}),s},addMatcher(i,o){return n.push({matcher:i,reducer:o}),s},addDefaultCase(i){return a=i,s}};return e(s),[r,n,a]}function g9(e){return typeof e=="function"}function y9(e,r){let[n,a,s]=E5(r),i;if(g9(e))i=()=>j1(e());else{const d=j1(e);i=()=>d}function o(d=i(),u){let h=[n[u.type],...a.filter(({matcher:m})=>m(u)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[s]),h.reduce((m,p)=>{if(p)if(Ei(m)){const v=p(m,u);return v===void 0?m:v}else{if(Qa(m))return _5(m,y=>p(y,u));{const y=p(m,u);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},d)}return o.getInitialState=i,o}var v9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",b9=(e=21)=>{let r="",n=e;for(;n--;)r+=v9[Math.random()*64|0];return r},j9=Symbol.for("rtk-slice-createasyncthunk");function w9(e,r){return`${e}/${r}`}function N9({creators:e}={}){var n;const r=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[j9];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(Pn(11));const d=(typeof s.reducers=="function"?s.reducers(k9()):s.reducers)||{},u=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(P,O){const E=typeof P=="string"?P:P.type;if(!E)throw new Error(Pn(12));if(E in h.sliceCaseReducersByType)throw new Error(Pn(13));return h.sliceCaseReducersByType[E]=O,m},addMatcher(P,O){return h.sliceMatchers.push({matcher:P,reducer:O}),m},exposeAction(P,O){return h.actionCreators[P]=O,m},exposeCaseReducer(P,O){return h.sliceCaseReducersByName[P]=O,m}};u.forEach(P=>{const O=d[P],E={reducerName:P,type:w9(i,P),createNotation:typeof s.reducers=="function"};C9(O)?E9(E,O,m,r):S9(E,O,m)});function p(){const[P={},O=[],E=void 0]=typeof s.extraReducers=="function"?E5(s.extraReducers):[s.extraReducers],T={...P,...h.sliceCaseReducersByType};return y9(s.initialState,$=>{for(let D in T)$.addCase(D,T[D]);for(let D of h.sliceMatchers)$.addMatcher(D.matcher,D.reducer);for(let D of O)$.addMatcher(D.matcher,D.reducer);E&&$.addDefaultCase(E)})}const y=P=>P,v=new Map,j=new WeakMap;let b;function N(P,O){return b||(b=p()),b(P,O)}function S(){return b||(b=p()),b.getInitialState()}function C(P,O=!1){function E($){let D=$[P];return typeof D>"u"&&O&&(D=vu(j,E,S)),D}function T($=y){const D=vu(v,O,()=>new WeakMap);return vu(D,$,()=>{const z={};for(const[I,F]of Object.entries(s.selectors??{}))z[I]=_9(F,$,()=>vu(j,$,S),O);return z})}return{reducerPath:P,getSelectors:T,get selectors(){return T(E)},selectSlice:E}}const _={name:i,reducer:N,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:S,...C(o),injectInto(P,{reducerPath:O,...E}={}){const T=O??o;return P.inject({reducerPath:T,reducer:N},E),{..._,...C(T,!0)}}};return _}}function _9(e,r,n,a){function s(i,...o){let d=r(i);return typeof d>"u"&&a&&(d=n()),e(d,...o)}return s.unwrapped=e,s}var An=N9();function k9(){function e(r,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:r,...n}}return e.withTypes=()=>e,{reducer(r){return Object.assign({[r.name](...n){return r(...n)}}[r.name],{_reducerDefinitionType:"reducer"})},preparedReducer(r,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:r,reducer:n}},asyncThunk:e}}function S9({type:e,reducerName:r,createNotation:n},a,s){let i,o;if("reducer"in a){if(n&&!P9(a))throw new Error(Pn(17));i=a.reducer,o=a.prepare}else i=a;s.addCase(e,i).exposeCaseReducer(r,i).exposeAction(r,o?Vn(e,o):Vn(e))}function C9(e){return e._reducerDefinitionType==="asyncThunk"}function P9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function E9({type:e,reducerName:r},n,a,s){if(!s)throw new Error(Pn(18));const{payloadCreator:i,fulfilled:o,pending:d,rejected:u,settled:h,options:m}=n,p=s(e,i,m);a.exposeAction(r,p),o&&a.addCase(p.fulfilled,o),d&&a.addCase(p.pending,d),u&&a.addCase(p.rejected,u),h&&a.addMatcher(p.settled,h),a.exposeCaseReducer(r,{fulfilled:o||bu,pending:d||bu,rejected:u||bu,settled:h||bu})}function bu(){}var O9="task",O5="listener",A5="completed",cy="cancelled",A9=`task-${cy}`,T9=`task-${A5}`,Z0=`${O5}-${cy}`,M9=`${O5}-${A5}`,Xm=class{constructor(e){cl(this,"name","TaskAbortError");cl(this,"message");this.code=e,this.message=`${O9} ${cy} (reason: ${e})`}},dy=(e,r)=>{if(typeof e!="function")throw new TypeError(Pn(32))},om=()=>{},T5=(e,r=om)=>(e.catch(r),e),M5=(e,r)=>(e.addEventListener("abort",r,{once:!0}),()=>e.removeEventListener("abort",r)),ji=(e,r)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:r,configurable:!0,writable:!0}),e.abort(r))},wi=e=>{if(e.aborted){const{reason:r}=e;throw new Xm(r)}};function D5(e,r){let n=om;return new Promise((a,s)=>{const i=()=>s(new Xm(e.reason));if(e.aborted){i();return}n=M5(e,i),r.finally(()=>n()).then(a,s)}).finally(()=>{n=om})}var D9=async(e,r)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Xm?"cancelled":"rejected",error:n}}finally{r==null||r()}},cm=e=>r=>T5(D5(e,r).then(n=>(wi(e),n))),$5=e=>{const r=cm(e);return n=>r(new Promise(a=>setTimeout(a,n)))},{assign:bl}=Object,N1={},Jm="listenerMiddleware",$9=(e,r)=>{const n=a=>M5(e,()=>ji(a,e.reason));return(a,s)=>{dy(a);const i=new AbortController;n(i);const o=D9(async()=>{wi(e),wi(i.signal);const d=await a({pause:cm(i.signal),delay:$5(i.signal),signal:i.signal});return wi(i.signal),d},()=>ji(i,T9));return s!=null&&s.autoJoin&&r.push(o.catch(om)),{result:cm(e)(o),cancel(){ji(i,A9)}}}},I9=(e,r)=>{const n=async(a,s)=>{wi(r);let i=()=>{};const d=[new Promise((u,h)=>{let m=e({predicate:a,effect:(p,y)=>{y.unsubscribe(),u([p,y.getState(),y.getOriginalState()])}});i=()=>{m(),h()}})];s!=null&&d.push(new Promise(u=>setTimeout(u,s,null)));try{const u=await D5(r,Promise.race(d));return wi(r),u}finally{i()}};return(a,s)=>T5(n(a,s))},I5=e=>{let{type:r,actionCreator:n,matcher:a,predicate:s,effect:i}=e;if(r)s=Vn(r).match;else if(n)r=n.type,s=n.match;else if(a)s=a;else if(!s)throw new Error(Pn(21));return dy(i),{predicate:s,type:r,effect:i}},L5=bl(e=>{const{type:r,predicate:n,effect:a}=I5(e);return{id:b9(),effect:a,type:r,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Pn(22))}}},{withTypes:()=>L5}),_1=(e,r)=>{const{type:n,effect:a,predicate:s}=I5(r);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===s)&&i.effect===a)},X0=e=>{e.pending.forEach(r=>{ji(r,Z0)})},L9=(e,r)=>()=>{for(const n of r.keys())X0(n);e.clear()},k1=(e,r,n)=>{try{e(r,n)}catch(a){setTimeout(()=>{throw a},0)}},R5=bl(Vn(`${Jm}/add`),{withTypes:()=>R5}),R9=Vn(`${Jm}/removeAll`),F5=bl(Vn(`${Jm}/remove`),{withTypes:()=>F5}),F9=(...e)=>{console.error(`${Jm}/error`,...e)},$c=(e={})=>{const r=new Map,n=new Map,a=v=>{const j=n.get(v)??0;n.set(v,j+1)},s=v=>{const j=n.get(v)??1;j===1?n.delete(v):n.set(v,j-1)},{extra:i,onError:o=F9}=e;dy(o);const d=v=>(v.unsubscribe=()=>r.delete(v.id),r.set(v.id,v),j=>{v.unsubscribe(),j!=null&&j.cancelActive&&X0(v)}),u=v=>{const j=_1(r,v)??L5(v);return d(j)};bl(u,{withTypes:()=>u});const h=v=>{const j=_1(r,v);return j&&(j.unsubscribe(),v.cancelActive&&X0(j)),!!j};bl(h,{withTypes:()=>h});const m=async(v,j,b,N)=>{const S=new AbortController,C=I9(u,S.signal),_=[];try{v.pending.add(S),a(v),await Promise.resolve(v.effect(j,bl({},b,{getOriginalState:N,condition:(P,O)=>C(P,O).then(Boolean),take:C,delay:$5(S.signal),pause:cm(S.signal),extra:i,signal:S.signal,fork:$9(S.signal,_),unsubscribe:v.unsubscribe,subscribe:()=>{r.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((P,O,E)=>{P!==S&&(ji(P,Z0),E.delete(P))})},cancel:()=>{ji(S,Z0),v.pending.delete(S)},throwIfCancelled:()=>{wi(S.signal)}})))}catch(P){P instanceof Xm||k1(o,P,{raisedBy:"effect"})}finally{await Promise.all(_),ji(S,M9),s(v),v.pending.delete(S)}},p=L9(r,n);return{middleware:v=>j=>b=>{if(!g5(b))return j(b);if(R5.match(b))return u(b.payload);if(R9.match(b)){p();return}if(F5.match(b))return h(b.payload);let N=v.getState();const S=()=>{if(N===N1)throw new Error(Pn(23));return N};let C;try{if(C=j(b),r.size>0){const _=v.getState(),P=Array.from(r.values());for(const O of P){let E=!1;try{E=O.predicate(b,_,N)}catch(T){E=!1,k1(o,T,{raisedBy:"predicate"})}E&&m(O,b,v,S)}}}finally{N=N1}return C},startListening:u,stopListening:h,clearListeners:p}};function Pn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var z9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},z5=An({name:"chartLayout",initialState:z9,reducers:{setLayout(e,r){e.layoutType=r.payload},setChartSize(e,r){e.width=r.payload.width,e.height=r.payload.height},setMargin(e,r){var n,a,s,i;e.margin.top=(n=r.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(a=r.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(s=r.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(i=r.payload.left)!==null&&i!==void 0?i:0},setScale(e,r){e.scale=r.payload}}}),{setMargin:B9,setLayout:U9,setChartSize:W9,setScale:q9}=z5.actions,H9=z5.reducer;function S1(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function C1(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?S1(Object(n),!0).forEach(function(a){K9(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S1(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function K9(e,r,n){return(r=V9(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function V9(e){var r=G9(e,"string");return typeof r=="symbol"?r:r+""}function G9(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var dm=Math.PI/180,Y9=e=>e*180/Math.PI,tr=(e,r,n,a)=>({x:e+Math.cos(-dm*a)*n,y:r+Math.sin(-dm*a)*n}),B5=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},Z9=(e,r)=>{var{x:n,y:a}=e,{x:s,y:i}=r;return Math.sqrt((n-s)**2+(a-i)**2)},X9=(e,r)=>{var{x:n,y:a}=e,{cx:s,cy:i}=r,o=Z9({x:n,y:a},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var d=(n-s)/o,u=Math.acos(d);return a>i&&(u=2*Math.PI-u),{radius:o,angle:Y9(u),angleInRadian:u}},J9=e=>{var{startAngle:r,endAngle:n}=e,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},Q9=(e,r)=>{var{startAngle:n,endAngle:a}=r,s=Math.floor(n/360),i=Math.floor(a/360),o=Math.min(s,i);return e+o*360},e8=(e,r)=>{var{x:n,y:a}=e,{radius:s,angle:i}=X9({x:n,y:a},r),{innerRadius:o,outerRadius:d}=r;if(s<o||s>d||s===0)return null;var{startAngle:u,endAngle:h}=J9(r),m=i,p;if(u<=h){for(;m>h;)m-=360;for(;m<u;)m+=360;p=m>=u&&m<=h}else{for(;m>u;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=u}return p?C1(C1({},r),{},{radius:s,angle:Q9(m,r)}):null};function U5(e,r,n){return Array.isArray(e)&&e&&r+n!==0?e.slice(r,n+1):e}function P1(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Wn(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?P1(Object(n),!0).forEach(function(a){t8(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P1(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function t8(e,r,n){return(r=r8(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function r8(e){var r=n8(e,"string");return typeof r=="symbol"?r:r+""}function n8(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function gt(e,r,n){return Et(e)||Et(r)?n:Sa(r)?Pi(e,r,n):typeof r=="function"?r(e):n}var a8=(e,r,n,a,s)=>{var i,o=-1,d=(i=r==null?void 0:r.length)!==null&&i!==void 0?i:0;if(d<=1||e==null)return 0;if(a==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var u=0;u<d;u++){var h=u>0?n[u-1].coordinate:n[d-1].coordinate,m=n[u].coordinate,p=u>=d-1?n[0].coordinate:n[u+1].coordinate,y=void 0;if(Nr(m-h)!==Nr(p-m)){var v=[];if(Nr(p-m)===Nr(s[1]-s[0])){y=p;var j=m+s[1]-s[0];v[0]=Math.min(j,(j+h)/2),v[1]=Math.max(j,(j+h)/2)}else{y=h;var b=p+s[1]-s[0];v[0]=Math.min(m,(b+m)/2),v[1]=Math.max(m,(b+m)/2)}var N=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(e>N[0]&&e<=N[1]||e>=v[0]&&e<=v[1]){({index:o}=n[u]);break}}else{var S=Math.min(h,p),C=Math.max(h,p);if(e>(S+m)/2&&e<=(C+m)/2){({index:o}=n[u]);break}}}else if(r){for(var _=0;_<d;_++)if(_===0&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_>0&&_<d-1&&e>(r[_].coordinate+r[_-1].coordinate)/2&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_===d-1&&e>(r[_].coordinate+r[_-1].coordinate)/2){({index:o}=r[_]);break}}return o},s8=(e,r,n)=>{if(r&&n){var{width:a,height:s}=n,{align:i,verticalAlign:o,layout:d}=r;if((d==="vertical"||d==="horizontal"&&o==="middle")&&i!=="center"&&Se(e[i]))return Wn(Wn({},e),{},{[i]:e[i]+(a||0)});if((d==="horizontal"||d==="vertical"&&i==="center")&&o!=="middle"&&Se(e[o]))return Wn(Wn({},e),{},{[o]:e[o]+(s||0)})}return e},Oa=(e,r)=>e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis",W5=(e,r,n,a)=>{if(a)return e.map(d=>d.coordinate);var s,i,o=e.map(d=>(d.coordinate===r&&(s=!0),d.coordinate===n&&(i=!0),d.coordinate));return s||o.push(r),i||o.push(n),o},q5=(e,r,n)=>{if(!e)return null;var{duplicateDomain:a,type:s,range:i,scale:o,realScaleType:d,isCategorical:u,categoricalDomain:h,tickCount:m,ticks:p,niceTicks:y,axisType:v}=e;if(!o)return null;var j=d==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,b=s==="category"&&o.bandwidth?o.bandwidth()/j:0;if(b=v==="angleAxis"&&i&&i.length>=2?Nr(i[0]-i[1])*2*b:b,p||y){var N=(p||y||[]).map((S,C)=>{var _=a?a.indexOf(S):S;return{coordinate:o(_)+b,value:S,offset:b,index:C}});return N.filter(S=>!En(S.coordinate))}return u&&h?h.map((S,C)=>({coordinate:o(S)+b,value:S,index:C,offset:b})):o.ticks&&m!=null?o.ticks(m).map((S,C)=>({coordinate:o(S)+b,value:S,offset:b,index:C})):o.domain().map((S,C)=>({coordinate:o(S)+b,value:a?a[S]:S,index:C,offset:b}))},E1=1e-4,i8=e=>{var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-E1,i=Math.max(a[0],a[1])+E1,o=e(r[0]),d=e(r[n-1]);(o<s||o>i||d<s||d>i)&&e.domain([r[0],r[n-1]])}},l8=(e,r)=>{if(!r||r.length!==2||!Se(r[0])||!Se(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!Se(e[0])||e[0]<n)&&(s[0]=n),(!Se(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},o8=e=>{var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0,o=0;o<r;++o){var d=En(e[o][n][1])?e[o][n][0]:e[o][n][1];d>=0?(e[o][n][0]=s,e[o][n][1]=s+d,s=e[o][n][1]):(e[o][n][0]=i,e[o][n][1]=i+d,i=e[o][n][1])}},c8=e=>{var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var o=En(e[i][n][1])?e[i][n][0]:e[i][n][1];o>=0?(e[i][n][0]=s,e[i][n][1]=s+o,s=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},d8={sign:o8,expand:$$,none:Dl,silhouette:I$,wiggle:L$,positive:c8},u8=(e,r,n)=>{var a=d8[n],s=D$().keys(r).value((i,o)=>+gt(i,o,0)).order(B0).offset(a);return s(e)};function H5(e){return e==null?void 0:String(e)}function um(e){var{axis:r,ticks:n,bandSize:a,entry:s,index:i,dataKey:o}=e;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!Et(s[r.dataKey])){var d=JS(n,"value",s[r.dataKey]);if(d)return d.coordinate+a/2}return n[i]?n[i].coordinate+a/2:null}var u=gt(s,Et(o)?r.dataKey:o);return Et(u)?null:r.scale(u)}var O1=e=>{var{axis:r,ticks:n,offset:a,bandSize:s,entry:i,index:o}=e;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var d=gt(i,r.dataKey,r.scale.domain()[o]);return Et(d)?null:r.scale(d)-s/2+a},m8=e=>{var{numericAxis:r}=e,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},f8=e=>{var r=e.flat(2).filter(Se);return[Math.min(...r),Math.max(...r)]},h8=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],p8=(e,r,n)=>{if(e!=null)return h8(Object.keys(e).reduce((a,s)=>{var i=e[s],{stackedData:o}=i,d=o.reduce((u,h)=>{var m=U5(h,r,n),p=f8(m);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]))},A1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,T1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ai=(e,r,n)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=Vm(r,m=>m.coordinate),i=1/0,o=1,d=s.length;o<d;o++){var u=s[o],h=s[o-1];i=Math.min((u.coordinate||0)-(h.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0};function M1(e){var{tooltipEntrySettings:r,dataKey:n,payload:a,value:s,name:i}=e;return Wn(Wn({},r),{},{dataKey:n,payload:a,value:s,name:i})}function Vs(e,r){if(e)return String(e);if(typeof r=="string")return r}function x8(e,r,n,a,s){if(n==="horizontal"||n==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&r>=s.top&&r<=s.top+s.height;return i?{x:e,y:r}:null}return a?e8({x:e,y:r},a):null}var g8=(e,r,n,a)=>{var s=r.find(h=>h&&h.index===n);if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:o}=a;return Wn(Wn(Wn({},a),tr(a.cx,a.cy,o,i)),{},{angle:i,radius:o})}var d=s.coordinate,{angle:u}=a;return Wn(Wn(Wn({},a),tr(a.cx,a.cy,d,u)),{},{angle:u,radius:d})}return{x:0,y:0}},y8=(e,r)=>r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius,as=e=>e.layout.width,ss=e=>e.layout.height,v8=e=>e.layout.scale,K5=e=>e.layout.margin,Qm=Z(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ef=Z(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),V5="data-recharts-item-index",G5="data-recharts-item-data-key",Ic=60;function D1(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ju(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?D1(Object(n),!0).forEach(function(a){b8(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D1(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function b8(e,r,n){return(r=j8(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function j8(e){var r=w8(e,"string");return typeof r=="symbol"?r:r+""}function w8(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var N8=e=>e.brush.height;function _8(e){var r=ef(e);return r.reduce((n,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:Ic;return n+s}return n},0)}function k8(e){var r=ef(e);return r.reduce((n,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:Ic;return n+s}return n},0)}function S8(e){var r=Qm(e);return r.reduce((n,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?n+a.height:n,0)}function C8(e){var r=Qm(e);return r.reduce((n,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?n+a.height:n,0)}var fr=Z([as,ss,K5,N8,_8,k8,S8,C8,f5,VI],(e,r,n,a,s,i,o,d,u,h)=>{var m={left:(n.left||0)+s,right:(n.right||0)+i},p={top:(n.top||0)+o,bottom:(n.bottom||0)+d},y=ju(ju({},p),m),v=y.bottom;y.bottom+=a,y=s8(y,u,h);var j=e-y.left-y.right,b=r-y.top-y.bottom;return ju(ju({brushBottom:v},y),{},{width:Math.max(j,0),height:Math.max(b,0)})}),P8=Z(fr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),uy=Z(as,ss,(e,r)=>({x:0,y:0,width:e,height:r})),E8=x.createContext(null),Ir=()=>x.useContext(E8)!=null,tf=e=>e.brush,rf=Z([tf,fr,K5],(e,r,n)=>({height:e.height,x:Se(e.x)?e.x:r.left,y:Se(e.y)?e.y:r.top+r.height+r.brushBottom-((n==null?void 0:n.bottom)||0),width:Se(e.width)?e.width:r.width})),Tx={},Mx={},Dx={},$1;function O8(){return $1||($1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n,a,{signal:s,edges:i}={}){let o,d=null;const u=i!=null&&i.includes("leading"),h=i==null||i.includes("trailing"),m=()=>{d!==null&&(n.apply(o,d),o=void 0,d=null)},p=()=>{h&&m(),b()};let y=null;const v=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},a)},j=()=>{y!==null&&(clearTimeout(y),y=null)},b=()=>{j(),o=void 0,d=null},N=()=>{m()},S=function(...C){if(s!=null&&s.aborted)return;o=this,d=C;const _=y==null;v(),u&&_&&m()};return S.schedule=v,S.cancel=b,S.flush=N,s==null||s.addEventListener("abort",b,{once:!0}),S}e.debounce=r})(Dx)),Dx}var I1;function A8(){return I1||(I1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=O8();function n(a,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:d=!0,maxWait:u}=i,h=Array(2);o&&(h[0]="leading"),d&&(h[1]="trailing");let m,p=null;const y=r.debounce(function(...b){m=a.apply(this,b),p=null},s,{edges:h}),v=function(...b){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(m=a.apply(this,b),p=Date.now(),y.cancel(),y.schedule(),m):(y.apply(this,b),m)},j=()=>(y.flush(),m);return v.cancel=y.cancel,v.flush=j,v}e.debounce=n})(Mx)),Mx}var L1;function T8(){return L1||(L1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=A8();function n(a,s=0,i={}){const{leading:o=!0,trailing:d=!0}=i;return r.debounce(a,s,{leading:o,maxWait:s,trailing:d})}e.throttle=n})(Tx)),Tx}var $x,R1;function M8(){return R1||(R1=1,$x=T8().throttle),$x}var D8=M8();const $8=ns(D8);var mm=function(r,n){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]},Y5=(e,r,n)=>{var{width:a="100%",height:s="100%",aspect:i,maxHeight:o}=n,d=Ja(a)?e:Number(a),u=Ja(s)?r:Number(s);return i&&i>0&&(d?u=d/i:u&&(d=u*i),o&&u>o&&(u=o)),{calculatedWidth:d,calculatedHeight:u}},I8={width:0,height:0,overflow:"visible"},L8={width:0,overflowX:"visible"},R8={height:0,overflowY:"visible"},F8={},z8=e=>{var{width:r,height:n}=e,a=Ja(r),s=Ja(n);return a&&s?I8:a?L8:s?R8:F8};function B8(e){var{width:r,height:n,aspect:a}=e,s=r,i=n;return s===void 0&&i===void 0?(s="100%",i="100%"):s===void 0?s=a&&a>0?void 0:"100%":i===void 0&&(i=a&&a>0?void 0:"100%"),{width:s,height:i}}function nr(e){return Number.isFinite(e)}function Il(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},J0.apply(null,arguments)}function F1(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function z1(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?F1(Object(n),!0).forEach(function(a){U8(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F1(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function U8(e,r,n){return(r=W8(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function W8(e){var r=q8(e,"string");return typeof r=="symbol"?r:r+""}function q8(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Z5=x.createContext({width:-1,height:-1});function X5(e){var{children:r,width:n,height:a}=e,s=x.useMemo(()=>({width:n,height:a}),[n,a]);return n<=0||a<=0?null:x.createElement(Z5.Provider,{value:s},r)}var my=()=>x.useContext(Z5),H8=x.forwardRef((e,r)=>{var{aspect:n,initialDimension:a={width:-1,height:-1},width:s,height:i,minWidth:o=0,minHeight:d,maxHeight:u,children:h,debounce:m=0,id:p,className:y,onResize:v,style:j={}}=e,b=x.useRef(null),N=x.useRef();N.current=v,x.useImperativeHandle(r,()=>b.current);var[S,C]=x.useState({containerWidth:a.width,containerHeight:a.height}),_=x.useCallback(($,D)=>{C(z=>{var I=Math.round($),F=Math.round(D);return z.containerWidth===I&&z.containerHeight===F?z:{containerWidth:I,containerHeight:F}})},[]);x.useEffect(()=>{var $=F=>{var M,{width:B,height:G}=F[0].contentRect;_(B,G),(M=N.current)===null||M===void 0||M.call(N,B,G)};m>0&&($=$8($,m,{trailing:!0,leading:!1}));var D=new ResizeObserver($),{width:z,height:I}=b.current.getBoundingClientRect();return _(z,I),D.observe(b.current),()=>{D.disconnect()}},[_,m]);var{containerWidth:P,containerHeight:O}=S;mm(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:E,calculatedHeight:T}=Y5(P,O,{width:s,height:i,aspect:n,maxHeight:u});return mm(E>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,E,T,s,i,o,d,n),x.createElement("div",{id:p?"".concat(p):void 0,className:tt("recharts-responsive-container",y),style:z1(z1({},j),{},{width:s,height:i,minWidth:o,minHeight:d,maxHeight:u}),ref:b},x.createElement("div",{style:z8({width:s,height:i})},x.createElement(X5,{width:E,height:T},h)))}),Gl=x.forwardRef((e,r)=>{var n=my();if(Il(n.width)&&Il(n.height))return e.children;var{width:a,height:s}=B8({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=Y5(void 0,void 0,{width:a,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Se(i)&&Se(o)?x.createElement(X5,{width:i,height:o},e.children):x.createElement(H8,J0({},e,{width:a,height:s,ref:r}))}),nf=()=>{var e,r=Ir(),n=Ce(P8),a=Ce(rf),s=(e=Ce(tf))===null||e===void 0?void 0:e.padding;return!r||!a||!s?n:{width:a.width-s.left-s.right,height:a.height-s.top-s.bottom,x:s.left,y:s.top}},K8={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},J5=()=>{var e;return(e=Ce(fr))!==null&&e!==void 0?e:K8},fy=()=>Ce(as),hy=()=>Ce(ss),V8=()=>Ce(e=>e.layout.margin),Ve=e=>e.layout.layoutType,Lc=()=>Ce(Ve),af=e=>{var r=$t(),n=Ir(),{width:a,height:s}=e,i=my(),o=a,d=s;return i&&(o=i.width>0?i.width:a,d=i.height>0?i.height:s),x.useEffect(()=>{!n&&Il(o)&&Il(d)&&r(W9({width:o,height:d}))},[r,n,o,d]),null},G8={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Q5=An({name:"legend",initialState:G8,reducers:{setLegendSize(e,r){e.size.width=r.payload.width,e.size.height=r.payload.height},setLegendSettings(e,r){e.settings.align=r.payload.align,e.settings.layout=r.payload.layout,e.settings.verticalAlign=r.payload.verticalAlign,e.settings.itemSorter=r.payload.itemSorter},addLegendPayload:{reducer(e,r){e.payload.push(r.payload)},prepare:Xr()},removeLegendPayload:{reducer(e,r){var n=Va(e).payload.indexOf(r.payload);n>-1&&e.payload.splice(n,1)},prepare:Xr()}}}),{setLegendSize:B1,setLegendSettings:Y8,addLegendPayload:e4,removeLegendPayload:t4}=Q5.actions,Z8=Q5.reducer,X8=["contextPayload"];function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Q0.apply(null,arguments)}function U1(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ll(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?U1(Object(n),!0).forEach(function(a){py(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U1(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function py(e,r,n){return(r=J8(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function J8(e){var r=Q8(e,"string");return typeof r=="symbol"?r:r+""}function Q8(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function eL(e,r){if(e==null)return{};var n,a,s=tL(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function tL(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function rL(e){return e.value}function nL(e){var{contextPayload:r}=e,n=eL(e,X8),a=c5(r,e.payloadUniqBy,rL),s=Ll(Ll({},n),{},{payload:a});return x.isValidElement(e.content)?x.cloneElement(e.content,s):typeof e.content=="function"?x.createElement(e.content,s):x.createElement(ny,s)}function aL(e,r,n,a,s,i){var{layout:o,align:d,verticalAlign:u}=r,h,m;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&o==="vertical"?h={left:((a||0)-i.width)/2}:h=d==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?m={top:((s||0)-i.height)/2}:m=u==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Ll(Ll({},h),m)}function sL(e){var r=$t();return x.useEffect(()=>{r(Y8(e))},[r,e]),null}function iL(e){var r=$t();return x.useEffect(()=>(r(B1(e)),()=>{r(B1({width:0,height:0}))}),[r,e]),null}function lL(e){var r=ZI(),n=a$(),a=V8(),{width:s,height:i,wrapperStyle:o,portal:d}=e,[u,h]=h5([r]),m=fy(),p=hy();if(m==null||p==null)return null;var y=m-(a.left||0)-(a.right||0),v=Rc.getWidthOrHeight(e.layout,i,s,y),j=d?o:Ll(Ll({position:"absolute",width:(v==null?void 0:v.width)||s||"auto",height:(v==null?void 0:v.height)||i||"auto"},aL(o,e,a,m,p,u)),o),b=d??n;if(b==null)return null;var N=x.createElement("div",{className:"recharts-legend-wrapper",style:j,ref:h},x.createElement(sL,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement(iL,{width:u.width,height:u.height}),x.createElement(nL,Q0({},e,v,{margin:a,chartWidth:m,chartHeight:p,contextPayload:r})));return Gk.createPortal(N,b)}class Rc extends x.PureComponent{static getWidthOrHeight(r,n,a,s){return r==="vertical"&&Se(n)?{height:n}:r==="horizontal"?{width:a||s}:null}render(){return x.createElement(lL,this.props)}}py(Rc,"displayName","Legend");py(Rc,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},eg.apply(null,arguments)}function W1(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ix(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?W1(Object(n),!0).forEach(function(a){oL(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W1(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function oL(e,r,n){return(r=cL(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function cL(e){var r=dL(e,"string");return typeof r=="symbol"?r:r+""}function dL(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function uL(e){return Array.isArray(e)&&Sa(e[0])&&Sa(e[1])?e.join(" ~ "):e}var mL=e=>{var{separator:r=" : ",contentStyle:n={},itemStyle:a={},labelStyle:s={},payload:i,formatter:o,itemSorter:d,wrapperClassName:u,labelClassName:h,label:m,labelFormatter:p,accessibilityLayer:y=!1}=e,v=()=>{if(i&&i.length){var O={padding:0,margin:0},E=(d?Vm(i,d):i).map((T,$)=>{if(T.type==="none")return null;var D=T.formatter||o||uL,{value:z,name:I}=T,F=z,M=I;if(D){var B=D(z,I,T,$,i);if(Array.isArray(B))[F,M]=B;else if(B!=null)F=B;else return null}var G=Ix({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},a);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:G},Sa(M)?x.createElement("span",{className:"recharts-tooltip-item-name"},M):null,Sa(M)?x.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,x.createElement("span",{className:"recharts-tooltip-item-value"},F),x.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:O},E)}return null},j=Ix({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),b=Ix({margin:0},s),N=!Et(m),S=N?m:"",C=tt("recharts-default-tooltip",u),_=tt("recharts-tooltip-label",h);N&&p&&i!==void 0&&i!==null&&(S=p(m,i));var P=y?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",eg({className:C,style:j},P),x.createElement("p",{className:_,style:b},x.isValidElement(S)?S:"".concat(S)),v())},Ko="recharts-tooltip-wrapper",fL={visibility:"hidden"};function hL(e){var{coordinate:r,translateX:n,translateY:a}=e;return tt(Ko,{["".concat(Ko,"-right")]:Se(n)&&r&&Se(r.x)&&n>=r.x,["".concat(Ko,"-left")]:Se(n)&&r&&Se(r.x)&&n<r.x,["".concat(Ko,"-bottom")]:Se(a)&&r&&Se(r.y)&&a>=r.y,["".concat(Ko,"-top")]:Se(a)&&r&&Se(r.y)&&a<r.y})}function q1(e){var{allowEscapeViewBox:r,coordinate:n,key:a,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:d,viewBox:u,viewBoxDimension:h}=e;if(i&&Se(i[a]))return i[a];var m=n[a]-d-(s>0?s:0),p=n[a]+s;if(r[a])return o[a]?m:p;var y=u[a];if(y==null)return 0;if(o[a]){var v=m,j=y;return v<j?Math.max(p,y):Math.max(m,y)}if(h==null)return 0;var b=p+d,N=y+h;return b>N?Math.max(m,y):Math.max(p,y)}function pL(e){var{translateX:r,translateY:n,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(r,"px, ").concat(n,"px, 0)"):"translate(".concat(r,"px, ").concat(n,"px)")}}function xL(e){var{allowEscapeViewBox:r,coordinate:n,offsetTopLeft:a,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:d,viewBox:u}=e,h,m,p;return o.height>0&&o.width>0&&n?(m=q1({allowEscapeViewBox:r,coordinate:n,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=q1({allowEscapeViewBox:r,coordinate:n,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),h=pL({translateX:m,translateY:p,useTranslate3d:d})):h=fL,{cssProperties:h,cssClasses:hL({translateX:m,translateY:p,coordinate:n})}}function H1(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function wu(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?H1(Object(n),!0).forEach(function(a){tg(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H1(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function tg(e,r,n){return(r=gL(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function gL(e){var r=yL(e,"string");return typeof r=="symbol"?r:r+""}function yL(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class vL extends x.PureComponent{constructor(){super(...arguments),tg(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),tg(this,"handleKeyDown",r=>{if(r.key==="Escape"){var n,a,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&n!==void 0?n:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var r,n;this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:s,children:i,coordinate:o,hasPayload:d,isAnimationActive:u,offset:h,position:m,reverseDirection:p,useTranslate3d:y,viewBox:v,wrapperStyle:j,lastBoundingBox:b,innerRef:N,hasPortalFromProps:S}=this.props,{cssClasses:C,cssProperties:_}=xL({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:h,position:m,reverseDirection:p,tooltipBox:{height:b.height,width:b.width},useTranslate3d:y,viewBox:v}),P=S?{}:wu(wu({transition:u&&r?"transform ".concat(a,"ms ").concat(s):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&d?"visible":"hidden",position:"absolute",top:0,left:0}),O=wu(wu({},P),{},{visibility:!this.state.dismissed&&r&&d?"visible":"hidden"},j);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:O,ref:N},i)}}var bL=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),is={devToolsEnabled:!1,isSsr:bL()},r4=()=>Ce(e=>e.rootProps.accessibilityLayer);function rg(){return rg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},rg.apply(null,arguments)}function K1(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function V1(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?K1(Object(n),!0).forEach(function(a){jL(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K1(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function jL(e,r,n){return(r=wL(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function wL(e){var r=NL(e,"string");return typeof r=="symbol"?r:r+""}function NL(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var G1={curveBasisClosed:N$,curveBasisOpen:_$,curveBasis:w$,curveBumpX:o$,curveBumpY:c$,curveLinearClosed:k$,curveLinear:Hm,curveMonotoneX:S$,curveMonotoneY:C$,curveNatural:P$,curveStep:E$,curveStepAfter:A$,curveStepBefore:O$},Nu=e=>nr(e.x)&&nr(e.y),Vo=e=>e.x,Go=e=>e.y,_L=(e,r)=>{if(typeof e=="function")return e;var n="curve".concat(Tc(e));return(n==="curveMonotone"||n==="curveBump")&&r?G1["".concat(n).concat(r==="vertical"?"Y":"X")]:G1[n]||Hm},kL=e=>{var{type:r="linear",points:n=[],baseLine:a,layout:s,connectNulls:i=!1}=e,o=_L(r,s),d=i?n.filter(Nu):n,u;if(Array.isArray(a)){var h=i?a.filter(p=>Nu(p)):a,m=d.map((p,y)=>V1(V1({},p),{},{base:h[y]}));return s==="vertical"?u=pu().y(Go).x1(Vo).x0(p=>p.base.x):u=pu().x(Vo).y1(Go).y0(p=>p.base.y),u.defined(Nu).curve(o),u(m)}return s==="vertical"&&Se(a)?u=pu().y(Go).x1(Vo).x0(a):Se(a)?u=pu().x(Vo).y1(Go).y0(a):u=FS().x(Vo).y(Go),u.defined(Nu).curve(o),u(d)},jl=e=>{var{className:r,points:n,path:a,pathRef:s}=e;if((!n||!n.length)&&!a)return null;var i=n&&n.length?kL(e):a;return x.createElement("path",rg({},rn(e),ty(e),{className:tt("recharts-curve",r),d:i===null?void 0:i,ref:s}))},SL=["x","y","top","left","width","height","className"];function ng(){return ng=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ng.apply(null,arguments)}function Y1(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function CL(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Y1(Object(n),!0).forEach(function(a){PL(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function PL(e,r,n){return(r=EL(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function EL(e){var r=OL(e,"string");return typeof r=="symbol"?r:r+""}function OL(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function AL(e,r){if(e==null)return{};var n,a,s=TL(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function TL(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var ML=(e,r,n,a,s,i)=>"M".concat(e,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n),DL=e=>{var{x:r=0,y:n=0,top:a=0,left:s=0,width:i=0,height:o=0,className:d}=e,u=AL(e,SL),h=CL({x:r,y:n,top:a,left:s,width:i,height:o},u);return!Se(r)||!Se(n)||!Se(i)||!Se(o)||!Se(a)||!Se(s)?null:x.createElement("path",ng({},nn(h),{className:tt("recharts-cross",d),d:ML(r,n,i,o,a,s)}))};function $L(e,r,n,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?r.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:r.y-s,width:e==="horizontal"?a:n.width-1,height:e==="horizontal"?n.height-1:a}}function Z1(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function IL(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Z1(Object(n),!0).forEach(function(a){LL(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z1(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function LL(e,r,n){return(r=RL(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function RL(e){var r=FL(e,"string");return typeof r=="symbol"?r:r+""}function FL(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function hr(e,r){var n=IL({},e),a=r,s=Object.keys(r),i=s.reduce((o,d)=>(o[d]===void 0&&a[d]!==void 0&&(o[d]=a[d]),o),n);return i}function zL(){}function BL(e){return e!=null}function X1(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function J1(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?X1(Object(n),!0).forEach(function(a){UL(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X1(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function UL(e,r,n){return(r=WL(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function WL(e){var r=qL(e,"string");return typeof r=="symbol"?r:r+""}function qL(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var HL=e=>e.replace(/([A-Z])/g,r=>"-".concat(r.toLowerCase())),n4=(e,r,n)=>e.map(a=>"".concat(HL(a)," ").concat(r,"ms ").concat(n)).join(","),KL=(e,r)=>[Object.keys(e),Object.keys(r)].reduce((n,a)=>n.filter(s=>a.includes(s))),yc=(e,r)=>Object.keys(r).reduce((n,a)=>J1(J1({},n),{},{[a]:e(a,r[a])}),{});function Q1(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Mr(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Q1(Object(n),!0).forEach(function(a){VL(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function VL(e,r,n){return(r=GL(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function GL(e){var r=YL(e,"string");return typeof r=="symbol"?r:r+""}function YL(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var fm=(e,r,n)=>e+(r-e)*n,ag=e=>{var{from:r,to:n}=e;return r!==n},a4=(e,r,n)=>{var a=yc((s,i)=>{if(ag(i)){var[o,d]=e(i.from,i.to,i.velocity);return Mr(Mr({},i),{},{from:o,velocity:d})}return i},r);return n<1?yc((s,i)=>ag(i)?Mr(Mr({},i),{},{velocity:fm(i.velocity,a[s].velocity,n),from:fm(i.from,a[s].from,n)}):i,r):a4(e,a,n-1)};function ZL(e,r,n,a,s,i){var o,d=a.reduce((y,v)=>Mr(Mr({},y),{},{[v]:{from:e[v],velocity:0,to:r[v]}}),{}),u=()=>yc((y,v)=>v.from,d),h=()=>!Object.values(d).filter(ag).length,m=null,p=y=>{o||(o=y);var v=y-o,j=v/n.dt;d=a4(n,d,j),s(Mr(Mr(Mr({},e),r),u())),o=y,h()||(m=i.setTimeout(p))};return()=>(m=i.setTimeout(p),()=>{m()})}function XL(e,r,n,a,s,i,o){var d=null,u=s.reduce((p,y)=>Mr(Mr({},p),{},{[y]:[e[y],r[y]]}),{}),h,m=p=>{h||(h=p);var y=(p-h)/a,v=yc((b,N)=>fm(...N,n(y)),u);if(i(Mr(Mr(Mr({},e),r),v)),y<1)d=o.setTimeout(m);else{var j=yc((b,N)=>fm(...N,n(1)),u);i(Mr(Mr(Mr({},e),r),j))}};return()=>(d=o.setTimeout(m),()=>{d()})}const JL=(e,r,n,a,s,i)=>{var o=KL(e,r);return n.isStepper===!0?ZL(e,r,n,o,s,i):XL(e,r,n,a,o,s,i)};var hm=1e-4,s4=(e,r)=>[0,3*e,3*r-6*e,3*e-3*r+1],i4=(e,r)=>e.map((n,a)=>n*r**a).reduce((n,a)=>n+a),e2=(e,r)=>n=>{var a=s4(e,r);return i4(a,n)},QL=(e,r)=>n=>{var a=s4(e,r),s=[...a.map((i,o)=>i*o).slice(1),0];return i4(s,n)},t2=function(){for(var r,n,a,s,i=arguments.length,o=new Array(i),d=0;d<i;d++)o[d]=arguments[d];if(o.length===1)switch(o[0]){case"linear":[r,a,n,s]=[0,0,1,1];break;case"ease":[r,a,n,s]=[.25,.1,.25,1];break;case"ease-in":[r,a,n,s]=[.42,0,1,1];break;case"ease-out":[r,a,n,s]=[.42,0,.58,1];break;case"ease-in-out":[r,a,n,s]=[0,0,.58,1];break;default:{var u=o[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([r,a,n,s]=u[1].split(")")[0].split(",").map(j=>parseFloat(j)))}}else o.length===4&&([r,a,n,s]=o);var h=e2(r,n),m=e2(a,s),p=QL(r,n),y=j=>j>1?1:j<0?0:j,v=j=>{for(var b=j>1?1:j,N=b,S=0;S<8;++S){var C=h(N)-b,_=p(N);if(Math.abs(C-b)<hm||_<hm)return m(N);N=y(N-C/_)}return m(N)};return v.isStepper=!1,v},eR=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:a=8,dt:s=17}=r,i=(o,d,u)=>{var h=-(o-d)*n,m=u*a,p=u+(h-m)*s/1e3,y=u*s/1e3+o;return Math.abs(y-d)<hm&&Math.abs(p)<hm?[d,0]:[y,p]};return i.isStepper=!0,i.dt=s,i},tR=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return t2(e);case"spring":return eR();default:if(e.split("(")[0]==="cubic-bezier")return t2(e)}return typeof e=="function"?e:null};function rR(e){var r,n=()=>null,a=!1,s=null,i=o=>{if(!a){if(Array.isArray(o)){if(!o.length)return;var d=o,[u,...h]=d;if(typeof u=="number"){s=e.setTimeout(i.bind(null,h),u);return}i(u),s=e.setTimeout(i.bind(null,h));return}typeof o=="string"&&(r=o,n(r)),typeof o=="object"&&(r=o,n(r)),typeof o=="function"&&o()}};return{stop:()=>{a=!0},start:o=>{a=!1,s&&(s(),s=null),i(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class nR{setTimeout(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),s=null,i=o=>{o-a>=n?r(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}function aR(){return rR(new nR)}var sR=x.createContext(aR);function iR(e,r){var n=x.useContext(sR);return x.useMemo(()=>r??n(e),[e,r,n])}var lR={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},r2={t:0},Lx={t:1};function Yl(e){var r=hr(e,lR),{isActive:n,canBegin:a,duration:s,easing:i,begin:o,onAnimationEnd:d,onAnimationStart:u,children:h}=r,m=iR(r.animationId,r.animationManager),[p,y]=x.useState(n?r2:Lx),v=x.useRef(null);return x.useEffect(()=>{n||y(Lx)},[n]),x.useEffect(()=>{if(!n||!a)return zL;var j=JL(r2,Lx,tR(i),s,y,m.getTimeoutController()),b=()=>{v.current=j()};return m.start([u,o,b,s,d]),()=>{m.stop(),v.current&&v.current(),d()}},[n,a,s,i,o,u,d,m]),h(p.t)}function Zl(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(pc(r)),a=x.useRef(e);return a.current!==e&&(n.current=pc(r),a.current=e),n.current}var oR=["radius"],cR=["radius"];function n2(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function a2(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?n2(Object(n),!0).forEach(function(a){dR(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function dR(e,r,n){return(r=uR(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function uR(e){var r=mR(e,"string");return typeof r=="symbol"?r:r+""}function mR(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pm.apply(null,arguments)}function s2(e,r){if(e==null)return{};var n,a,s=fR(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function fR(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var i2=(e,r,n,a,s)=>{var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,d=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,h;if(i>0&&s instanceof Array){for(var m=[0,0,0,0],p=0,y=4;p<y;p++)m[p]=s[p]>i?i:s[p];h="M".concat(e,",").concat(r+o*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(u,",").concat(e+d*m[0],",").concat(r)),h+="L ".concat(e+n-d*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+o*m[1])),h+="L ".concat(e+n,",").concat(r+a-o*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(u,`,
        `).concat(e+n-d*m[2],",").concat(r+a)),h+="L ".concat(e+d*m[3],",").concat(r+a),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-o*m[3])),h+="Z"}else if(i>0&&s===+s&&s>0){var v=Math.min(i,s);h="M ".concat(e,",").concat(r+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+d*v,",").concat(r,`
            L `).concat(e+n-d*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(r+o*v,`
            L `).concat(e+n,",").concat(r+a-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-d*v,",").concat(r+a,`
            L `).concat(e+d*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(r+a-o*v," Z")}else h="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return h},hR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},l4=e=>{var r=hr(e,hR),n=x.useRef(null),[a,s]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var L=n.current.getTotalLength();L&&s(L)}catch{}},[]);var{x:i,y:o,width:d,height:u,radius:h,className:m}=r,{animationEasing:p,animationDuration:y,animationBegin:v,isAnimationActive:j,isUpdateAnimationActive:b}=r,N=x.useRef(d),S=x.useRef(u),C=x.useRef(i),_=x.useRef(o),P=x.useMemo(()=>({x:i,y:o,width:d,height:u,radius:h}),[i,o,d,u,h]),O=Zl(P,"rectangle-");if(i!==+i||o!==+o||d!==+d||u!==+u||d===0||u===0)return null;var E=tt("recharts-rectangle",m);if(!b){var T=nn(r),{radius:$}=T,D=s2(T,oR);return x.createElement("path",pm({},D,{radius:typeof h=="number"?h:void 0,className:E,d:i2(i,o,d,u,h)}))}var z=N.current,I=S.current,F=C.current,M=_.current,B="0px ".concat(a===-1?1:a,"px"),G="".concat(a,"px 0px"),ee=n4(["strokeDasharray"],y,typeof p=="string"?p:void 0);return x.createElement(Yl,{animationId:O,key:O,canBegin:a>0,duration:y,easing:p,isActive:b,begin:v},L=>{var H=xt(z,d,L),te=xt(I,u,L),se=xt(F,i,L),U=xt(M,o,L);n.current&&(N.current=H,S.current=te,C.current=se,_.current=U);var ne;j?L>0?ne={transition:ee,strokeDasharray:G}:ne={strokeDasharray:B}:ne={strokeDasharray:G};var Y=nn(r),{radius:K}=Y,ie=s2(Y,cR);return x.createElement("path",pm({},ie,{radius:typeof h=="number"?h:void 0,className:E,d:i2(se,U,H,te,h),ref:n,style:a2(a2({},ne),r.style)}))})};function o4(e){var{cx:r,cy:n,radius:a,startAngle:s,endAngle:i}=e,o=tr(r,n,a,s),d=tr(r,n,a,i);return{points:[o,d],cx:r,cy:n,radius:a,startAngle:s,endAngle:i}}function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},sg.apply(null,arguments)}var pR=(e,r)=>{var n=Nr(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},_u=e=>{var{cx:r,cy:n,radius:a,angle:s,sign:i,isExternal:o,cornerRadius:d,cornerIsExternal:u}=e,h=d*(o?1:-1)+a,m=Math.asin(d/h)/dm,p=u?s:s+i*m,y=tr(r,n,h,p),v=tr(r,n,a,p),j=u?s-i*m:s,b=tr(r,n,h*Math.cos(m*dm),j);return{center:y,circleTangency:v,lineTangency:b,theta:m}},c4=e=>{var{cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:i,endAngle:o}=e,d=pR(i,o),u=i+d,h=tr(r,n,s,i),m=tr(r,n,s,u),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(i>u),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var y=tr(r,n,a,i),v=tr(r,n,a,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(i<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},xR=e=>{var{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:d,startAngle:u,endAngle:h}=e,m=Nr(h-u),{circleTangency:p,lineTangency:y,theta:v}=_u({cx:r,cy:n,radius:s,angle:u,sign:m,cornerRadius:i,cornerIsExternal:d}),{circleTangency:j,lineTangency:b,theta:N}=_u({cx:r,cy:n,radius:s,angle:h,sign:-m,cornerRadius:i,cornerIsExternal:d}),S=d?Math.abs(u-h):Math.abs(u-h)-v-N;if(S<0)return o?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):c4({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:h});var C="M ".concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var{circleTangency:_,lineTangency:P,theta:O}=_u({cx:r,cy:n,radius:a,angle:u,sign:m,isExternal:!0,cornerRadius:i,cornerIsExternal:d}),{circleTangency:E,lineTangency:T,theta:$}=_u({cx:r,cy:n,radius:a,angle:h,sign:-m,isExternal:!0,cornerRadius:i,cornerIsExternal:d}),D=d?Math.abs(u-h):Math.abs(u-h)-O-$;if(D<0&&i===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(D>180),",").concat(+(m>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},gR={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},d4=e=>{var r=hr(e,gR),{cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:d,cornerIsExternal:u,startAngle:h,endAngle:m,className:p}=r;if(i<s||h===m)return null;var y=tt("recharts-sector",p),v=i-s,j=Vr(o,v,0,!0),b;return j>0&&Math.abs(h-m)<360?b=xR({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(j,v/2),forceCornerRadius:d,cornerIsExternal:u,startAngle:h,endAngle:m}):b=c4({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:h,endAngle:m}),x.createElement("path",sg({},nn(r),{className:y,d:b}))};function yR(e,r,n){var a,s,i,o;if(e==="horizontal")a=r.x,i=a,s=n.top,o=n.top+n.height;else if(e==="vertical")s=r.y,o=s,a=n.left,i=n.left+n.width;else if(r.cx!=null&&r.cy!=null)if(e==="centric"){var{cx:d,cy:u,innerRadius:h,outerRadius:m,angle:p}=r,y=tr(d,u,h,p),v=tr(d,u,m,p);a=y.x,s=y.y,i=v.x,o=v.y}else return o4(r);return[{x:a,y:s},{x:i,y:o}]}var Rx={},Fx={},zx={},l2;function vR(){return l2||(l2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=u5();function n(a){return r.isSymbol(a)?NaN:Number(a)}e.toNumber=n})(zx)),zx}var o2;function bR(){return o2||(o2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=vR();function n(a){return a?(a=r.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=n})(Fx)),Fx}var c2;function jR(){return c2||(c2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=m5(),n=bR();function a(s,i,o){o&&typeof o!="number"&&r.isIterateeCall(s,i,o)&&(i=o=void 0),s=n.toFinite(s),i===void 0?(i=s,s=0):i=n.toFinite(i),o=o===void 0?s<i?1:-1:n.toFinite(o);const d=Math.max(Math.ceil((i-s)/(o||1)),0),u=new Array(d);for(let h=0;h<d;h++)u[h]=s,s+=o;return u}e.range=a})(Rx)),Rx}var Bx,d2;function wR(){return d2||(d2=1,Bx=jR().range),Bx}var NR=wR();const u4=ns(NR);function zs(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function _R(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function xy(e){let r,n,a;e.length!==2?(r=zs,n=(d,u)=>zs(e(d),u),a=(d,u)=>e(d)-u):(r=e===zs||e===_R?e:kR,n=e,a=e);function s(d,u,h=0,m=d.length){if(h<m){if(r(u,u)!==0)return m;do{const p=h+m>>>1;n(d[p],u)<0?h=p+1:m=p}while(h<m)}return h}function i(d,u,h=0,m=d.length){if(h<m){if(r(u,u)!==0)return m;do{const p=h+m>>>1;n(d[p],u)<=0?h=p+1:m=p}while(h<m)}return h}function o(d,u,h=0,m=d.length){const p=s(d,u,h,m-1);return p>h&&a(d[p-1],u)>-a(d[p],u)?p-1:p}return{left:s,center:o,right:i}}function kR(){return 0}function m4(e){return e===null?NaN:+e}function*SR(e,r){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const CR=xy(zs),Fc=CR.right;xy(m4).center;class u2 extends Map{constructor(r,n=OR){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),r!=null)for(const[a,s]of r)this.set(a,s)}get(r){return super.get(m2(this,r))}has(r){return super.has(m2(this,r))}set(r,n){return super.set(PR(this,r),n)}delete(r){return super.delete(ER(this,r))}}function m2({_intern:e,_key:r},n){const a=r(n);return e.has(a)?e.get(a):n}function PR({_intern:e,_key:r},n){const a=r(n);return e.has(a)?e.get(a):(e.set(a,n),n)}function ER({_intern:e,_key:r},n){const a=r(n);return e.has(a)&&(n=e.get(a),e.delete(a)),n}function OR(e){return e!==null&&typeof e=="object"?e.valueOf():e}function AR(e=zs){if(e===zs)return f4;if(typeof e!="function")throw new TypeError("compare is not a function");return(r,n)=>{const a=e(r,n);return a||a===0?a:(e(n,n)===0)-(e(r,r)===0)}}function f4(e,r){return(e==null||!(e>=e))-(r==null||!(r>=r))||(e<r?-1:e>r?1:0)}const TR=Math.sqrt(50),MR=Math.sqrt(10),DR=Math.sqrt(2);function xm(e,r,n){const a=(r-e)/Math.max(0,n),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),o=i>=TR?10:i>=MR?5:i>=DR?2:1;let d,u,h;return s<0?(h=Math.pow(10,-s)/o,d=Math.round(e*h),u=Math.round(r*h),d/h<e&&++d,u/h>r&&--u,h=-h):(h=Math.pow(10,s)*o,d=Math.round(e/h),u=Math.round(r/h),d*h<e&&++d,u*h>r&&--u),u<d&&.5<=n&&n<2?xm(e,r,n*2):[d,u,h]}function ig(e,r,n){if(r=+r,e=+e,n=+n,!(n>0))return[];if(e===r)return[e];const a=r<e,[s,i,o]=a?xm(r,e,n):xm(e,r,n);if(!(i>=s))return[];const d=i-s+1,u=new Array(d);if(a)if(o<0)for(let h=0;h<d;++h)u[h]=(i-h)/-o;else for(let h=0;h<d;++h)u[h]=(i-h)*o;else if(o<0)for(let h=0;h<d;++h)u[h]=(s+h)/-o;else for(let h=0;h<d;++h)u[h]=(s+h)*o;return u}function lg(e,r,n){return r=+r,e=+e,n=+n,xm(e,r,n)[2]}function og(e,r,n){r=+r,e=+e,n=+n;const a=r<e,s=a?lg(r,e,n):lg(e,r,n);return(a?-1:1)*(s<0?1/-s:s)}function f2(e,r){let n;for(const a of e)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function h2(e,r){let n;for(const a of e)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function h4(e,r,n=0,a=1/0,s){if(r=Math.floor(r),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(e.length-1,a)),!(n<=r&&r<=a))return e;for(s=s===void 0?f4:AR(s);a>n;){if(a-n>600){const u=a-n+1,h=r-n+1,m=Math.log(u),p=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*p*(u-p)/u)*(h-u/2<0?-1:1),v=Math.max(n,Math.floor(r-h*p/u+y)),j=Math.min(a,Math.floor(r+(u-h)*p/u+y));h4(e,r,v,j,s)}const i=e[r];let o=n,d=a;for(Yo(e,n,r),s(e[a],i)>0&&Yo(e,n,a);o<d;){for(Yo(e,o,d),++o,--d;s(e[o],i)<0;)++o;for(;s(e[d],i)>0;)--d}s(e[n],i)===0?Yo(e,n,d):(++d,Yo(e,d,a)),d<=r&&(n=d+1),r<=d&&(a=d-1)}return e}function Yo(e,r,n){const a=e[r];e[r]=e[n],e[n]=a}function $R(e,r,n){if(e=Float64Array.from(SR(e)),!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return h2(e);if(r>=1)return f2(e);var a,s=(a-1)*r,i=Math.floor(s),o=f2(h4(e,i).subarray(0,i+1)),d=h2(e.subarray(i+1));return o+(d-o)*(s-i)}}function IR(e,r,n=m4){if(!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return+n(e[0],0,e);if(r>=1)return+n(e[a-1],a-1,e);var a,s=(a-1)*r,i=Math.floor(s),o=+n(e[i],i,e),d=+n(e[i+1],i+1,e);return o+(d-o)*(s-i)}}function LR(e,r,n){e=+e,r=+r,n=(s=arguments.length)<2?(r=e,e=0,1):s<3?1:+n;for(var a=-1,s=Math.max(0,Math.ceil((r-e)/n))|0,i=new Array(s);++a<s;)i[a]=e+a*n;return i}function Zn(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function ls(e,r){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const cg=Symbol("implicit");function gy(){var e=new u2,r=[],n=[],a=cg;function s(i){let o=e.get(i);if(o===void 0){if(a!==cg)return a;e.set(i,o=r.push(i)-1)}return n[o%n.length]}return s.domain=function(i){if(!arguments.length)return r.slice();r=[],e=new u2;for(const o of i)e.has(o)||e.set(o,r.push(o)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return gy(r,n).unknown(a)},Zn.apply(s,arguments),s}function yy(){var e=gy().unknown(void 0),r=e.domain,n=e.range,a=0,s=1,i,o,d=!1,u=0,h=0,m=.5;delete e.unknown;function p(){var y=r().length,v=s<a,j=v?s:a,b=v?a:s;i=(b-j)/Math.max(1,y-u+h*2),d&&(i=Math.floor(i)),j+=(b-j-i*(y-u))*m,o=i*(1-u),d&&(j=Math.round(j),o=Math.round(o));var N=LR(y).map(function(S){return j+i*S});return n(v?N.reverse():N)}return e.domain=function(y){return arguments.length?(r(y),p()):r()},e.range=function(y){return arguments.length?([a,s]=y,a=+a,s=+s,p()):[a,s]},e.rangeRound=function(y){return[a,s]=y,a=+a,s=+s,d=!0,p()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(y){return arguments.length?(d=!!y,p()):d},e.padding=function(y){return arguments.length?(u=Math.min(1,h=+y),p()):u},e.paddingInner=function(y){return arguments.length?(u=Math.min(1,y),p()):u},e.paddingOuter=function(y){return arguments.length?(h=+y,p()):h},e.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),p()):m},e.copy=function(){return yy(r(),[a,s]).round(d).paddingInner(u).paddingOuter(h).align(m)},Zn.apply(p(),arguments)}function p4(e){var r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return p4(r())},e}function RR(){return p4(yy.apply(null,arguments).paddingInner(1))}function vy(e,r,n){e.prototype=r.prototype=n,n.constructor=e}function x4(e,r){var n=Object.create(e.prototype);for(var a in r)n[a]=r[a];return n}function zc(){}var vc=.7,gm=1/vc,wl="\\s*([+-]?\\d+)\\s*",bc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Na="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",FR=/^#([0-9a-f]{3,8})$/,zR=new RegExp(`^rgb\\(${wl},${wl},${wl}\\)$`),BR=new RegExp(`^rgb\\(${Na},${Na},${Na}\\)$`),UR=new RegExp(`^rgba\\(${wl},${wl},${wl},${bc}\\)$`),WR=new RegExp(`^rgba\\(${Na},${Na},${Na},${bc}\\)$`),qR=new RegExp(`^hsl\\(${bc},${Na},${Na}\\)$`),HR=new RegExp(`^hsla\\(${bc},${Na},${Na},${bc}\\)$`),p2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vy(zc,jc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:x2,formatHex:x2,formatHex8:KR,formatHsl:VR,formatRgb:g2,toString:g2});function x2(){return this.rgb().formatHex()}function KR(){return this.rgb().formatHex8()}function VR(){return g4(this).formatHsl()}function g2(){return this.rgb().formatRgb()}function jc(e){var r,n;return e=(e+"").trim().toLowerCase(),(r=FR.exec(e))?(n=r[1].length,r=parseInt(r[1],16),n===6?y2(r):n===3?new hn(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?ku(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?ku(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=zR.exec(e))?new hn(r[1],r[2],r[3],1):(r=BR.exec(e))?new hn(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=UR.exec(e))?ku(r[1],r[2],r[3],r[4]):(r=WR.exec(e))?ku(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=qR.exec(e))?j2(r[1],r[2]/100,r[3]/100,1):(r=HR.exec(e))?j2(r[1],r[2]/100,r[3]/100,r[4]):p2.hasOwnProperty(e)?y2(p2[e]):e==="transparent"?new hn(NaN,NaN,NaN,0):null}function y2(e){return new hn(e>>16&255,e>>8&255,e&255,1)}function ku(e,r,n,a){return a<=0&&(e=r=n=NaN),new hn(e,r,n,a)}function GR(e){return e instanceof zc||(e=jc(e)),e?(e=e.rgb(),new hn(e.r,e.g,e.b,e.opacity)):new hn}function dg(e,r,n,a){return arguments.length===1?GR(e):new hn(e,r,n,a??1)}function hn(e,r,n,a){this.r=+e,this.g=+r,this.b=+n,this.opacity=+a}vy(hn,dg,x4(zc,{brighter(e){return e=e==null?gm:Math.pow(gm,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vc:Math.pow(vc,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hn(Ni(this.r),Ni(this.g),Ni(this.b),ym(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:v2,formatHex:v2,formatHex8:YR,formatRgb:b2,toString:b2}));function v2(){return`#${hi(this.r)}${hi(this.g)}${hi(this.b)}`}function YR(){return`#${hi(this.r)}${hi(this.g)}${hi(this.b)}${hi((isNaN(this.opacity)?1:this.opacity)*255)}`}function b2(){const e=ym(this.opacity);return`${e===1?"rgb(":"rgba("}${Ni(this.r)}, ${Ni(this.g)}, ${Ni(this.b)}${e===1?")":`, ${e})`}`}function ym(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ni(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hi(e){return e=Ni(e),(e<16?"0":"")+e.toString(16)}function j2(e,r,n,a){return a<=0?e=r=n=NaN:n<=0||n>=1?e=r=NaN:r<=0&&(e=NaN),new sa(e,r,n,a)}function g4(e){if(e instanceof sa)return new sa(e.h,e.s,e.l,e.opacity);if(e instanceof zc||(e=jc(e)),!e)return new sa;if(e instanceof sa)return e;e=e.rgb();var r=e.r/255,n=e.g/255,a=e.b/255,s=Math.min(r,n,a),i=Math.max(r,n,a),o=NaN,d=i-s,u=(i+s)/2;return d?(r===i?o=(n-a)/d+(n<a)*6:n===i?o=(a-r)/d+2:o=(r-n)/d+4,d/=u<.5?i+s:2-i-s,o*=60):d=u>0&&u<1?0:o,new sa(o,d,u,e.opacity)}function ZR(e,r,n,a){return arguments.length===1?g4(e):new sa(e,r,n,a??1)}function sa(e,r,n,a){this.h=+e,this.s=+r,this.l=+n,this.opacity=+a}vy(sa,ZR,x4(zc,{brighter(e){return e=e==null?gm:Math.pow(gm,e),new sa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vc:Math.pow(vc,e),new sa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*r,s=2*n-a;return new hn(Ux(e>=240?e-240:e+120,s,a),Ux(e,s,a),Ux(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new sa(w2(this.h),Su(this.s),Su(this.l),ym(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ym(this.opacity);return`${e===1?"hsl(":"hsla("}${w2(this.h)}, ${Su(this.s)*100}%, ${Su(this.l)*100}%${e===1?")":`, ${e})`}`}}));function w2(e){return e=(e||0)%360,e<0?e+360:e}function Su(e){return Math.max(0,Math.min(1,e||0))}function Ux(e,r,n){return(e<60?r+(n-r)*e/60:e<180?n:e<240?r+(n-r)*(240-e)/60:r)*255}const by=e=>()=>e;function XR(e,r){return function(n){return e+n*r}}function JR(e,r,n){return e=Math.pow(e,n),r=Math.pow(r,n)-e,n=1/n,function(a){return Math.pow(e+a*r,n)}}function QR(e){return(e=+e)==1?y4:function(r,n){return n-r?JR(r,n,e):by(isNaN(r)?n:r)}}function y4(e,r){var n=r-e;return n?XR(e,n):by(isNaN(e)?r:e)}const N2=(function e(r){var n=QR(r);function a(s,i){var o=n((s=dg(s)).r,(i=dg(i)).r),d=n(s.g,i.g),u=n(s.b,i.b),h=y4(s.opacity,i.opacity);return function(m){return s.r=o(m),s.g=d(m),s.b=u(m),s.opacity=h(m),s+""}}return a.gamma=e,a})(1);function e7(e,r){r||(r=[]);var n=e?Math.min(r.length,e.length):0,a=r.slice(),s;return function(i){for(s=0;s<n;++s)a[s]=e[s]*(1-i)+r[s]*i;return a}}function t7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function r7(e,r){var n=r?r.length:0,a=e?Math.min(n,e.length):0,s=new Array(a),i=new Array(n),o;for(o=0;o<a;++o)s[o]=Xl(e[o],r[o]);for(;o<n;++o)i[o]=r[o];return function(d){for(o=0;o<a;++o)i[o]=s[o](d);return i}}function n7(e,r){var n=new Date;return e=+e,r=+r,function(a){return n.setTime(e*(1-a)+r*a),n}}function vm(e,r){return e=+e,r=+r,function(n){return e*(1-n)+r*n}}function a7(e,r){var n={},a={},s;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(s in r)s in e?n[s]=Xl(e[s],r[s]):a[s]=r[s];return function(i){for(s in n)a[s]=n[s](i);return a}}var ug=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wx=new RegExp(ug.source,"g");function s7(e){return function(){return e}}function i7(e){return function(r){return e(r)+""}}function l7(e,r){var n=ug.lastIndex=Wx.lastIndex=0,a,s,i,o=-1,d=[],u=[];for(e=e+"",r=r+"";(a=ug.exec(e))&&(s=Wx.exec(r));)(i=s.index)>n&&(i=r.slice(n,i),d[o]?d[o]+=i:d[++o]=i),(a=a[0])===(s=s[0])?d[o]?d[o]+=s:d[++o]=s:(d[++o]=null,u.push({i:o,x:vm(a,s)})),n=Wx.lastIndex;return n<r.length&&(i=r.slice(n),d[o]?d[o]+=i:d[++o]=i),d.length<2?u[0]?i7(u[0].x):s7(r):(r=u.length,function(h){for(var m=0,p;m<r;++m)d[(p=u[m]).i]=p.x(h);return d.join("")})}function Xl(e,r){var n=typeof r,a;return r==null||n==="boolean"?by(r):(n==="number"?vm:n==="string"?(a=jc(r))?(r=a,N2):l7:r instanceof jc?N2:r instanceof Date?n7:t7(r)?e7:Array.isArray(r)?r7:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?a7:vm)(e,r)}function jy(e,r){return e=+e,r=+r,function(n){return Math.round(e*(1-n)+r*n)}}function o7(e,r){r===void 0&&(r=e,e=Xl);for(var n=0,a=r.length-1,s=r[0],i=new Array(a<0?0:a);n<a;)i[n]=e(s,s=r[++n]);return function(o){var d=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[d](o-d)}}function c7(e){return function(){return e}}function bm(e){return+e}var _2=[0,1];function Qr(e){return e}function mg(e,r){return(r-=e=+e)?function(n){return(n-e)/r}:c7(isNaN(r)?NaN:.5)}function d7(e,r){var n;return e>r&&(n=e,e=r,r=n),function(a){return Math.max(e,Math.min(r,a))}}function u7(e,r,n){var a=e[0],s=e[1],i=r[0],o=r[1];return s<a?(a=mg(s,a),i=n(o,i)):(a=mg(a,s),i=n(i,o)),function(d){return i(a(d))}}function m7(e,r,n){var a=Math.min(e.length,r.length)-1,s=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++o<a;)s[o]=mg(e[o],e[o+1]),i[o]=n(r[o],r[o+1]);return function(d){var u=Fc(e,d,1,a)-1;return i[u](s[u](d))}}function Bc(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function sf(){var e=_2,r=_2,n=Xl,a,s,i,o=Qr,d,u,h;function m(){var y=Math.min(e.length,r.length);return o!==Qr&&(o=d7(e[0],e[y-1])),d=y>2?m7:u7,u=h=null,p}function p(y){return y==null||isNaN(y=+y)?i:(u||(u=d(e.map(a),r,n)))(a(o(y)))}return p.invert=function(y){return o(s((h||(h=d(r,e.map(a),vm)))(y)))},p.domain=function(y){return arguments.length?(e=Array.from(y,bm),m()):e.slice()},p.range=function(y){return arguments.length?(r=Array.from(y),m()):r.slice()},p.rangeRound=function(y){return r=Array.from(y),n=jy,m()},p.clamp=function(y){return arguments.length?(o=y?!0:Qr,m()):o!==Qr},p.interpolate=function(y){return arguments.length?(n=y,m()):n},p.unknown=function(y){return arguments.length?(i=y,p):i},function(y,v){return a=y,s=v,m()}}function wy(){return sf()(Qr,Qr)}function f7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function jm(e,r){if((n=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function Rl(e){return e=jm(Math.abs(e)),e?e[1]:NaN}function h7(e,r){return function(n,a){for(var s=n.length,i=[],o=0,d=e[0],u=0;s>0&&d>0&&(u+d+1>a&&(d=Math.max(1,a-u)),i.push(n.substring(s-=d,s+d)),!((u+=d+1)>a));)d=e[o=(o+1)%e.length];return i.reverse().join(r)}}function p7(e){return function(r){return r.replace(/[0-9]/g,function(n){return e[+n]})}}var x7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wc(e){if(!(r=x7.exec(e)))throw new Error("invalid format: "+e);var r;return new Ny({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}wc.prototype=Ny.prototype;function Ny(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ny.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function g7(e){e:for(var r=e.length,n=1,a=-1,s;n<r;++n)switch(e[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;default:if(!+e[n])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var v4;function y7(e,r){var n=jm(e,r);if(!n)return e+"";var a=n[0],s=n[1],i=s-(v4=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+jm(e,Math.max(0,r+i-1))[0]}function k2(e,r){var n=jm(e,r);if(!n)return e+"";var a=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const S2={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:f7,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>k2(e*100,r),r:k2,s:y7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function C2(e){return e}var P2=Array.prototype.map,E2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function v7(e){var r=e.grouping===void 0||e.thousands===void 0?C2:h7(P2.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?C2:p7(P2.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function h(p){p=wc(p);var y=p.fill,v=p.align,j=p.sign,b=p.symbol,N=p.zero,S=p.width,C=p.comma,_=p.precision,P=p.trim,O=p.type;O==="n"?(C=!0,O="g"):S2[O]||(_===void 0&&(_=12),P=!0,O="g"),(N||y==="0"&&v==="=")&&(N=!0,y="0",v="=");var E=b==="$"?n:b==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",T=b==="$"?a:/[%p]/.test(O)?o:"",$=S2[O],D=/[defgprs%]/.test(O);_=_===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function z(I){var F=E,M=T,B,G,ee;if(O==="c")M=$(I)+M,I="";else{I=+I;var L=I<0||1/I<0;if(I=isNaN(I)?u:$(Math.abs(I),_),P&&(I=g7(I)),L&&+I==0&&j!=="+"&&(L=!1),F=(L?j==="("?j:d:j==="-"||j==="("?"":j)+F,M=(O==="s"?E2[8+v4/3]:"")+M+(L&&j==="("?")":""),D){for(B=-1,G=I.length;++B<G;)if(ee=I.charCodeAt(B),48>ee||ee>57){M=(ee===46?s+I.slice(B+1):I.slice(B))+M,I=I.slice(0,B);break}}}C&&!N&&(I=r(I,1/0));var H=F.length+I.length+M.length,te=H<S?new Array(S-H+1).join(y):"";switch(C&&N&&(I=r(te+I,te.length?S-M.length:1/0),te=""),v){case"<":I=F+I+M+te;break;case"=":I=F+te+I+M;break;case"^":I=te.slice(0,H=te.length>>1)+F+I+M+te.slice(H);break;default:I=te+F+I+M;break}return i(I)}return z.toString=function(){return p+""},z}function m(p,y){var v=h((p=wc(p),p.type="f",p)),j=Math.max(-8,Math.min(8,Math.floor(Rl(y)/3)))*3,b=Math.pow(10,-j),N=E2[8+j/3];return function(S){return v(b*S)+N}}return{format:h,formatPrefix:m}}var Cu,_y,b4;b7({thousands:",",grouping:[3],currency:["$",""]});function b7(e){return Cu=v7(e),_y=Cu.format,b4=Cu.formatPrefix,Cu}function j7(e){return Math.max(0,-Rl(Math.abs(e)))}function w7(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rl(r)/3)))*3-Rl(Math.abs(e)))}function N7(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,Rl(r)-Rl(e))+1}function j4(e,r,n,a){var s=og(e,r,n),i;switch(a=wc(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(r));return a.precision==null&&!isNaN(i=w7(s,o))&&(a.precision=i),b4(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=N7(s,Math.max(Math.abs(e),Math.abs(r))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=j7(s))&&(a.precision=i-(a.type==="%")*2);break}}return _y(a)}function Gs(e){var r=e.domain;return e.ticks=function(n){var a=r();return ig(a[0],a[a.length-1],n??10)},e.tickFormat=function(n,a){var s=r();return j4(s[0],s[s.length-1],n??10,a)},e.nice=function(n){n==null&&(n=10);var a=r(),s=0,i=a.length-1,o=a[s],d=a[i],u,h,m=10;for(d<o&&(h=o,o=d,d=h,h=s,s=i,i=h);m-- >0;){if(h=lg(o,d,n),h===u)return a[s]=o,a[i]=d,r(a);if(h>0)o=Math.floor(o/h)*h,d=Math.ceil(d/h)*h;else if(h<0)o=Math.ceil(o*h)/h,d=Math.floor(d*h)/h;else break;u=h}return e},e}function w4(){var e=wy();return e.copy=function(){return Bc(e,w4())},Zn.apply(e,arguments),Gs(e)}function N4(e){var r;function n(a){return a==null||isNaN(a=+a)?r:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(e=Array.from(a,bm),n):e.slice()},n.unknown=function(a){return arguments.length?(r=a,n):r},n.copy=function(){return N4(e).unknown(r)},e=arguments.length?Array.from(e,bm):[0,1],Gs(n)}function _4(e,r){e=e.slice();var n=0,a=e.length-1,s=e[n],i=e[a],o;return i<s&&(o=n,n=a,a=o,o=s,s=i,i=o),e[n]=r.floor(s),e[a]=r.ceil(i),e}function O2(e){return Math.log(e)}function A2(e){return Math.exp(e)}function _7(e){return-Math.log(-e)}function k7(e){return-Math.exp(-e)}function S7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function C7(e){return e===10?S7:e===Math.E?Math.exp:r=>Math.pow(e,r)}function P7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),r=>Math.log(r)/e)}function T2(e){return(r,n)=>-e(-r,n)}function ky(e){const r=e(O2,A2),n=r.domain;let a=10,s,i;function o(){return s=P7(a),i=C7(a),n()[0]<0?(s=T2(s),i=T2(i),e(_7,k7)):e(O2,A2),r}return r.base=function(d){return arguments.length?(a=+d,o()):a},r.domain=function(d){return arguments.length?(n(d),o()):n()},r.ticks=d=>{const u=n();let h=u[0],m=u[u.length-1];const p=m<h;p&&([h,m]=[m,h]);let y=s(h),v=s(m),j,b;const N=d==null?10:+d;let S=[];if(!(a%1)&&v-y<N){if(y=Math.floor(y),v=Math.ceil(v),h>0){for(;y<=v;++y)for(j=1;j<a;++j)if(b=y<0?j/i(-y):j*i(y),!(b<h)){if(b>m)break;S.push(b)}}else for(;y<=v;++y)for(j=a-1;j>=1;--j)if(b=y>0?j/i(-y):j*i(y),!(b<h)){if(b>m)break;S.push(b)}S.length*2<N&&(S=ig(h,m,N))}else S=ig(y,v,Math.min(v-y,N)).map(i);return p?S.reverse():S},r.tickFormat=(d,u)=>{if(d==null&&(d=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=wc(u)).precision==null&&(u.trim=!0),u=_y(u)),d===1/0)return u;const h=Math.max(1,a*d/r.ticks().length);return m=>{let p=m/i(Math.round(s(m)));return p*a<a-.5&&(p*=a),p<=h?u(m):""}},r.nice=()=>n(_4(n(),{floor:d=>i(Math.floor(s(d))),ceil:d=>i(Math.ceil(s(d)))})),r}function k4(){const e=ky(sf()).domain([1,10]);return e.copy=()=>Bc(e,k4()).base(e.base()),Zn.apply(e,arguments),e}function M2(e){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/e))}}function D2(e){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*e}}function Sy(e){var r=1,n=e(M2(r),D2(r));return n.constant=function(a){return arguments.length?e(M2(r=+a),D2(r)):r},Gs(n)}function S4(){var e=Sy(sf());return e.copy=function(){return Bc(e,S4()).constant(e.constant())},Zn.apply(e,arguments)}function $2(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function E7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function O7(e){return e<0?-e*e:e*e}function Cy(e){var r=e(Qr,Qr),n=1;function a(){return n===1?e(Qr,Qr):n===.5?e(E7,O7):e($2(n),$2(1/n))}return r.exponent=function(s){return arguments.length?(n=+s,a()):n},Gs(r)}function Py(){var e=Cy(sf());return e.copy=function(){return Bc(e,Py()).exponent(e.exponent())},Zn.apply(e,arguments),e}function A7(){return Py.apply(null,arguments).exponent(.5)}function I2(e){return Math.sign(e)*e*e}function T7(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function C4(){var e=wy(),r=[0,1],n=!1,a;function s(i){var o=T7(e(i));return isNaN(o)?a:n?Math.round(o):o}return s.invert=function(i){return e.invert(I2(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((r=Array.from(i,bm)).map(I2)),s):r.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return C4(e.domain(),r).round(n).clamp(e.clamp()).unknown(a)},Zn.apply(s,arguments),Gs(s)}function P4(){var e=[],r=[],n=[],a;function s(){var o=0,d=Math.max(1,r.length);for(n=new Array(d-1);++o<d;)n[o-1]=IR(e,o/d);return i}function i(o){return o==null||isNaN(o=+o)?a:r[Fc(n,o)]}return i.invertExtent=function(o){var d=r.indexOf(o);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let d of o)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(zs),s()},i.range=function(o){return arguments.length?(r=Array.from(o),s()):r.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return n.slice()},i.copy=function(){return P4().domain(e).range(r).unknown(a)},Zn.apply(i,arguments)}function E4(){var e=0,r=1,n=1,a=[.5],s=[0,1],i;function o(u){return u!=null&&u<=u?s[Fc(a,u,0,n)]:i}function d(){var u=-1;for(a=new Array(n);++u<n;)a[u]=((u+1)*r-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,r]=u,e=+e,r=+r,d()):[e,r]},o.range=function(u){return arguments.length?(n=(s=Array.from(u)).length-1,d()):s.slice()},o.invertExtent=function(u){var h=s.indexOf(u);return h<0?[NaN,NaN]:h<1?[e,a[0]]:h>=n?[a[n-1],r]:[a[h-1],a[h]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return a.slice()},o.copy=function(){return E4().domain([e,r]).range(s).unknown(i)},Zn.apply(Gs(o),arguments)}function O4(){var e=[.5],r=[0,1],n,a=1;function s(i){return i!=null&&i<=i?r[Fc(e,i,0,a)]:n}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,r.length-1),s):e.slice()},s.range=function(i){return arguments.length?(r=Array.from(i),a=Math.min(e.length,r.length-1),s):r.slice()},s.invertExtent=function(i){var o=r.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return O4().domain(e).range(r).unknown(n)},Zn.apply(s,arguments)}const qx=new Date,Hx=new Date;function pr(e,r,n,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),r(i,1),e(i),i),s.round=i=>{const o=s(i),d=s.ceil(i);return i-o<d-i?o:d},s.offset=(i,o)=>(r(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,d)=>{const u=[];if(i=s.ceil(i),d=d==null?1:Math.floor(d),!(i<o)||!(d>0))return u;let h;do u.push(h=new Date(+i)),r(i,d),e(i);while(h<i&&i<o);return u},s.filter=i=>pr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,d)=>{if(o>=o)if(d<0)for(;++d<=0;)for(;r(o,-1),!i(o););else for(;--d>=0;)for(;r(o,1),!i(o););}),n&&(s.count=(i,o)=>(qx.setTime(+i),Hx.setTime(+o),e(qx),e(Hx),Math.floor(n(qx,Hx))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?o=>a(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const wm=pr(()=>{},(e,r)=>{e.setTime(+e+r)},(e,r)=>r-e);wm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?pr(r=>{r.setTime(Math.floor(r/e)*e)},(r,n)=>{r.setTime(+r+n*e)},(r,n)=>(n-r)/e):wm);wm.range;const Wa=1e3,qn=Wa*60,qa=qn*60,es=qa*24,Ey=es*7,L2=es*30,Kx=es*365,pi=pr(e=>{e.setTime(e-e.getMilliseconds())},(e,r)=>{e.setTime(+e+r*Wa)},(e,r)=>(r-e)/Wa,e=>e.getUTCSeconds());pi.range;const Oy=pr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wa)},(e,r)=>{e.setTime(+e+r*qn)},(e,r)=>(r-e)/qn,e=>e.getMinutes());Oy.range;const Ay=pr(e=>{e.setUTCSeconds(0,0)},(e,r)=>{e.setTime(+e+r*qn)},(e,r)=>(r-e)/qn,e=>e.getUTCMinutes());Ay.range;const Ty=pr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wa-e.getMinutes()*qn)},(e,r)=>{e.setTime(+e+r*qa)},(e,r)=>(r-e)/qa,e=>e.getHours());Ty.range;const My=pr(e=>{e.setUTCMinutes(0,0,0)},(e,r)=>{e.setTime(+e+r*qa)},(e,r)=>(r-e)/qa,e=>e.getUTCHours());My.range;const Uc=pr(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*qn)/es,e=>e.getDate()-1);Uc.range;const lf=pr(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/es,e=>e.getUTCDate()-1);lf.range;const A4=pr(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/es,e=>Math.floor(e/es));A4.range;function Ri(e){return pr(r=>{r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},(r,n)=>{r.setDate(r.getDate()+n*7)},(r,n)=>(n-r-(n.getTimezoneOffset()-r.getTimezoneOffset())*qn)/Ey)}const of=Ri(0),Nm=Ri(1),M7=Ri(2),D7=Ri(3),Fl=Ri(4),$7=Ri(5),I7=Ri(6);of.range;Nm.range;M7.range;D7.range;Fl.range;$7.range;I7.range;function Fi(e){return pr(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCDate(r.getUTCDate()+n*7)},(r,n)=>(n-r)/Ey)}const cf=Fi(0),_m=Fi(1),L7=Fi(2),R7=Fi(3),zl=Fi(4),F7=Fi(5),z7=Fi(6);cf.range;_m.range;L7.range;R7.range;zl.range;F7.range;z7.range;const Dy=pr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,r)=>{e.setMonth(e.getMonth()+r)},(e,r)=>r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Dy.range;const $y=pr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCMonth(e.getUTCMonth()+r)},(e,r)=>r.getUTCMonth()-e.getUTCMonth()+(r.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());$y.range;const ts=pr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r)},(e,r)=>r.getFullYear()-e.getFullYear(),e=>e.getFullYear());ts.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pr(r=>{r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,n)=>{r.setFullYear(r.getFullYear()+n*e)});ts.range;const rs=pr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r)},(e,r)=>r.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());rs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pr(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCFullYear(r.getUTCFullYear()+n*e)});rs.range;function T4(e,r,n,a,s,i){const o=[[pi,1,Wa],[pi,5,5*Wa],[pi,15,15*Wa],[pi,30,30*Wa],[i,1,qn],[i,5,5*qn],[i,15,15*qn],[i,30,30*qn],[s,1,qa],[s,3,3*qa],[s,6,6*qa],[s,12,12*qa],[a,1,es],[a,2,2*es],[n,1,Ey],[r,1,L2],[r,3,3*L2],[e,1,Kx]];function d(h,m,p){const y=m<h;y&&([h,m]=[m,h]);const v=p&&typeof p.range=="function"?p:u(h,m,p),j=v?v.range(h,+m+1):[];return y?j.reverse():j}function u(h,m,p){const y=Math.abs(m-h)/p,v=xy(([,,N])=>N).right(o,y);if(v===o.length)return e.every(og(h/Kx,m/Kx,p));if(v===0)return wm.every(Math.max(og(h,m,p),1));const[j,b]=o[y/o[v-1][2]<o[v][2]/y?v-1:v];return j.every(b)}return[d,u]}const[B7,U7]=T4(rs,$y,cf,A4,My,Ay),[W7,q7]=T4(ts,Dy,of,Uc,Ty,Oy);function Vx(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gx(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Zo(e,r,n){return{y:e,m:r,d:n,H:0,M:0,S:0,L:0}}function H7(e){var r=e.dateTime,n=e.date,a=e.time,s=e.periods,i=e.days,o=e.shortDays,d=e.months,u=e.shortMonths,h=Xo(s),m=Jo(s),p=Xo(i),y=Jo(i),v=Xo(o),j=Jo(o),b=Xo(d),N=Jo(d),S=Xo(u),C=Jo(u),_={a:L,A:H,b:te,B:se,c:null,d:W2,e:W2,f:hF,g:_F,G:SF,H:uF,I:mF,j:fF,L:M4,m:pF,M:xF,p:U,q:ne,Q:K2,s:V2,S:gF,u:yF,U:vF,V:bF,w:jF,W:wF,x:null,X:null,y:NF,Y:kF,Z:CF,"%":H2},P={a:Y,A:K,b:ie,B:ae,c:null,d:q2,e:q2,f:AF,g:BF,G:WF,H:PF,I:EF,j:OF,L:$4,m:TF,M:MF,p:J,q:ve,Q:K2,s:V2,S:DF,u:$F,U:IF,V:LF,w:RF,W:FF,x:null,X:null,y:zF,Y:UF,Z:qF,"%":H2},O={a:z,A:I,b:F,B:M,c:B,d:B2,e:B2,f:lF,g:z2,G:F2,H:U2,I:U2,j:nF,L:iF,m:rF,M:aF,p:D,q:tF,Q:cF,s:dF,S:sF,u:Z7,U:X7,V:J7,w:Y7,W:Q7,x:G,X:ee,y:z2,Y:F2,Z:eF,"%":oF};_.x=E(n,_),_.X=E(a,_),_.c=E(r,_),P.x=E(n,P),P.X=E(a,P),P.c=E(r,P);function E(Q,ye){return function(Ae){var le=[],He=-1,$e=0,ct=Q.length,Je,Qe,sr;for(Ae instanceof Date||(Ae=new Date(+Ae));++He<ct;)Q.charCodeAt(He)===37&&(le.push(Q.slice($e,He)),(Qe=R2[Je=Q.charAt(++He)])!=null?Je=Q.charAt(++He):Qe=Je==="e"?" ":"0",(sr=ye[Je])&&(Je=sr(Ae,Qe)),le.push(Je),$e=He+1);return le.push(Q.slice($e,He)),le.join("")}}function T(Q,ye){return function(Ae){var le=Zo(1900,void 0,1),He=$(le,Q,Ae+="",0),$e,ct;if(He!=Ae.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(ye&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?($e=Gx(Zo(le.y,0,1)),ct=$e.getUTCDay(),$e=ct>4||ct===0?_m.ceil($e):_m($e),$e=lf.offset($e,(le.V-1)*7),le.y=$e.getUTCFullYear(),le.m=$e.getUTCMonth(),le.d=$e.getUTCDate()+(le.w+6)%7):($e=Vx(Zo(le.y,0,1)),ct=$e.getDay(),$e=ct>4||ct===0?Nm.ceil($e):Nm($e),$e=Uc.offset($e,(le.V-1)*7),le.y=$e.getFullYear(),le.m=$e.getMonth(),le.d=$e.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),ct="Z"in le?Gx(Zo(le.y,0,1)).getUTCDay():Vx(Zo(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(ct+5)%7:le.w+le.U*7-(ct+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,Gx(le)):Vx(le)}}function $(Q,ye,Ae,le){for(var He=0,$e=ye.length,ct=Ae.length,Je,Qe;He<$e;){if(le>=ct)return-1;if(Je=ye.charCodeAt(He++),Je===37){if(Je=ye.charAt(He++),Qe=O[Je in R2?ye.charAt(He++):Je],!Qe||(le=Qe(Q,Ae,le))<0)return-1}else if(Je!=Ae.charCodeAt(le++))return-1}return le}function D(Q,ye,Ae){var le=h.exec(ye.slice(Ae));return le?(Q.p=m.get(le[0].toLowerCase()),Ae+le[0].length):-1}function z(Q,ye,Ae){var le=v.exec(ye.slice(Ae));return le?(Q.w=j.get(le[0].toLowerCase()),Ae+le[0].length):-1}function I(Q,ye,Ae){var le=p.exec(ye.slice(Ae));return le?(Q.w=y.get(le[0].toLowerCase()),Ae+le[0].length):-1}function F(Q,ye,Ae){var le=S.exec(ye.slice(Ae));return le?(Q.m=C.get(le[0].toLowerCase()),Ae+le[0].length):-1}function M(Q,ye,Ae){var le=b.exec(ye.slice(Ae));return le?(Q.m=N.get(le[0].toLowerCase()),Ae+le[0].length):-1}function B(Q,ye,Ae){return $(Q,r,ye,Ae)}function G(Q,ye,Ae){return $(Q,n,ye,Ae)}function ee(Q,ye,Ae){return $(Q,a,ye,Ae)}function L(Q){return o[Q.getDay()]}function H(Q){return i[Q.getDay()]}function te(Q){return u[Q.getMonth()]}function se(Q){return d[Q.getMonth()]}function U(Q){return s[+(Q.getHours()>=12)]}function ne(Q){return 1+~~(Q.getMonth()/3)}function Y(Q){return o[Q.getUTCDay()]}function K(Q){return i[Q.getUTCDay()]}function ie(Q){return u[Q.getUTCMonth()]}function ae(Q){return d[Q.getUTCMonth()]}function J(Q){return s[+(Q.getUTCHours()>=12)]}function ve(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var ye=E(Q+="",_);return ye.toString=function(){return Q},ye},parse:function(Q){var ye=T(Q+="",!1);return ye.toString=function(){return Q},ye},utcFormat:function(Q){var ye=E(Q+="",P);return ye.toString=function(){return Q},ye},utcParse:function(Q){var ye=T(Q+="",!0);return ye.toString=function(){return Q},ye}}}var R2={"-":"",_:" ",0:"0"},_r=/^\s*\d+/,K7=/^%/,V7=/[\\^$*+?|[\]().{}]/g;function lt(e,r,n){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<n?new Array(n-i+1).join(r)+s:s)}function G7(e){return e.replace(V7,"\\$&")}function Xo(e){return new RegExp("^(?:"+e.map(G7).join("|")+")","i")}function Jo(e){return new Map(e.map((r,n)=>[r.toLowerCase(),n]))}function Y7(e,r,n){var a=_r.exec(r.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function Z7(e,r,n){var a=_r.exec(r.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function X7(e,r,n){var a=_r.exec(r.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function J7(e,r,n){var a=_r.exec(r.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function Q7(e,r,n){var a=_r.exec(r.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function F2(e,r,n){var a=_r.exec(r.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function z2(e,r,n){var a=_r.exec(r.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function eF(e,r,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function tF(e,r,n){var a=_r.exec(r.slice(n,n+1));return a?(e.q=a[0]*3-3,n+a[0].length):-1}function rF(e,r,n){var a=_r.exec(r.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function B2(e,r,n){var a=_r.exec(r.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function nF(e,r,n){var a=_r.exec(r.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function U2(e,r,n){var a=_r.exec(r.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function aF(e,r,n){var a=_r.exec(r.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function sF(e,r,n){var a=_r.exec(r.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function iF(e,r,n){var a=_r.exec(r.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function lF(e,r,n){var a=_r.exec(r.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function oF(e,r,n){var a=K7.exec(r.slice(n,n+1));return a?n+a[0].length:-1}function cF(e,r,n){var a=_r.exec(r.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function dF(e,r,n){var a=_r.exec(r.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function W2(e,r){return lt(e.getDate(),r,2)}function uF(e,r){return lt(e.getHours(),r,2)}function mF(e,r){return lt(e.getHours()%12||12,r,2)}function fF(e,r){return lt(1+Uc.count(ts(e),e),r,3)}function M4(e,r){return lt(e.getMilliseconds(),r,3)}function hF(e,r){return M4(e,r)+"000"}function pF(e,r){return lt(e.getMonth()+1,r,2)}function xF(e,r){return lt(e.getMinutes(),r,2)}function gF(e,r){return lt(e.getSeconds(),r,2)}function yF(e){var r=e.getDay();return r===0?7:r}function vF(e,r){return lt(of.count(ts(e)-1,e),r,2)}function D4(e){var r=e.getDay();return r>=4||r===0?Fl(e):Fl.ceil(e)}function bF(e,r){return e=D4(e),lt(Fl.count(ts(e),e)+(ts(e).getDay()===4),r,2)}function jF(e){return e.getDay()}function wF(e,r){return lt(Nm.count(ts(e)-1,e),r,2)}function NF(e,r){return lt(e.getFullYear()%100,r,2)}function _F(e,r){return e=D4(e),lt(e.getFullYear()%100,r,2)}function kF(e,r){return lt(e.getFullYear()%1e4,r,4)}function SF(e,r){var n=e.getDay();return e=n>=4||n===0?Fl(e):Fl.ceil(e),lt(e.getFullYear()%1e4,r,4)}function CF(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+lt(r/60|0,"0",2)+lt(r%60,"0",2)}function q2(e,r){return lt(e.getUTCDate(),r,2)}function PF(e,r){return lt(e.getUTCHours(),r,2)}function EF(e,r){return lt(e.getUTCHours()%12||12,r,2)}function OF(e,r){return lt(1+lf.count(rs(e),e),r,3)}function $4(e,r){return lt(e.getUTCMilliseconds(),r,3)}function AF(e,r){return $4(e,r)+"000"}function TF(e,r){return lt(e.getUTCMonth()+1,r,2)}function MF(e,r){return lt(e.getUTCMinutes(),r,2)}function DF(e,r){return lt(e.getUTCSeconds(),r,2)}function $F(e){var r=e.getUTCDay();return r===0?7:r}function IF(e,r){return lt(cf.count(rs(e)-1,e),r,2)}function I4(e){var r=e.getUTCDay();return r>=4||r===0?zl(e):zl.ceil(e)}function LF(e,r){return e=I4(e),lt(zl.count(rs(e),e)+(rs(e).getUTCDay()===4),r,2)}function RF(e){return e.getUTCDay()}function FF(e,r){return lt(_m.count(rs(e)-1,e),r,2)}function zF(e,r){return lt(e.getUTCFullYear()%100,r,2)}function BF(e,r){return e=I4(e),lt(e.getUTCFullYear()%100,r,2)}function UF(e,r){return lt(e.getUTCFullYear()%1e4,r,4)}function WF(e,r){var n=e.getUTCDay();return e=n>=4||n===0?zl(e):zl.ceil(e),lt(e.getUTCFullYear()%1e4,r,4)}function qF(){return"+0000"}function H2(){return"%"}function K2(e){return+e}function V2(e){return Math.floor(+e/1e3)}var ml,L4,R4;HF({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function HF(e){return ml=H7(e),L4=ml.format,ml.parse,R4=ml.utcFormat,ml.utcParse,ml}function KF(e){return new Date(e)}function VF(e){return e instanceof Date?+e:+new Date(+e)}function Iy(e,r,n,a,s,i,o,d,u,h){var m=wy(),p=m.invert,y=m.domain,v=h(".%L"),j=h(":%S"),b=h("%I:%M"),N=h("%I %p"),S=h("%a %d"),C=h("%b %d"),_=h("%B"),P=h("%Y");function O(E){return(u(E)<E?v:d(E)<E?j:o(E)<E?b:i(E)<E?N:a(E)<E?s(E)<E?S:C:n(E)<E?_:P)(E)}return m.invert=function(E){return new Date(p(E))},m.domain=function(E){return arguments.length?y(Array.from(E,VF)):y().map(KF)},m.ticks=function(E){var T=y();return e(T[0],T[T.length-1],E??10)},m.tickFormat=function(E,T){return T==null?O:h(T)},m.nice=function(E){var T=y();return(!E||typeof E.range!="function")&&(E=r(T[0],T[T.length-1],E??10)),E?y(_4(T,E)):m},m.copy=function(){return Bc(m,Iy(e,r,n,a,s,i,o,d,u,h))},m}function GF(){return Zn.apply(Iy(W7,q7,ts,Dy,of,Uc,Ty,Oy,pi,L4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YF(){return Zn.apply(Iy(B7,U7,rs,$y,cf,lf,My,Ay,pi,R4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function df(){var e=0,r=1,n,a,s,i,o=Qr,d=!1,u;function h(p){return p==null||isNaN(p=+p)?u:o(s===0?.5:(p=(i(p)-n)*s,d?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,r]=p,n=i(e=+e),a=i(r=+r),s=n===a?0:1/(a-n),h):[e,r]},h.clamp=function(p){return arguments.length?(d=!!p,h):d},h.interpolator=function(p){return arguments.length?(o=p,h):o};function m(p){return function(y){var v,j;return arguments.length?([v,j]=y,o=p(v,j),h):[o(0),o(1)]}}return h.range=m(Xl),h.rangeRound=m(jy),h.unknown=function(p){return arguments.length?(u=p,h):u},function(p){return i=p,n=p(e),a=p(r),s=n===a?0:1/(a-n),h}}function Ys(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function F4(){var e=Gs(df()(Qr));return e.copy=function(){return Ys(e,F4())},ls.apply(e,arguments)}function z4(){var e=ky(df()).domain([1,10]);return e.copy=function(){return Ys(e,z4()).base(e.base())},ls.apply(e,arguments)}function B4(){var e=Sy(df());return e.copy=function(){return Ys(e,B4()).constant(e.constant())},ls.apply(e,arguments)}function Ly(){var e=Cy(df());return e.copy=function(){return Ys(e,Ly()).exponent(e.exponent())},ls.apply(e,arguments)}function ZF(){return Ly.apply(null,arguments).exponent(.5)}function U4(){var e=[],r=Qr;function n(a){if(a!=null&&!isNaN(a=+a))return r((Fc(e,a,1)-1)/(e.length-1))}return n.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(zs),n},n.interpolator=function(a){return arguments.length?(r=a,n):r},n.range=function(){return e.map((a,s)=>r(s/(e.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(s,i)=>$R(e,i/a))},n.copy=function(){return U4(r).domain(e)},ls.apply(n,arguments)}function uf(){var e=0,r=.5,n=1,a=1,s,i,o,d,u,h=Qr,m,p=!1,y;function v(b){return isNaN(b=+b)?y:(b=.5+((b=+m(b))-i)*(a*b<a*i?d:u),h(p?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([e,r,n]=b,s=m(e=+e),i=m(r=+r),o=m(n=+n),d=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),a=i<s?-1:1,v):[e,r,n]},v.clamp=function(b){return arguments.length?(p=!!b,v):p},v.interpolator=function(b){return arguments.length?(h=b,v):h};function j(b){return function(N){var S,C,_;return arguments.length?([S,C,_]=N,h=o7(b,[S,C,_]),v):[h(0),h(.5),h(1)]}}return v.range=j(Xl),v.rangeRound=j(jy),v.unknown=function(b){return arguments.length?(y=b,v):y},function(b){return m=b,s=b(e),i=b(r),o=b(n),d=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),a=i<s?-1:1,v}}function W4(){var e=Gs(uf()(Qr));return e.copy=function(){return Ys(e,W4())},ls.apply(e,arguments)}function q4(){var e=ky(uf()).domain([.1,1,10]);return e.copy=function(){return Ys(e,q4()).base(e.base())},ls.apply(e,arguments)}function H4(){var e=Sy(uf());return e.copy=function(){return Ys(e,H4()).constant(e.constant())},ls.apply(e,arguments)}function Ry(){var e=Cy(uf());return e.copy=function(){return Ys(e,Ry()).exponent(e.exponent())},ls.apply(e,arguments)}function XF(){return Ry.apply(null,arguments).exponent(.5)}const sc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:yy,scaleDiverging:W4,scaleDivergingLog:q4,scaleDivergingPow:Ry,scaleDivergingSqrt:XF,scaleDivergingSymlog:H4,scaleIdentity:N4,scaleImplicit:cg,scaleLinear:w4,scaleLog:k4,scaleOrdinal:gy,scalePoint:RR,scalePow:Py,scaleQuantile:P4,scaleQuantize:E4,scaleRadial:C4,scaleSequential:F4,scaleSequentialLog:z4,scaleSequentialPow:Ly,scaleSequentialQuantile:U4,scaleSequentialSqrt:ZF,scaleSequentialSymlog:B4,scaleSqrt:A7,scaleSymlog:S4,scaleThreshold:O4,scaleTime:GF,scaleUtc:YF,tickFormat:j4},Symbol.toStringTag,{value:"Module"}));var Zs=e=>e.chartData,Fy=Z([Zs],e=>{var r=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:r,dataStartIndex:0}}),Wc=(e,r,n,a)=>a?Fy(e):Zs(e);function Ti(e){if(Array.isArray(e)&&e.length===2){var[r,n]=e;if(nr(r)&&nr(n))return!0}return!1}function G2(e,r,n){return n?e:[Math.min(e[0],r[0]),Math.max(e[1],r[1])]}function K4(e,r){if(r&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,a]=e,s,i;if(nr(n))s=n;else if(typeof n=="function")return;if(nr(a))i=a;else if(typeof a=="function")return;var o=[s,i];if(Ti(o))return o}}function JF(e,r,n){if(!(!n&&r==null)){if(typeof e=="function"&&r!=null)try{var a=e(r,n);if(Ti(a))return G2(a,r,n)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,d;if(s==="auto")r!=null&&(o=Math.min(...r));else if(Se(s))o=s;else if(typeof s=="function")try{r!=null&&(o=s(r==null?void 0:r[0]))}catch{}else if(typeof s=="string"&&A1.test(s)){var u=A1.exec(s);if(u==null||r==null)o=void 0;else{var h=+u[1];o=r[0]-h}}else o=r==null?void 0:r[0];if(i==="auto")r!=null&&(d=Math.max(...r));else if(Se(i))d=i;else if(typeof i=="function")try{r!=null&&(d=i(r==null?void 0:r[1]))}catch{}else if(typeof i=="string"&&T1.test(i)){var m=T1.exec(i);if(m==null||r==null)d=void 0;else{var p=+m[1];d=r[1]+p}}else d=r==null?void 0:r[1];var y=[o,d];if(Ti(y))return r==null?y:G2(y,r,n)}}}var Jl=1e9,QF={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},By,Mt=!0,Gn="[DecimalError] ",_i=Gn+"Invalid argument: ",zy=Gn+"Exponent out of range: ",Ql=Math.floor,mi=Math.pow,ez=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kn,wr=1e7,Ct=7,V4=9007199254740991,km=Ql(V4/Ct),Ne={};Ne.absoluteValue=Ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ne.comparedTo=Ne.cmp=function(e){var r,n,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,r=0,n=a<s?a:s;r<n;++r)if(i.d[r]!==e.d[r])return i.d[r]>e.d[r]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var e=this,r=e.d.length-1,n=(r-e.e)*Ct;if(r=e.d[r],r)for(;r%10==0;r/=10)n--;return n<0?0:n};Ne.dividedBy=Ne.div=function(e){return Ga(this,new this.constructor(e))};Ne.dividedToIntegerBy=Ne.idiv=function(e){var r=this,n=r.constructor;return bt(Ga(r,new n(e),0,1),n.precision)};Ne.equals=Ne.eq=function(e){return!this.cmp(e)};Ne.exponent=function(){return rr(this)};Ne.greaterThan=Ne.gt=function(e){return this.cmp(e)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(e){return this.cmp(e)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(e){return this.cmp(e)<0};Ne.lessThanOrEqualTo=Ne.lte=function(e){return this.cmp(e)<1};Ne.logarithm=Ne.log=function(e){var r,n=this,a=n.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(kn))throw Error(Gn+"NaN");if(n.s<1)throw Error(Gn+(n.s?"NaN":"-Infinity"));return n.eq(kn)?new a(0):(Mt=!1,r=Ga(Nc(n,i),Nc(e,i),i),Mt=!0,bt(r,s))};Ne.minus=Ne.sub=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?Z4(r,e):G4(r,(e.s=-e.s,e))};Ne.modulo=Ne.mod=function(e){var r,n=this,a=n.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(Gn+"NaN");return n.s?(Mt=!1,r=Ga(n,e,0,1).times(e),Mt=!0,n.minus(r)):bt(new a(n),s)};Ne.naturalExponential=Ne.exp=function(){return Y4(this)};Ne.naturalLogarithm=Ne.ln=function(){return Nc(this)};Ne.negated=Ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ne.plus=Ne.add=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?G4(r,e):Z4(r,(e.s=-e.s,e))};Ne.precision=Ne.sd=function(e){var r,n,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(_i+e);if(r=rr(s)+1,a=s.d.length-1,n=a*Ct+1,a=s.d[a],a){for(;a%10==0;a/=10)n--;for(a=s.d[0];a>=10;a/=10)n++}return e&&r>n?r:n};Ne.squareRoot=Ne.sqrt=function(){var e,r,n,a,s,i,o,d=this,u=d.constructor;if(d.s<1){if(!d.s)return new u(0);throw Error(Gn+"NaN")}for(e=rr(d),Mt=!1,s=Math.sqrt(+d),s==0||s==1/0?(r=ja(d.d),(r.length+e)%2==0&&(r+="0"),s=Math.sqrt(r),e=Ql((e+1)/2)-(e<0||e%2),s==1/0?r="5e"+e:(r=s.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),a=new u(r)):a=new u(s.toString()),n=u.precision,s=o=n+3;;)if(i=a,a=i.plus(Ga(d,i,o+2)).times(.5),ja(i.d).slice(0,o)===(r=ja(a.d)).slice(0,o)){if(r=r.slice(o-3,o+1),s==o&&r=="4999"){if(bt(i,n+1,0),i.times(i).eq(d)){a=i;break}}else if(r!="9999")break;o+=4}return Mt=!0,bt(a,n)};Ne.times=Ne.mul=function(e){var r,n,a,s,i,o,d,u,h,m=this,p=m.constructor,y=m.d,v=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,n=m.e+e.e,u=y.length,h=v.length,u<h&&(i=y,y=v,v=i,o=u,u=h,h=o),i=[],o=u+h,a=o;a--;)i.push(0);for(a=h;--a>=0;){for(r=0,s=u+a;s>a;)d=i[s]+v[a]*y[s-a-1]+r,i[s--]=d%wr|0,r=d/wr|0;i[s]=(i[s]+r)%wr|0}for(;!i[--o];)i.pop();return r?++n:i.shift(),e.d=i,e.e=n,Mt?bt(e,p.precision):e};Ne.toDecimalPlaces=Ne.todp=function(e,r){var n=this,a=n.constructor;return n=new a(n),e===void 0?n:(Ca(e,0,Jl),r===void 0?r=a.rounding:Ca(r,0,8),bt(n,e+rr(n)+1,r))};Ne.toExponential=function(e,r){var n,a=this,s=a.constructor;return e===void 0?n=Mi(a,!0):(Ca(e,0,Jl),r===void 0?r=s.rounding:Ca(r,0,8),a=bt(new s(a),e+1,r),n=Mi(a,!0,e+1)),n};Ne.toFixed=function(e,r){var n,a,s=this,i=s.constructor;return e===void 0?Mi(s):(Ca(e,0,Jl),r===void 0?r=i.rounding:Ca(r,0,8),a=bt(new i(s),e+rr(s)+1,r),n=Mi(a.abs(),!1,e+rr(a)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Ne.toInteger=Ne.toint=function(){var e=this,r=e.constructor;return bt(new r(e),rr(e)+1,r.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(e){var r,n,a,s,i,o,d=this,u=d.constructor,h=12,m=+(e=new u(e));if(!e.s)return new u(kn);if(d=new u(d),!d.s){if(e.s<1)throw Error(Gn+"Infinity");return d}if(d.eq(kn))return d;if(a=u.precision,e.eq(kn))return bt(d,a);if(r=e.e,n=e.d.length-1,o=r>=n,i=d.s,o){if((n=m<0?-m:m)<=V4){for(s=new u(kn),r=Math.ceil(a/Ct+4),Mt=!1;n%2&&(s=s.times(d),Z2(s.d,r)),n=Ql(n/2),n!==0;)d=d.times(d),Z2(d.d,r);return Mt=!0,e.s<0?new u(kn).div(s):bt(s,a)}}else if(i<0)throw Error(Gn+"NaN");return i=i<0&&e.d[Math.max(r,n)]&1?-1:1,d.s=1,Mt=!1,s=e.times(Nc(d,a+h)),Mt=!0,s=Y4(s),s.s=i,s};Ne.toPrecision=function(e,r){var n,a,s=this,i=s.constructor;return e===void 0?(n=rr(s),a=Mi(s,n<=i.toExpNeg||n>=i.toExpPos)):(Ca(e,1,Jl),r===void 0?r=i.rounding:Ca(r,0,8),s=bt(new i(s),e,r),n=rr(s),a=Mi(s,e<=n||n<=i.toExpNeg,e)),a};Ne.toSignificantDigits=Ne.tosd=function(e,r){var n=this,a=n.constructor;return e===void 0?(e=a.precision,r=a.rounding):(Ca(e,1,Jl),r===void 0?r=a.rounding:Ca(r,0,8)),bt(new a(n),e,r)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,r=rr(e),n=e.constructor;return Mi(e,r<=n.toExpNeg||r>=n.toExpPos)};function G4(e,r){var n,a,s,i,o,d,u,h,m=e.constructor,p=m.precision;if(!e.s||!r.s)return r.s||(r=new m(e)),Mt?bt(r,p):r;if(u=e.d,h=r.d,o=e.e,s=r.e,u=u.slice(),i=o-s,i){for(i<0?(a=u,i=-i,d=h.length):(a=h,s=o,d=u.length),o=Math.ceil(p/Ct),d=o>d?o+1:d+1,i>d&&(i=d,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(d=u.length,i=h.length,d-i<0&&(i=d,a=h,h=u,u=a),n=0;i;)n=(u[--i]=u[i]+h[i]+n)/wr|0,u[i]%=wr;for(n&&(u.unshift(n),++s),d=u.length;u[--d]==0;)u.pop();return r.d=u,r.e=s,Mt?bt(r,p):r}function Ca(e,r,n){if(e!==~~e||e<r||e>n)throw Error(_i+e)}function ja(e){var r,n,a,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,r=1;r<s;r++)a=e[r]+"",n=Ct-a.length,n&&(i+=Ms(n)),i+=a;o=e[r],a=o+"",n=Ct-a.length,n&&(i+=Ms(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ga=(function(){function e(a,s){var i,o=0,d=a.length;for(a=a.slice();d--;)i=a[d]*s+o,a[d]=i%wr|0,o=i/wr|0;return o&&a.unshift(o),a}function r(a,s,i,o){var d,u;if(i!=o)u=i>o?1:-1;else for(d=u=0;d<i;d++)if(a[d]!=s[d]){u=a[d]>s[d]?1:-1;break}return u}function n(a,s,i){for(var o=0;i--;)a[i]-=o,o=a[i]<s[i]?1:0,a[i]=o*wr+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,o){var d,u,h,m,p,y,v,j,b,N,S,C,_,P,O,E,T,$,D=a.constructor,z=a.s==s.s?1:-1,I=a.d,F=s.d;if(!a.s)return new D(a);if(!s.s)throw Error(Gn+"Division by zero");for(u=a.e-s.e,T=F.length,O=I.length,v=new D(z),j=v.d=[],h=0;F[h]==(I[h]||0);)++h;if(F[h]>(I[h]||0)&&--u,i==null?C=i=D.precision:o?C=i+(rr(a)-rr(s))+1:C=i,C<0)return new D(0);if(C=C/Ct+2|0,h=0,T==1)for(m=0,F=F[0],C++;(h<O||m)&&C--;h++)_=m*wr+(I[h]||0),j[h]=_/F|0,m=_%F|0;else{for(m=wr/(F[0]+1)|0,m>1&&(F=e(F,m),I=e(I,m),T=F.length,O=I.length),P=T,b=I.slice(0,T),N=b.length;N<T;)b[N++]=0;$=F.slice(),$.unshift(0),E=F[0],F[1]>=wr/2&&++E;do m=0,d=r(F,b,T,N),d<0?(S=b[0],T!=N&&(S=S*wr+(b[1]||0)),m=S/E|0,m>1?(m>=wr&&(m=wr-1),p=e(F,m),y=p.length,N=b.length,d=r(p,b,y,N),d==1&&(m--,n(p,T<y?$:F,y))):(m==0&&(d=m=1),p=F.slice()),y=p.length,y<N&&p.unshift(0),n(b,p,N),d==-1&&(N=b.length,d=r(F,b,T,N),d<1&&(m++,n(b,T<N?$:F,N))),N=b.length):d===0&&(m++,b=[0]),j[h++]=m,d&&b[0]?b[N++]=I[P]||0:(b=[I[P]],N=1);while((P++<O||b[0]!==void 0)&&C--)}return j[0]||j.shift(),v.e=u,bt(v,o?i+rr(v)+1:i)}})();function Y4(e,r){var n,a,s,i,o,d,u=0,h=0,m=e.constructor,p=m.precision;if(rr(e)>16)throw Error(zy+rr(e));if(!e.s)return new m(kn);for(Mt=!1,d=p,o=new m(.03125);e.abs().gte(.1);)e=e.times(o),h+=5;for(a=Math.log(mi(2,h))/Math.LN10*2+5|0,d+=a,n=s=i=new m(kn),m.precision=d;;){if(s=bt(s.times(e),d),n=n.times(++u),o=i.plus(Ga(s,n,d)),ja(o.d).slice(0,d)===ja(i.d).slice(0,d)){for(;h--;)i=bt(i.times(i),d);return m.precision=p,r==null?(Mt=!0,bt(i,p)):i}i=o}}function rr(e){for(var r=e.e*Ct,n=e.d[0];n>=10;n/=10)r++;return r}function Yx(e,r,n){if(r>e.LN10.sd())throw Mt=!0,n&&(e.precision=n),Error(Gn+"LN10 precision limit exceeded");return bt(new e(e.LN10),r)}function Ms(e){for(var r="";e--;)r+="0";return r}function Nc(e,r){var n,a,s,i,o,d,u,h,m,p=1,y=10,v=e,j=v.d,b=v.constructor,N=b.precision;if(v.s<1)throw Error(Gn+(v.s?"NaN":"-Infinity"));if(v.eq(kn))return new b(0);if(r==null?(Mt=!1,h=N):h=r,v.eq(10))return r==null&&(Mt=!0),Yx(b,h);if(h+=y,b.precision=h,n=ja(j),a=n.charAt(0),i=rr(v),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)v=v.times(e),n=ja(v.d),a=n.charAt(0),p++;i=rr(v),a>1?(v=new b("0."+n),i++):v=new b(a+"."+n.slice(1))}else return u=Yx(b,h+2,N).times(i+""),v=Nc(new b(a+"."+n.slice(1)),h-y).plus(u),b.precision=N,r==null?(Mt=!0,bt(v,N)):v;for(d=o=v=Ga(v.minus(kn),v.plus(kn),h),m=bt(v.times(v),h),s=3;;){if(o=bt(o.times(m),h),u=d.plus(Ga(o,new b(s),h)),ja(u.d).slice(0,h)===ja(d.d).slice(0,h))return d=d.times(2),i!==0&&(d=d.plus(Yx(b,h+2,N).times(i+""))),d=Ga(d,new b(p),h),b.precision=N,r==null?(Mt=!0,bt(d,N)):d;d=u,s+=2}}function Y2(e,r){var n,a,s;for((n=r.indexOf("."))>-1&&(r=r.replace(".","")),(a=r.search(/e/i))>0?(n<0&&(n=a),n+=+r.slice(a+1),r=r.substring(0,a)):n<0&&(n=r.length),a=0;r.charCodeAt(a)===48;)++a;for(s=r.length;r.charCodeAt(s-1)===48;)--s;if(r=r.slice(a,s),r){if(s-=a,n=n-a-1,e.e=Ql(n/Ct),e.d=[],a=(n+1)%Ct,n<0&&(a+=Ct),a<s){for(a&&e.d.push(+r.slice(0,a)),s-=Ct;a<s;)e.d.push(+r.slice(a,a+=Ct));r=r.slice(a),a=Ct-r.length}else a-=s;for(;a--;)r+="0";if(e.d.push(+r),Mt&&(e.e>km||e.e<-km))throw Error(zy+n)}else e.s=0,e.e=0,e.d=[0];return e}function bt(e,r,n){var a,s,i,o,d,u,h,m,p=e.d;for(o=1,i=p[0];i>=10;i/=10)o++;if(a=r-o,a<0)a+=Ct,s=r,h=p[m=0];else{if(m=Math.ceil((a+1)/Ct),i=p.length,m>=i)return e;for(h=i=p[m],o=1;i>=10;i/=10)o++;a%=Ct,s=a-Ct+o}if(n!==void 0&&(i=mi(10,o-s-1),d=h/i%10|0,u=r<0||p[m+1]!==void 0||h%i,u=n<4?(d||u)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||u||n==6&&(a>0?s>0?h/mi(10,o-s):0:p[m-1])%10&1||n==(e.s<0?8:7))),r<1||!p[0])return u?(i=rr(e),p.length=1,r=r-i-1,p[0]=mi(10,(Ct-r%Ct)%Ct),e.e=Ql(-r/Ct)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(a==0?(p.length=m,i=1,m--):(p.length=m+1,i=mi(10,Ct-a),p[m]=s>0?(h/mi(10,o-s)%mi(10,s)|0)*i:0),u)for(;;)if(m==0){(p[0]+=i)==wr&&(p[0]=1,++e.e);break}else{if(p[m]+=i,p[m]!=wr)break;p[m--]=0,i=1}for(a=p.length;p[--a]===0;)p.pop();if(Mt&&(e.e>km||e.e<-km))throw Error(zy+rr(e));return e}function Z4(e,r){var n,a,s,i,o,d,u,h,m,p,y=e.constructor,v=y.precision;if(!e.s||!r.s)return r.s?r.s=-r.s:r=new y(e),Mt?bt(r,v):r;if(u=e.d,p=r.d,a=r.e,h=e.e,u=u.slice(),o=h-a,o){for(m=o<0,m?(n=u,o=-o,d=p.length):(n=p,a=h,d=u.length),s=Math.max(Math.ceil(v/Ct),d)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=u.length,d=p.length,m=s<d,m&&(d=s),s=0;s<d;s++)if(u[s]!=p[s]){m=u[s]<p[s];break}o=0}for(m&&(n=u,u=p,p=n,r.s=-r.s),d=u.length,s=p.length-d;s>0;--s)u[d++]=0;for(s=p.length;s>o;){if(u[--s]<p[s]){for(i=s;i&&u[--i]===0;)u[i]=wr-1;--u[i],u[s]+=wr}u[s]-=p[s]}for(;u[--d]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(r.d=u,r.e=a,Mt?bt(r,v):r):new y(0)}function Mi(e,r,n){var a,s=rr(e),i=ja(e.d),o=i.length;return r?(n&&(a=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ms(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Ms(-s-1)+i,n&&(a=n-o)>0&&(i+=Ms(a))):s>=o?(i+=Ms(s+1-o),n&&(a=n-s-1)>0&&(i=i+"."+Ms(a))):((a=s+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),n&&(a=n-o)>0&&(s+1===o&&(i+="."),i+=Ms(a))),e.s<0?"-"+i:i}function Z2(e,r){if(e.length>r)return e.length=r,!0}function X4(e){var r,n,a;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(_i+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Y2(o,i.toString())}else if(typeof i!="string")throw Error(_i+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,ez.test(i))Y2(o,i);else throw Error(_i+i)}if(s.prototype=Ne,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=X4,s.config=s.set=tz,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)e.hasOwnProperty(n=a[r++])||(e[n]=this[n]);return s.config(e),s}function tz(e){if(!e||typeof e!="object")throw Error(Gn+"Object expected");var r,n,a,s=["precision",1,Jl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<s.length;r+=3)if((a=e[n=s[r]])!==void 0)if(Ql(a)===a&&a>=s[r+1]&&a<=s[r+2])this[n]=a;else throw Error(_i+n+": "+a);if((a=e[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(_i+n+": "+a);return this}var By=X4(QF);kn=new By(1);const mt=By;var rz=e=>e,J4={},Q4=e=>e===J4,X2=e=>function r(){return arguments.length===0||arguments.length===1&&Q4(arguments.length<=0?void 0:arguments[0])?r:e(...arguments)},eC=(e,r)=>e===1?r:X2(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(o=>o!==J4).length;return i>=e?r(...a):eC(e-i,X2(function(){for(var o=arguments.length,d=new Array(o),u=0;u<o;u++)d[u]=arguments[u];var h=a.map(m=>Q4(m)?d.shift():m);return r(...h,...d)}))}),mf=e=>eC(e.length,e),fg=(e,r)=>{for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},nz=mf((e,r)=>Array.isArray(r)?r.map(e):Object.keys(r).map(n=>r[n]).map(e)),az=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];if(!n.length)return rz;var s=n.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((d,u)=>u(d),i(...arguments))}},hg=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),tC=e=>{var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every((o,d)=>{var u;return o===((u=r)===null||u===void 0?void 0:u[d])})||(r=s,n=e(...s)),n}};function rC(e){var r;return e===0?r=1:r=Math.floor(new mt(e).abs().log(10).toNumber())+1,r}function nC(e,r,n){for(var a=new mt(e),s=0,i=[];a.lt(r)&&s<1e5;)i.push(a.toNumber()),a=a.add(n),s++;return i}mf((e,r,n)=>{var a=+e,s=+r;return a+n*(s-a)});mf((e,r,n)=>{var a=r-+e;return a=a||1/0,(n-e)/a});mf((e,r,n)=>{var a=r-+e;return a=a||1/0,Math.max(0,Math.min(1,(n-e)/a))});var aC=e=>{var[r,n]=e,[a,s]=[r,n];return r>n&&([a,s]=[n,r]),[a,s]},sC=(e,r,n)=>{if(e.lte(0))return new mt(0);var a=rC(e.toNumber()),s=new mt(10).pow(a),i=e.div(s),o=a!==1?.05:.1,d=new mt(Math.ceil(i.div(o).toNumber())).add(n).mul(o),u=d.mul(s);return r?new mt(u.toNumber()):new mt(Math.ceil(u.toNumber()))},sz=(e,r,n)=>{var a=new mt(1),s=new mt(e);if(!s.isint()&&n){var i=Math.abs(e);i<1?(a=new mt(10).pow(rC(e)-1),s=new mt(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new mt(Math.floor(e)))}else e===0?s=new mt(Math.floor((r-1)/2)):n||(s=new mt(Math.floor(e)));var o=Math.floor((r-1)/2),d=az(nz(u=>s.add(new mt(u-o).mul(a)).toNumber()),fg);return d(0,r)},iC=function(r,n,a,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-r)/(a-1)))return{step:new mt(0),tickMin:new mt(0),tickMax:new mt(0)};var o=sC(new mt(n).sub(r).div(a-1),s,i),d;r<=0&&n>=0?d=new mt(0):(d=new mt(r).add(n).div(2),d=d.sub(new mt(d).mod(o)));var u=Math.ceil(d.sub(r).div(o).toNumber()),h=Math.ceil(new mt(n).sub(d).div(o).toNumber()),m=u+h+1;return m>a?iC(r,n,a,s,i+1):(m<a&&(h=n>0?h+(a-m):h,u=n>0?u:u+(a-m)),{step:o,tickMin:d.sub(new mt(u).mul(o)),tickMax:d.add(new mt(h).mul(o))})};function iz(e){var[r,n]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[o,d]=aC([r,n]);if(o===-1/0||d===1/0){var u=d===1/0?[o,...fg(0,a-1).map(()=>1/0)]:[...fg(0,a-1).map(()=>-1/0),d];return r>n?hg(u):u}if(o===d)return sz(o,a,s);var{step:h,tickMin:m,tickMax:p}=iC(o,d,i,s,0),y=nC(m,p.add(new mt(.1).mul(h)),h);return r>n?hg(y):y}function lz(e,r){var[n,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=aC([n,a]);if(i===-1/0||o===1/0)return[n,a];if(i===o)return[i];var d=Math.max(r,2),u=sC(new mt(o).sub(i).div(d-1),s,0),h=[...nC(new mt(i),new mt(o),u),o];return s===!1&&(h=h.map(m=>Math.round(m))),n>a?hg(h):h}var oz=tC(iz),cz=tC(lz),lC=e=>e.rootProps.maxBarSize,dz=e=>e.rootProps.barGap,oC=e=>e.rootProps.barCategoryGap,uz=e=>e.rootProps.barSize,qc=e=>e.rootProps.stackOffset,Uy=e=>e.options.chartName,Wy=e=>e.rootProps.syncId,cC=e=>e.rootProps.syncMethod,qy=e=>e.options.eventEmitter,za={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Nn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},ff=(e,r)=>{if(!(!e||!r))return e!=null&&e.reversed?[r[1],r[0]]:r},mz={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:za.angleAxisId,includeHidden:!1,name:void 0,reversed:za.reversed,scale:za.scale,tick:za.tick,tickCount:void 0,ticks:void 0,type:za.type,unit:void 0},fz={allowDataOverflow:Nn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Nn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Nn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Nn.scale,tick:Nn.tick,tickCount:Nn.tickCount,ticks:void 0,type:Nn.type,unit:void 0},hz={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:za.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:za.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:za.scale,tick:za.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},pz={allowDataOverflow:Nn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Nn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Nn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Nn.scale,tick:Nn.tick,tickCount:Nn.tickCount,ticks:void 0,type:"category",unit:void 0},Hy=(e,r)=>e.polarAxis.angleAxis[r]!=null?e.polarAxis.angleAxis[r]:e.layout.layoutType==="radial"?hz:mz,Ky=(e,r)=>e.polarAxis.radiusAxis[r]!=null?e.polarAxis.radiusAxis[r]:e.layout.layoutType==="radial"?pz:fz,hf=e=>e.polarOptions,Vy=Z([as,ss,fr],B5),dC=Z([hf,Vy],(e,r)=>{if(e!=null)return Vr(e.innerRadius,r,0)}),uC=Z([hf,Vy],(e,r)=>{if(e!=null)return Vr(e.outerRadius,r,r*.8)}),xz=e=>{if(e==null)return[0,0];var{startAngle:r,endAngle:n}=e;return[r,n]},mC=Z([hf],xz);Z([Hy,mC],ff);var fC=Z([Vy,dC,uC],(e,r,n)=>{if(!(e==null||r==null||n==null))return[r,n]});Z([Ky,fC],ff);var hC=Z([Ve,hf,dC,uC,as,ss],(e,r,n,a,s,i)=>{if(!(e!=="centric"&&e!=="radial"||r==null||n==null||a==null)){var{cx:o,cy:d,startAngle:u,endAngle:h}=r;return{cx:Vr(o,s,s/2),cy:Vr(d,i,i/2),innerRadius:n,outerRadius:a,startAngle:u,endAngle:h,clockWise:!1}}}),It=(e,r)=>r,Hc=(e,r,n)=>n;function pf(e){return e==null?void 0:e.id}var xr=e=>{var r=Ve(e);return r==="horizontal"?"xAxis":r==="vertical"?"yAxis":r==="centric"?"angleAxis":"radiusAxis"},eo=e=>e.tooltip.settings.axisId,gr=e=>{var r=xr(e),n=eo(e);return Kc(e,r,n)},pC=Z([gr],e=>e==null?void 0:e.dataKey);function xC(e,r,n){var{chartData:a=[]}=r,{allowDuplicatedCategory:s,dataKey:i}=n,o=new Map;return e.forEach(d=>{var u,h=(u=d.data)!==null&&u!==void 0?u:a;if(!(h==null||h.length===0)){var m=pf(d);h.forEach((p,y)=>{var v=i==null||s?y:String(gt(p,i,null)),j=gt(p,d.dataKey,0),b;o.has(v)?b=o.get(v):b={},Object.assign(b,{[m]:j}),o.set(v,b)})}}),Array.from(o.values())}function xf(e){return e.stackId!=null&&e.dataKey!=null}var gf=(e,r)=>e===r?!0:e==null||r==null?!1:e[0]===r[0]&&e[1]===r[1];function yf(e,r){return Array.isArray(e)&&Array.isArray(r)&&e.length===0&&r.length===0?!0:e===r}function J2(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Sm(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?J2(Object(n),!0).forEach(function(a){gz(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function gz(e,r,n){return(r=yz(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function yz(e){var r=vz(e,"string");return typeof r=="symbol"?r:r+""}function vz(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var pg=[0,"auto"],jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},gC=(e,r)=>e.cartesianAxis.xAxis[r],os=(e,r)=>{var n=gC(e,r);return n??jn},wn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:pg,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ic},yC=(e,r)=>e.cartesianAxis.yAxis[r],cs=(e,r)=>{var n=yC(e,r);return n??wn},bz={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Gy=(e,r)=>{var n=e.cartesianAxis.zAxis[r];return n??bz},Bt=(e,r,n)=>{switch(r){case"xAxis":return os(e,n);case"yAxis":return cs(e,n);case"zAxis":return Gy(e,n);case"angleAxis":return Hy(e,n);case"radiusAxis":return Ky(e,n);default:throw new Error("Unexpected axis type: ".concat(r))}},jz=(e,r,n)=>{switch(r){case"xAxis":return os(e,n);case"yAxis":return cs(e,n);default:throw new Error("Unexpected axis type: ".concat(r))}},Kc=(e,r,n)=>{switch(r){case"xAxis":return os(e,n);case"yAxis":return cs(e,n);case"angleAxis":return Hy(e,n);case"radiusAxis":return Ky(e,n);default:throw new Error("Unexpected axis type: ".concat(r))}},vC=e=>e.graphicalItems.cartesianItems.some(r=>r.type==="bar")||e.graphicalItems.polarItems.some(r=>r.type==="radialBar");function Yy(e,r){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===r;case"yAxis":return"yAxisId"in n&&n.yAxisId===r;case"zAxis":return"zAxisId"in n&&n.zAxisId===r;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===r;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===r;default:return!1}}}var Vc=e=>e.graphicalItems.cartesianItems,wz=Z([It,Hc],Yy),Zy=(e,r,n)=>e.filter(n).filter(a=>(r==null?void 0:r.includeHidden)===!0?!0:!a.hide),Gc=Z([Vc,Bt,wz],Zy,{memoizeOptions:{resultEqualityCheck:yf}}),bC=Z([Gc],e=>e.filter(r=>r.type==="area"||r.type==="bar").filter(xf)),jC=e=>e.filter(r=>!("stackId"in r)||r.stackId===void 0),Nz=Z([Gc],jC),Xy=e=>e.map(r=>r.data).filter(Boolean).flat(1),_z=Z([Gc],Xy,{memoizeOptions:{resultEqualityCheck:yf}}),Jy=(e,r)=>{var{chartData:n=[],dataStartIndex:a,dataEndIndex:s}=r;return e.length>0?e:n.slice(a,s+1)},Qy=Z([_z,Wc],Jy),ev=(e,r,n)=>(r==null?void 0:r.dataKey)!=null?e.map(a=>({value:gt(a,r.dataKey)})):n.length>0?n.map(a=>a.dataKey).flatMap(a=>e.map(s=>({value:gt(s,a)}))):e.map(a=>({value:a})),vf=Z([Qy,Bt,Gc],ev);function wC(e,r){switch(e){case"xAxis":return r.direction==="x";case"yAxis":return r.direction==="y";default:return!1}}function zu(e){if(Sa(e)||e instanceof Date){var r=Number(e);if(nr(r))return r}}function Q2(e){if(Array.isArray(e)){var r=[zu(e[0]),zu(e[1])];return Ti(r)?r:void 0}var n=zu(e);if(n!=null)return[n,n]}function to(e){return e.map(zu).filter(BL)}function kz(e,r,n){return!n||typeof r!="number"||En(r)?[]:n.length?to(n.flatMap(a=>{var s=gt(e,a.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!nr(i)||!nr(o)))return[r-i,r+o]})):[]}var Sz=Z([bC,Wc,gr],xC),NC=(e,r,n)=>{var a={},s=r.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),a);return Object.fromEntries(Object.entries(s).map(i=>{var[o,d]=i,u=d.map(pf);return[o,{stackedData:u8(e,u,n),graphicalItems:d}]}))},_c=Z([Sz,bC,qc],NC),_C=(e,r,n,a)=>{var{dataStartIndex:s,dataEndIndex:i}=r;if(a==null&&n!=="zAxis"){var o=p8(e,s,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Cz=Z([Bt],e=>e.allowDataOverflow),tv=e=>{var r;if(e==null||!("domain"in e))return pg;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=to(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(r=e==null?void 0:e.domain)!==null&&r!==void 0?r:pg},rv=Z([Bt],tv),nv=Z([rv,Cz],K4),Pz=Z([_c,Zs,It,nv],_C,{memoizeOptions:{resultEqualityCheck:gf}}),bf=e=>e.errorBars,Ez=(e,r,n)=>e.flatMap(a=>r[a.id]).filter(Boolean).filter(a=>wC(n,a)),Cm=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),d=Math.max(...i);return[o,d]}},av=(e,r,n,a,s)=>{var i,o;if(n.length>0&&e.forEach(d=>{n.forEach(u=>{var h,m,p=(h=a[u.id])===null||h===void 0?void 0:h.filter(S=>wC(s,S)),y=gt(d,(m=r.dataKey)!==null&&m!==void 0?m:u.dataKey),v=kz(d,y,p);if(v.length>=2){var j=Math.min(...v),b=Math.max(...v);(i==null||j<i)&&(i=j),(o==null||b>o)&&(o=b)}var N=Q2(y);N!=null&&(i=i==null?N[0]:Math.min(i,N[0]),o=o==null?N[1]:Math.max(o,N[1]))})}),(r==null?void 0:r.dataKey)!=null&&e.forEach(d=>{var u=Q2(gt(d,r.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),nr(i)&&nr(o))return[i,o]},Oz=Z([Qy,Bt,Nz,bf,It],av,{memoizeOptions:{resultEqualityCheck:gf}});function Az(e){var{value:r}=e;if(Sa(r)||r instanceof Date)return r}var Tz=(e,r,n)=>{var a=e.map(Az).filter(s=>s!=null);return n&&(r.dataKey==null||r.allowDuplicatedCategory&&XS(a))?u4(0,e.length):r.allowDuplicatedCategory?a:Array.from(new Set(a))},kC=e=>e.referenceElements.dots,ro=(e,r,n)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>r==="xAxis"?a.xAxisId===n:a.yAxisId===n),Mz=Z([kC,It,Hc],ro),SC=e=>e.referenceElements.areas,Dz=Z([SC,It,Hc],ro),CC=e=>e.referenceElements.lines,$z=Z([CC,It,Hc],ro),PC=(e,r)=>{var n=to(e.map(a=>r==="xAxis"?a.x:a.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Iz=Z(Mz,It,PC),EC=(e,r)=>{var n=to(e.flatMap(a=>[r==="xAxis"?a.x1:a.y1,r==="xAxis"?a.x2:a.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Lz=Z([Dz,It],EC),OC=(e,r)=>{var n=to(e.map(a=>r==="xAxis"?a.x:a.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Rz=Z($z,It,OC),Fz=Z(Iz,Rz,Lz,(e,r,n)=>Cm(e,n,r)),sv=(e,r,n,a,s,i,o,d)=>{if(n!=null)return n;var u=o==="vertical"&&d==="xAxis"||o==="horizontal"&&d==="yAxis",h=u?Cm(a,i,s):Cm(i,s);return JF(r,h,e.allowDataOverflow)},zz=Z([Bt,rv,nv,Pz,Oz,Fz,Ve,It],sv,{memoizeOptions:{resultEqualityCheck:gf}}),Bz=[0,1],iv=(e,r,n,a,s,i,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:d,type:u}=e,h=Oa(r,i);return h&&d==null?u4(0,n.length):u==="category"?Tz(a,e,h):s==="expand"?Bz:o}},lv=Z([Bt,Ve,Qy,vf,qc,It,zz],iv),AC=(e,r,n,a,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return r==="radial"&&s==="radiusAxis"?"band":r==="radial"&&s==="angleAxis"?"linear":o==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var d="scale".concat(Tc(i));return d in sc?d:"point"}}},no=Z([Bt,Ve,vC,Uy,It],AC);function Uz(e){if(e!=null){if(e in sc)return sc[e]();var r="scale".concat(Tc(e));if(r in sc)return sc[r]()}}function ov(e,r,n,a){if(!(n==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(a);var s=Uz(r);if(s!=null){var i=s.domain(n).range(a);return i8(i),i}}}var cv=(e,r,n)=>{var a=tv(r);if(!(n!=="auto"&&n!=="linear")){if(r!=null&&r.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&Ti(e))return oz(e,r.tickCount,r.allowDecimals);if(r!=null&&r.tickCount&&r.type==="number"&&Ti(e))return cz(e,r.tickCount,r.allowDecimals)}},dv=Z([lv,Kc,no],cv),uv=(e,r,n,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ti(r)&&Array.isArray(n)&&n.length>0){var s=r[0],i=n[0],o=r[1],d=n[n.length-1];return[Math.min(s,i),Math.max(o,d)]}return r},Wz=Z([Bt,lv,dv,It],uv),qz=Z(vf,Bt,(e,r)=>{if(!(!r||r.type!=="number")){var n=1/0,a=Array.from(to(e.map(d=>d.value))).sort((d,u)=>d-u);if(a.length<2)return 1/0;var s=a[a.length-1]-a[0];if(s===0)return 1/0;for(var i=0;i<a.length-1;i++){var o=a[i+1]-a[i];n=Math.min(n,o)}return n/s}}),TC=Z(qz,Ve,oC,fr,(e,r,n,a)=>a,(e,r,n,a,s)=>{if(!nr(e))return 0;var i=r==="vertical"?a.height:a.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=Vr(n,e*i),d=e*i/2;return d-o-(d-o)/i*o}return 0}),Hz=(e,r)=>{var n=os(e,r);return n==null||typeof n.padding!="string"?0:TC(e,"xAxis",r,n.padding)},Kz=(e,r)=>{var n=cs(e,r);return n==null||typeof n.padding!="string"?0:TC(e,"yAxis",r,n.padding)},Vz=Z(os,Hz,(e,r)=>{var n,a;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:r,right:r}:{left:((n=s.left)!==null&&n!==void 0?n:0)+r,right:((a=s.right)!==null&&a!==void 0?a:0)+r}}),Gz=Z(cs,Kz,(e,r)=>{var n,a;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:r,bottom:r}:{top:((n=s.top)!==null&&n!==void 0?n:0)+r,bottom:((a=s.bottom)!==null&&a!==void 0?a:0)+r}}),Yz=Z([fr,Vz,rf,tf,(e,r,n)=>n],(e,r,n,a,s)=>{var{padding:i}=a;return s?[i.left,n.width-i.right]:[e.left+r.left,e.left+e.width-r.right]}),Zz=Z([fr,Ve,Gz,rf,tf,(e,r,n)=>n],(e,r,n,a,s,i)=>{var{padding:o}=s;return i?[a.height-o.bottom,o.top]:r==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Yc=(e,r,n,a)=>{var s;switch(r){case"xAxis":return Yz(e,n,a);case"yAxis":return Zz(e,n,a);case"zAxis":return(s=Gy(e,n))===null||s===void 0?void 0:s.range;case"angleAxis":return mC(e);case"radiusAxis":return fC(e,n);default:return}},MC=Z([Bt,Yc],ff),ao=Z([Bt,no,Wz,MC],ov);Z([Gc,bf,It],Ez);function DC(e,r){return e.id<r.id?-1:e.id>r.id?1:0}var jf=(e,r)=>r,wf=(e,r,n)=>n,Xz=Z(Qm,jf,wf,(e,r,n)=>e.filter(a=>a.orientation===r).filter(a=>a.mirror===n).sort(DC)),Jz=Z(ef,jf,wf,(e,r,n)=>e.filter(a=>a.orientation===r).filter(a=>a.mirror===n).sort(DC)),$C=(e,r)=>({width:e.width,height:r.height}),Qz=(e,r)=>{var n=typeof r.width=="number"?r.width:Ic;return{width:n,height:e.height}},IC=Z(fr,os,$C),eB=(e,r,n)=>{switch(r){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},tB=(e,r,n)=>{switch(r){case"left":return e.left;case"right":return n-e.right;default:return 0}},rB=Z(ss,fr,Xz,jf,wf,(e,r,n,a,s)=>{var i={},o;return n.forEach(d=>{var u=$C(r,d);o==null&&(o=eB(r,a,e));var h=a==="top"&&!s||a==="bottom"&&s;i[d.id]=o-Number(h)*u.height,o+=(h?-1:1)*u.height}),i}),nB=Z(as,fr,Jz,jf,wf,(e,r,n,a,s)=>{var i={},o;return n.forEach(d=>{var u=Qz(r,d);o==null&&(o=tB(r,a,e));var h=a==="left"&&!s||a==="right"&&s;i[d.id]=o-Number(h)*u.width,o+=(h?-1:1)*u.width}),i}),aB=(e,r)=>{var n=os(e,r);if(n!=null)return rB(e,n.orientation,n.mirror)},sB=Z([fr,os,aB,(e,r)=>r],(e,r,n,a)=>{if(r!=null){var s=n==null?void 0:n[a];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),iB=(e,r)=>{var n=cs(e,r);if(n!=null)return nB(e,n.orientation,n.mirror)},lB=Z([fr,cs,iB,(e,r)=>r],(e,r,n,a)=>{if(r!=null){var s=n==null?void 0:n[a];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),LC=Z(fr,cs,(e,r)=>{var n=typeof r.width=="number"?r.width:Ic;return{width:n,height:e.height}}),e_=(e,r,n)=>{switch(r){case"xAxis":return IC(e,n).width;case"yAxis":return LC(e,n).height;default:return}},RC=(e,r,n,a)=>{if(n!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=n,d=Oa(e,a),u=r.map(h=>h.value);if(o&&d&&i==="category"&&s&&XS(u))return u}},mv=Z([Ve,vf,Bt,It],RC),FC=(e,r,n,a)=>{if(!(n==null||n.dataKey==null)){var{type:s,scale:i}=n,o=Oa(e,a);if(o&&(s==="number"||i!=="auto"))return r.map(d=>d.value)}},fv=Z([Ve,vf,Kc,It],FC),t_=Z([Ve,jz,no,ao,mv,fv,Yc,dv,It],(e,r,n,a,s,i,o,d,u)=>{if(r==null)return null;var h=Oa(e,u);return{angle:r.angle,interval:r.interval,minTickGap:r.minTickGap,orientation:r.orientation,tick:r.tick,tickCount:r.tickCount,tickFormatter:r.tickFormatter,ticks:r.ticks,type:r.type,unit:r.unit,axisType:u,categoricalDomain:i,duplicateDomain:s,isCategorical:h,niceTicks:d,range:o,realScaleType:n,scale:a}}),oB=(e,r,n,a,s,i,o,d,u)=>{if(!(r==null||a==null)){var h=Oa(e,u),{type:m,ticks:p,tickCount:y}=r,v=n==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,j=m==="category"&&a.bandwidth?a.bandwidth()/v:0;j=u==="angleAxis"&&i!=null&&i.length>=2?Nr(i[0]-i[1])*2*j:j;var b=p||s;if(b){var N=b.map((S,C)=>{var _=o?o.indexOf(S):S;return{index:C,coordinate:a(_)+j,value:S,offset:j}});return N.filter(S=>!En(S.coordinate))}return h&&d?d.map((S,C)=>({coordinate:a(S)+j,value:S,index:C,offset:j})):a.ticks?a.ticks(y).map(S=>({coordinate:a(S)+j,value:S,offset:j})):a.domain().map((S,C)=>({coordinate:a(S)+j,value:o?o[S]:S,index:C,offset:j}))}},zC=Z([Ve,Kc,no,ao,dv,Yc,mv,fv,It],oB),cB=(e,r,n,a,s,i,o)=>{if(!(r==null||n==null||a==null||a[0]===a[1])){var d=Oa(e,o),{tickCount:u}=r,h=0;return h=o==="angleAxis"&&(a==null?void 0:a.length)>=2?Nr(a[0]-a[1])*2*h:h,d&&i?i.map((m,p)=>({coordinate:n(m)+h,value:m,index:p,offset:h})):n.ticks?n.ticks(u).map(m=>({coordinate:n(m)+h,value:m,offset:h})):n.domain().map((m,p)=>({coordinate:n(m)+h,value:s?s[m]:m,index:p,offset:h}))}},Pa=Z([Ve,Kc,ao,Yc,mv,fv,It],cB),Ea=Z(Bt,ao,(e,r)=>{if(!(e==null||r==null))return Sm(Sm({},e),{},{scale:r})}),dB=Z([Bt,no,lv,MC],ov);Z((e,r,n)=>Gy(e,n),dB,(e,r)=>{if(!(e==null||r==null))return Sm(Sm({},e),{},{scale:r})});var uB=Z([Ve,Qm,ef],(e,r,n)=>{switch(e){case"horizontal":return r.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),BC=e=>e.options.defaultTooltipEventType,UC=e=>e.options.validateTooltipEventTypes;function WC(e,r,n){if(e==null)return r;var a=e?"axis":"item";return n==null?r:n.includes(a)?a:r}function hv(e,r){var n=BC(e),a=UC(e);return WC(r,n,a)}function mB(e){return Ce(r=>hv(r,e))}var qC=(e,r)=>{var n,a=Number(r);if(!(En(a)||r==null))return a>=0?e==null||(n=e[a])===null||n===void 0?void 0:n.value:void 0},fB=e=>e.tooltip.settings,Is={active:!1,index:null,dataKey:void 0,coordinate:void 0},hB={itemInteraction:{click:Is,hover:Is},axisInteraction:{click:Is,hover:Is},keyboardInteraction:Is,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},HC=An({name:"tooltip",initialState:hB,reducers:{addTooltipEntrySettings:{reducer(e,r){e.tooltipItemPayloads.push(r.payload)},prepare:Xr()},removeTooltipEntrySettings:{reducer(e,r){var n=Va(e).tooltipItemPayloads.indexOf(r.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Xr()},setTooltipSettingsState(e,r){e.settings=r.payload},setActiveMouseOverItemIndex(e,r){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=r.payload.activeIndex,e.itemInteraction.hover.dataKey=r.payload.activeDataKey,e.itemInteraction.hover.coordinate=r.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,r){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=r.payload.activeIndex,e.itemInteraction.click.dataKey=r.payload.activeDataKey,e.itemInteraction.click.coordinate=r.payload.activeCoordinate},setMouseOverAxisIndex(e,r){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=r.payload.activeIndex,e.axisInteraction.hover.dataKey=r.payload.activeDataKey,e.axisInteraction.hover.coordinate=r.payload.activeCoordinate},setMouseClickAxisIndex(e,r){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=r.payload.activeIndex,e.axisInteraction.click.dataKey=r.payload.activeDataKey,e.axisInteraction.click.coordinate=r.payload.activeCoordinate},setSyncInteraction(e,r){e.syncInteraction=r.payload},setKeyboardInteraction(e,r){e.keyboardInteraction.active=r.payload.active,e.keyboardInteraction.index=r.payload.activeIndex,e.keyboardInteraction.coordinate=r.payload.activeCoordinate,e.keyboardInteraction.dataKey=r.payload.activeDataKey}}}),{addTooltipEntrySettings:pB,removeTooltipEntrySettings:xB,setTooltipSettingsState:gB,setActiveMouseOverItemIndex:KC,mouseLeaveItem:yB,mouseLeaveChart:VC,setActiveClickItemIndex:vB,setMouseOverAxisIndex:GC,setMouseClickAxisIndex:bB,setSyncInteraction:xg,setKeyboardInteraction:gg}=HC.actions,jB=HC.reducer;function r_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Pu(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?r_(Object(n),!0).forEach(function(a){wB(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function wB(e,r,n){return(r=NB(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function NB(e){var r=_B(e,"string");return typeof r=="symbol"?r:r+""}function _B(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function kB(e,r,n){return r==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function SB(e){return e.index!=null}var YC=(e,r,n,a)=>{if(r==null)return Is;var s=kB(e,r,n);if(s==null)return Is;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(SB(s)){if(i)return Pu(Pu({},s),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return Pu(Pu({},Is),{},{coordinate:s.coordinate})},pv=(e,r)=>{var n=e==null?void 0:e.index;if(n==null)return null;var a=Number(n);if(!nr(a))return n;var s=0,i=1/0;return r.length>0&&(i=r.length-1),String(Math.max(s,Math.min(a,i)))},ZC=(e,r,n,a,s,i,o,d)=>{if(!(i==null||d==null)){var u=o[0],h=u==null?void 0:d(u.positions,i);if(h!=null)return h;var m=s==null?void 0:s[Number(i)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(a.top+r)/2};default:return{x:(a.left+e)/2,y:m.coordinate}}}},XC=(e,r,n,a)=>{if(r==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return n==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},Zc=e=>e.options.tooltipPayloadSearcher,so=e=>e.tooltip;function n_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function a_(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?n_(Object(n),!0).forEach(function(a){CB(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function CB(e,r,n){return(r=PB(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function PB(e){var r=EB(e,"string");return typeof r=="symbol"?r:r+""}function EB(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function OB(e,r){return e??r}var JC=(e,r,n,a,s,i,o)=>{if(!(r==null||i==null)){var{chartData:d,computedData:u,dataStartIndex:h,dataEndIndex:m}=n,p=[];return e.reduce((y,v)=>{var j,{dataDefinedOnItem:b,settings:N}=v,S=OB(b,d),C=Array.isArray(S)?U5(S,h,m):S,_=(j=N==null?void 0:N.dataKey)!==null&&j!==void 0?j:a,P=N==null?void 0:N.nameKey,O;if(a&&Array.isArray(C)&&!Array.isArray(C[0])&&o==="axis"?O=JS(C,a,s):O=i(C,r,u,P),Array.isArray(O))O.forEach(T=>{var $=a_(a_({},N),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});y.push(M1({tooltipEntrySettings:$,dataKey:T.dataKey,payload:T.payload,value:gt(T.payload,T.dataKey),name:T.name}))});else{var E;y.push(M1({tooltipEntrySettings:N,dataKey:_,payload:O,value:gt(O,_),name:(E=gt(O,P))!==null&&E!==void 0?E:N==null?void 0:N.name}))}return y},p)}},xv=Z([gr,Ve,vC,Uy,xr],AC),AB=Z([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,r)=>[...e,...r]),TB=Z([xr,eo],Yy),Xc=Z([AB,gr,TB],Zy,{memoizeOptions:{resultEqualityCheck:yf}}),MB=Z([Xc],e=>e.filter(xf)),DB=Z([Xc],Xy,{memoizeOptions:{resultEqualityCheck:yf}}),io=Z([DB,Zs],Jy),$B=Z([MB,Zs,gr],xC),gv=Z([io,gr,Xc],ev),QC=Z([gr],tv),IB=Z([gr],e=>e.allowDataOverflow),e6=Z([QC,IB],K4),LB=Z([Xc],e=>e.filter(xf)),RB=Z([$B,LB,qc],NC),FB=Z([RB,Zs,xr,e6],_C),zB=Z([Xc],jC),BB=Z([io,gr,zB,bf,xr],av,{memoizeOptions:{resultEqualityCheck:gf}}),UB=Z([kC,xr,eo],ro),WB=Z([UB,xr],PC),qB=Z([SC,xr,eo],ro),HB=Z([qB,xr],EC),KB=Z([CC,xr,eo],ro),VB=Z([KB,xr],OC),GB=Z([WB,VB,HB],Cm),YB=Z([gr,QC,e6,FB,BB,GB,Ve,xr],sv),t6=Z([gr,Ve,io,gv,qc,xr,YB],iv),ZB=Z([t6,gr,xv],cv),XB=Z([gr,t6,ZB,xr],uv),r6=e=>{var r=xr(e),n=eo(e),a=!1;return Yc(e,r,n,a)},n6=Z([gr,r6],ff),a6=Z([gr,xv,XB,n6],ov),JB=Z([Ve,gv,gr,xr],RC),QB=Z([Ve,gv,gr,xr],FC),eU=(e,r,n,a,s,i,o,d)=>{if(r){var{type:u}=r,h=Oa(e,d);if(a){var m=n==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,p=u==="category"&&a.bandwidth?a.bandwidth()/m:0;return p=d==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?Nr(s[0]-s[1])*2*p:p,h&&o?o.map((y,v)=>({coordinate:a(y)+p,value:y,index:v,offset:p})):a.domain().map((y,v)=>({coordinate:a(y)+p,value:i?i[y]:y,index:v,offset:p}))}}},ds=Z([Ve,gr,xv,a6,r6,JB,QB,xr],eU),yv=Z([BC,UC,fB],(e,r,n)=>WC(n.shared,e,r)),s6=e=>e.tooltip.settings.trigger,vv=e=>e.tooltip.settings.defaultIndex,Nf=Z([so,yv,s6,vv],YC),qs=Z([Nf,io],pv),i6=Z([ds,qs],qC),l6=Z([Nf],e=>{if(e)return e.dataKey}),o6=Z([so,yv,s6,vv],XC),tU=Z([as,ss,Ve,fr,ds,vv,o6,Zc],ZC),rU=Z([Nf,tU],(e,r)=>e!=null&&e.coordinate?e.coordinate:r),nU=Z([Nf],e=>e.active),aU=Z([o6,qs,Zs,pC,i6,Zc,yv],JC),sU=Z([aU],e=>{if(e!=null){var r=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(r))}});function s_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function i_(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?s_(Object(n),!0).forEach(function(a){iU(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function iU(e,r,n){return(r=lU(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function lU(e){var r=oU(e,"string");return typeof r=="symbol"?r:r+""}function oU(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var cU=()=>Ce(gr),dU=()=>{var e=cU(),r=Ce(ds),n=Ce(a6);return Ai(i_(i_({},e),{},{scale:n}),r)},c6=()=>Ce(Uy),bv=(e,r)=>r,d6=(e,r,n)=>n,jv=(e,r,n,a)=>a,uU=Z(ds,e=>Vm(e,r=>r.coordinate)),wv=Z([so,bv,d6,jv],YC),u6=Z([wv,io],pv),mU=(e,r,n)=>{if(r!=null){var a=so(e);return r==="axis"?n==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:n==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},m6=Z([so,bv,d6,jv],XC),Pm=Z([as,ss,Ve,fr,ds,jv,m6,Zc],ZC),fU=Z([wv,Pm],(e,r)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:r}),f6=Z(ds,u6,qC),hU=Z([m6,u6,Zs,pC,f6,Zc,bv],JC),pU=Z([wv],e=>({isActive:e.active,activeIndex:e.index})),xU=(e,r,n,a,s,i,o,d)=>{if(!(!e||!r||!a||!s||!i)){var u=x8(e.chartX,e.chartY,r,n,d);if(u){var h=y8(u,r),m=a8(h,o,i,a,s),p=g8(r,i,m,u);return{activeIndex:String(m),activeCoordinate:p}}}};function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},yg.apply(null,arguments)}function l_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Eu(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?l_(Object(n),!0).forEach(function(a){gU(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function gU(e,r,n){return(r=yU(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function yU(e){var r=vU(e,"string");return typeof r=="symbol"?r:r+""}function vU(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function bU(e){var{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:i,layout:o,cursor:d,tooltipEventType:u,chartName:h}=e,m=r,p=n,y=a;if(!d||!m||h!=="ScatterChart"&&u!=="axis")return null;var v,j;if(h==="ScatterChart")v=m,j=DL;else if(h==="BarChart")v=$L(o,m,s,i),j=l4;else if(o==="radial"){var{cx:b,cy:N,radius:S,startAngle:C,endAngle:_}=o4(m);v={cx:b,cy:N,startAngle:C,endAngle:_,innerRadius:S,outerRadius:S},j=d4}else v={points:yR(o,m,s)},j=jl;var P=typeof d=="object"&&"className"in d?d.className:void 0,O=Eu(Eu(Eu(Eu({stroke:"#ccc",pointerEvents:"none"},s),v),Ci(d)),{},{payload:p,payloadIndex:y,className:tt("recharts-tooltip-cursor",P)});return x.isValidElement(d)?x.cloneElement(d,O):x.createElement(j,O)}function jU(e){var r=dU(),n=J5(),a=Lc(),s=c6();return x.createElement(bU,yg({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:a,tooltipAxisBandSize:r,chartName:s}))}var h6=x.createContext(null),wU=()=>x.useContext(h6),Zx={exports:{}},o_;function NU(){return o_||(o_=1,(function(e){var r=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function s(u,h,m){this.fn=u,this.context=h,this.once=m||!1}function i(u,h,m,p,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new s(m,p||u,y),j=n?n+h:h;return u._events[j]?u._events[j].fn?u._events[j]=[u._events[j],v]:u._events[j].push(v):(u._events[j]=v,u._eventsCount++),u}function o(u,h){--u._eventsCount===0?u._events=new a:delete u._events[h]}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],m,p;if(this._eventsCount===0)return h;for(p in m=this._events)r.call(m,p)&&h.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},d.prototype.listeners=function(h){var m=n?n+h:h,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,v=p.length,j=new Array(v);y<v;y++)j[y]=p[y].fn;return j},d.prototype.listenerCount=function(h){var m=n?n+h:h,p=this._events[m];return p?p.fn?1:p.length:0},d.prototype.emit=function(h,m,p,y,v,j){var b=n?n+h:h;if(!this._events[b])return!1;var N=this._events[b],S=arguments.length,C,_;if(N.fn){switch(N.once&&this.removeListener(h,N.fn,void 0,!0),S){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,m),!0;case 3:return N.fn.call(N.context,m,p),!0;case 4:return N.fn.call(N.context,m,p,y),!0;case 5:return N.fn.call(N.context,m,p,y,v),!0;case 6:return N.fn.call(N.context,m,p,y,v,j),!0}for(_=1,C=new Array(S-1);_<S;_++)C[_-1]=arguments[_];N.fn.apply(N.context,C)}else{var P=N.length,O;for(_=0;_<P;_++)switch(N[_].once&&this.removeListener(h,N[_].fn,void 0,!0),S){case 1:N[_].fn.call(N[_].context);break;case 2:N[_].fn.call(N[_].context,m);break;case 3:N[_].fn.call(N[_].context,m,p);break;case 4:N[_].fn.call(N[_].context,m,p,y);break;default:if(!C)for(O=1,C=new Array(S-1);O<S;O++)C[O-1]=arguments[O];N[_].fn.apply(N[_].context,C)}}return!0},d.prototype.on=function(h,m,p){return i(this,h,m,p,!1)},d.prototype.once=function(h,m,p){return i(this,h,m,p,!0)},d.prototype.removeListener=function(h,m,p,y){var v=n?n+h:h;if(!this._events[v])return this;if(!m)return o(this,v),this;var j=this._events[v];if(j.fn)j.fn===m&&(!y||j.once)&&(!p||j.context===p)&&o(this,v);else{for(var b=0,N=[],S=j.length;b<S;b++)(j[b].fn!==m||y&&!j[b].once||p&&j[b].context!==p)&&N.push(j[b]);N.length?this._events[v]=N.length===1?N[0]:N:o(this,v)}return this},d.prototype.removeAllListeners=function(h){var m;return h?(m=n?n+h:h,this._events[m]&&o(this,m)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d})(Zx)),Zx.exports}var _U=NU();const kU=ns(_U);var kc=new kU,vg="recharts.syncEvent.tooltip",c_="recharts.syncEvent.brush";function _f(e,r){if(r){var n=Number.parseInt(r,10);if(!En(n))return e==null?void 0:e[n]}}var SU={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},p6=An({name:"options",initialState:SU,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),CU=p6.reducer,{createEventEmitter:PU}=p6.actions;function EU(e){return e.tooltip.syncInteraction}var OU={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},x6=An({name:"chartData",initialState:OU,reducers:{setChartData(e,r){if(e.chartData=r.payload,r.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}r.payload.length>0&&e.dataEndIndex!==r.payload.length-1&&(e.dataEndIndex=r.payload.length-1)},setComputedData(e,r){e.computedData=r.payload},setDataStartEndIndexes(e,r){var{startIndex:n,endIndex:a}=r.payload;n!=null&&(e.dataStartIndex=n),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:d_,setDataStartEndIndexes:AU,setComputedData:lJ}=x6.actions,TU=x6.reducer,MU=["x","y"];function u_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function fl(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?u_(Object(n),!0).forEach(function(a){DU(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function DU(e,r,n){return(r=$U(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function $U(e){var r=IU(e,"string");return typeof r=="symbol"?r:r+""}function IU(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function LU(e,r){if(e==null)return{};var n,a,s=RU(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function RU(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var g6=()=>{};function FU(){var e=Ce(Wy),r=Ce(qy),n=$t(),a=Ce(cC),s=Ce(ds),i=Lc(),o=nf(),d=Ce(u=>u.rootProps.className);x.useEffect(()=>{if(e==null)return g6;var u=(h,m,p)=>{if(r!==p&&e===h){if(a==="index"){var y;if(o&&m!==null&&m!==void 0&&(y=m.payload)!==null&&y!==void 0&&y.coordinate&&m.payload.sourceViewBox){var v=m.payload.coordinate,{x:j,y:b}=v,N=LU(v,MU),{x:S,y:C,width:_,height:P}=m.payload.sourceViewBox,O=fl(fl({},N),{},{x:o.x+(_?(j-S)/_:0)*o.width,y:o.y+(P?(b-C)/P:0)*o.height});n(fl(fl({},m),{},{payload:fl(fl({},m.payload),{},{coordinate:O})}))}else n(m);return}if(s!=null){var E;if(typeof a=="function"){var T={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},$=a(s,T);E=s[$]}else a==="value"&&(E=s.find(ee=>String(ee.value)===m.payload.label));var{coordinate:D}=m.payload;if(E==null||m.payload.active===!1||D==null||o==null){n(xg({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:z,y:I}=D,F=Math.min(z,o.x+o.width),M=Math.min(I,o.y+o.height),B={x:i==="horizontal"?E.coordinate:F,y:i==="horizontal"?M:E.coordinate},G=xg({active:m.payload.active,coordinate:B,dataKey:m.payload.dataKey,index:String(E.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox});n(G)}}};return kc.on(vg,u),()=>{kc.off(vg,u)}},[d,n,r,e,a,s,i,o])}function zU(){var e=Ce(Wy),r=Ce(qy),n=$t();x.useEffect(()=>{if(e==null)return g6;var a=(s,i,o)=>{r!==o&&e===s&&n(AU(i))};return kc.on(c_,a),()=>{kc.off(c_,a)}},[n,r,e])}function BU(){var e=$t();x.useEffect(()=>{e(PU())},[e]),FU(),zU()}function UU(e,r,n,a,s,i){var o=Ce(v=>mU(v,e,r)),d=Ce(qy),u=Ce(Wy),h=Ce(cC),m=Ce(EU),p=m==null?void 0:m.active,y=nf();x.useEffect(()=>{if(!p&&u!=null&&d!=null){var v=xg({active:i,coordinate:n,dataKey:o,index:s,label:typeof a=="number"?String(a):a,sourceViewBox:y});kc.emit(vg,u,v,d)}},[p,n,o,s,a,d,u,h,i,y])}function m_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function f_(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?m_(Object(n),!0).forEach(function(a){WU(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function WU(e,r,n){return(r=qU(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function qU(e){var r=HU(e,"string");return typeof r=="symbol"?r:r+""}function HU(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function KU(e){return e.dataKey}function VU(e,r){return x.isValidElement(e)?x.cloneElement(e,r):typeof e=="function"?x.createElement(e,r):x.createElement(mL,r)}var h_=[],GU={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!is.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Jc(e){var r=hr(e,GU),{active:n,allowEscapeViewBox:a,animationDuration:s,animationEasing:i,content:o,filterNull:d,isAnimationActive:u,offset:h,payloadUniqBy:m,position:p,reverseDirection:y,useTranslate3d:v,wrapperStyle:j,cursor:b,shared:N,trigger:S,defaultIndex:C,portal:_,axisId:P}=r,O=$t(),E=typeof C=="number"?String(C):C;x.useEffect(()=>{O(gB({shared:N,trigger:S,axisId:P,active:n,defaultIndex:E}))},[O,N,S,P,n,E]);var T=nf(),$=r4(),D=mB(N),{activeIndex:z,isActive:I}=Ce(ie=>pU(ie,D,S,E)),F=Ce(ie=>hU(ie,D,S,E)),M=Ce(ie=>f6(ie,D,S,E)),B=Ce(ie=>fU(ie,D,S,E)),G=F,ee=wU(),L=n??I,[H,te]=h5([G,L]),se=D==="axis"?M:void 0;UU(D,S,B,se,z,L);var U=_??ee;if(U==null)return null;var ne=G??h_;L||(ne=h_),d&&ne.length&&(ne=c5(G.filter(ie=>ie.value!=null&&(ie.hide!==!0||r.includeHidden)),m,KU));var Y=ne.length>0,K=x.createElement(vL,{allowEscapeViewBox:a,animationDuration:s,animationEasing:i,isAnimationActive:u,active:L,coordinate:B,hasPayload:Y,offset:h,position:p,reverseDirection:y,useTranslate3d:v,viewBox:T,wrapperStyle:j,lastBoundingBox:H,innerRef:te,hasPortalFromProps:!!_},VU(o,f_(f_({},r),{},{payload:ne,label:se,active:L,coordinate:B,accessibilityLayer:$})));return x.createElement(x.Fragment,null,Gk.createPortal(K,U),L&&x.createElement(jU,{cursor:b,tooltipEventType:D,coordinate:B,payload:G,index:z}))}var Qc=e=>null;Qc.displayName="Cell";function YU(e,r,n){return(r=ZU(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function ZU(e){var r=XU(e,"string");return typeof r=="symbol"?r:r+""}function XU(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class JU{constructor(r){YU(this,"cache",new Map),this.maxSize=r}get(r){var n=this.cache.get(r);return n!==void 0&&(this.cache.delete(r),this.cache.set(r,n)),n}set(r,n){if(this.cache.has(r))this.cache.delete(r);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(r,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function p_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function QU(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?p_(Object(n),!0).forEach(function(a){eW(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function eW(e,r,n){return(r=tW(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function tW(e){var r=rW(e,"string");return typeof r=="symbol"?r:r+""}function rW(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var nW={cacheSize:2e3,enableCache:!0},y6=QU({},nW),x_=new JU(y6.cacheSize),aW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},g_="recharts_measurement_span";function sW(e,r){var n=r.fontSize||"",a=r.fontFamily||"",s=r.fontWeight||"",i=r.fontStyle||"",o=r.letterSpacing||"",d=r.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(o,"|").concat(d)}var y_=(e,r)=>{try{var n=document.getElementById(g_);n||(n=document.createElement("span"),n.setAttribute("id",g_),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,aW,r),n.textContent="".concat(e);var a=n.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},oc=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||is.isSsr)return{width:0,height:0};if(!y6.enableCache)return y_(r,n);var a=sW(r,n),s=x_.get(a);if(s)return s;var i=y_(r,n);return x_.set(a,i),i},v_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,b_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,v6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},oW=Object.keys(v6),xl="NaN";function cW(e,r){return e*v6[r]}class fn{static parse(r){var n,[,a,s]=(n=lW.exec(r))!==null&&n!==void 0?n:[];return new fn(parseFloat(a),s??"")}constructor(r,n){this.num=r,this.unit=n,this.num=r,this.unit=n,En(r)&&(this.unit=""),n!==""&&!iW.test(n)&&(this.num=NaN,this.unit=""),oW.includes(n)&&(this.num=cW(r,n),this.unit="px")}add(r){return this.unit!==r.unit?new fn(NaN,""):new fn(this.num+r.num,this.unit)}subtract(r){return this.unit!==r.unit?new fn(NaN,""):new fn(this.num-r.num,this.unit)}multiply(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new fn(NaN,""):new fn(this.num*r.num,this.unit||r.unit)}divide(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new fn(NaN,""):new fn(this.num/r.num,this.unit||r.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return En(this.num)}}function b6(e){if(e.includes(xl))return xl;for(var r=e;r.includes("*")||r.includes("/");){var n,[,a,s,i]=(n=v_.exec(r))!==null&&n!==void 0?n:[],o=fn.parse(a??""),d=fn.parse(i??""),u=s==="*"?o.multiply(d):o.divide(d);if(u.isNaN())return xl;r=r.replace(v_,u.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var h,[,m,p,y]=(h=b_.exec(r))!==null&&h!==void 0?h:[],v=fn.parse(m??""),j=fn.parse(y??""),b=p==="+"?v.add(j):v.subtract(j);if(b.isNaN())return xl;r=r.replace(b_,b.toString())}return r}var j_=/\(([^()]*)\)/;function dW(e){for(var r=e,n;(n=j_.exec(r))!=null;){var[,a]=n;r=r.replace(j_,b6(a))}return r}function uW(e){var r=e.replace(/\s+/g,"");return r=dW(r),r=b6(r),r}function mW(e){try{return uW(e)}catch{return xl}}function Xx(e){var r=mW(e.slice(5,-1));return r===xl?"":r}var fW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],hW=["dx","dy","angle","className","breakAll"];function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},bg.apply(null,arguments)}function w_(e,r){if(e==null)return{};var n,a,s=pW(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function pW(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var j6=/[ \f\n\r\t\v\u2028\u2029]+/,w6=e=>{var{children:r,breakAll:n,style:a}=e;try{var s=[];Et(r)||(n?s=r.toString().split(""):s=r.toString().split(j6));var i=s.map(d=>({word:d,width:oc(d,a).width})),o=n?0:oc("",a).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},xW=(e,r,n,a,s)=>{var{maxLines:i,children:o,style:d,breakAll:u}=e,h=Se(i),m=o,p=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce((F,M)=>{var{word:B,width:G}=M,ee=F[F.length-1];if(ee&&(a==null||s||ee.width+G+n<Number(a)))ee.words.push(B),ee.width+=G+n;else{var L={words:[B],width:G};F.push(L)}return F},[])},y=p(r),v=z=>z.reduce((I,F)=>I.width>F.width?I:F);if(!h||s)return y;var j=y.length>i||v(y).width>Number(a);if(!j)return y;for(var b="",N=z=>{var I=m.slice(0,z),F=w6({breakAll:u,style:d,children:I+b}).wordsWithComputedWidth,M=p(F),B=M.length>i||v(M).width>Number(a);return[B,M]},S=0,C=m.length-1,_=0,P;S<=C&&_<=m.length-1;){var O=Math.floor((S+C)/2),E=O-1,[T,$]=N(E),[D]=N(O);if(!T&&!D&&(S=O+1),T&&D&&(C=O-1),!T&&D){P=$;break}_++}return P||y},N_=e=>{var r=Et(e)?[]:e.toString().split(j6);return[{words:r}]},gW=e=>{var{width:r,scaleToFit:n,children:a,style:s,breakAll:i,maxLines:o}=e;if((r||n)&&!is.isSsr){var d,u,h=w6({breakAll:i,children:a,style:s});if(h){var{wordsWithComputedWidth:m,spaceWidth:p}=h;d=m,u=p}else return N_(a);return xW({breakAll:i,children:a,maxLines:o,style:s},d,u,r,n)}return N_(a)},__="#808080",kf=x.forwardRef((e,r)=>{var{x:n=0,y:a=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:d="start",verticalAnchor:u="end",fill:h=__}=e,m=w_(e,fW),p=x.useMemo(()=>gW({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:o,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,o,m.style,m.width]),{dx:y,dy:v,angle:j,className:b,breakAll:N}=m,S=w_(m,hW);if(!Sa(n)||!Sa(a)||p.length===0)return null;var C=n+(Se(y)?y:0),_=a+(Se(v)?v:0),P;switch(u){case"start":P=Xx("calc(".concat(i,")"));break;case"middle":P=Xx("calc(".concat((p.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:P=Xx("calc(".concat(p.length-1," * -").concat(s,")"));break}var O=[];if(o){var E=p[0].width,{width:T}=m;O.push("scale(".concat(Se(T)?T/E:1,")"))}return j&&O.push("rotate(".concat(j,", ").concat(C,", ").concat(_,")")),O.length&&(S.transform=O.join(" ")),x.createElement("text",bg({},nn(S),{ref:r,x:C,y:_,className:tt("recharts-text",b),textAnchor:d,fill:h.includes("url")?__:h}),p.map(($,D)=>{var z=$.words.join(N?"":" ");return x.createElement("tspan",{x:C,dy:D===0?P:s,key:"".concat(z,"-").concat(D)},z)}))});kf.displayName="Text";var yW=["labelRef"];function vW(e,r){if(e==null)return{};var n,a,s=bW(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function bW(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function k_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Zt(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?k_(Object(n),!0).forEach(function(a){jW(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function jW(e,r,n){return(r=wW(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function wW(e){var r=NW(e,"string");return typeof r=="symbol"?r:r+""}function NW(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ba.apply(null,arguments)}var N6=x.createContext(null),_W=e=>{var{x:r,y:n,width:a,height:s,children:i}=e,o=x.useMemo(()=>({x:r,y:n,width:a,height:s}),[r,n,a,s]);return x.createElement(N6.Provider,{value:o},i)},_6=()=>{var e=x.useContext(N6),r=nf();return e||r},kW=x.createContext(null),SW=()=>{var e=x.useContext(kW),r=Ce(hC);return e||r},CW=e=>{var{value:r,formatter:n}=e,a=Et(e.children)?r:e.children;return typeof n=="function"?n(a):a},Nv=e=>e!=null&&typeof e=="function",PW=(e,r)=>{var n=Nr(r-e),a=Math.min(Math.abs(r-e),360);return n*a},EW=(e,r,n,a,s)=>{var{offset:i,className:o}=e,{cx:d,cy:u,innerRadius:h,outerRadius:m,startAngle:p,endAngle:y,clockWise:v}=s,j=(h+m)/2,b=PW(p,y),N=b>=0?1:-1,S,C;switch(r){case"insideStart":S=p+N*i,C=v;break;case"insideEnd":S=y-N*i,C=!v;break;case"end":S=y+N*i,C=v;break;default:throw new Error("Unsupported position ".concat(r))}C=b<=0?C:!C;var _=tr(d,u,j,S),P=tr(d,u,j,S+(C?1:-1)*359),O="M".concat(_.x,",").concat(_.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(C?0:1,`,
    `).concat(P.x,",").concat(P.y),E=Et(e.id)?pc("recharts-radial-line-"):e.id;return x.createElement("text",Ba({},a,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:E,d:O})),x.createElement("textPath",{xlinkHref:"#".concat(E)},n))},OW=(e,r,n)=>{var{cx:a,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:u}=e,h=(d+u)/2;if(n==="outside"){var{x:m,y:p}=tr(a,s,o+r,h);return{x:m,y:p,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(i+o)/2,{x:v,y:j}=tr(a,s,y,h);return{x:v,y:j,textAnchor:"middle",verticalAnchor:"middle"}},k6=e=>"cx"in e&&Se(e.cx),AW=(e,r)=>{var{parentViewBox:n,offset:a,position:s}=e,i;n!=null&&!k6(n)&&(i=n);var{x:o,y:d,width:u,height:h}=r,m=h>=0?1:-1,p=m*a,y=m>0?"end":"start",v=m>0?"start":"end",j=u>=0?1:-1,b=j*a,N=j>0?"end":"start",S=j>0?"start":"end";if(s==="top"){var C={x:o+u/2,y:d-m*a,textAnchor:"middle",verticalAnchor:y};return Zt(Zt({},C),i?{height:Math.max(d-i.y,0),width:u}:{})}if(s==="bottom"){var _={x:o+u/2,y:d+h+p,textAnchor:"middle",verticalAnchor:v};return Zt(Zt({},_),i?{height:Math.max(i.y+i.height-(d+h),0),width:u}:{})}if(s==="left"){var P={x:o-b,y:d+h/2,textAnchor:N,verticalAnchor:"middle"};return Zt(Zt({},P),i?{width:Math.max(P.x-i.x,0),height:h}:{})}if(s==="right"){var O={x:o+u+b,y:d+h/2,textAnchor:S,verticalAnchor:"middle"};return Zt(Zt({},O),i?{width:Math.max(i.x+i.width-O.x,0),height:h}:{})}var E=i?{width:u,height:h}:{};return s==="insideLeft"?Zt({x:o+b,y:d+h/2,textAnchor:S,verticalAnchor:"middle"},E):s==="insideRight"?Zt({x:o+u-b,y:d+h/2,textAnchor:N,verticalAnchor:"middle"},E):s==="insideTop"?Zt({x:o+u/2,y:d+p,textAnchor:"middle",verticalAnchor:v},E):s==="insideBottom"?Zt({x:o+u/2,y:d+h-p,textAnchor:"middle",verticalAnchor:y},E):s==="insideTopLeft"?Zt({x:o+b,y:d+p,textAnchor:S,verticalAnchor:v},E):s==="insideTopRight"?Zt({x:o+u-b,y:d+p,textAnchor:N,verticalAnchor:v},E):s==="insideBottomLeft"?Zt({x:o+b,y:d+h-p,textAnchor:S,verticalAnchor:y},E):s==="insideBottomRight"?Zt({x:o+u-b,y:d+h-p,textAnchor:N,verticalAnchor:y},E):s&&typeof s=="object"&&(Se(s.x)||Ja(s.x))&&(Se(s.y)||Ja(s.y))?Zt({x:o+Vr(s.x,u),y:d+Vr(s.y,h),textAnchor:"end",verticalAnchor:"end"},E):Zt({x:o+u/2,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},E)},TW={offset:5};function Ds(e){var r=hr(e,TW),{viewBox:n,position:a,value:s,children:i,content:o,className:d="",textBreakAll:u,labelRef:h}=r,m=SW(),p=_6(),y=a==="center"?p:m??p,v=n||y;if(!v||Et(s)&&Et(i)&&!x.isValidElement(o)&&typeof o!="function")return null;var j=Zt(Zt({},r),{},{viewBox:v});if(x.isValidElement(o)){var{labelRef:b}=j,N=vW(j,yW);return x.cloneElement(o,N)}var S;if(typeof o=="function"){if(S=x.createElement(o,j),x.isValidElement(S))return S}else S=CW(r);var C=k6(v),_=nn(r);if(C&&(a==="insideStart"||a==="insideEnd"||a==="end"))return EW(r,a,S,_,v);var P=C?OW(v,r.offset,r.position):AW(r,v);return x.createElement(kf,Ba({ref:h,className:tt("recharts-label",d)},_,P,{breakAll:u}),S)}Ds.displayName="Label";var MW=(e,r,n)=>{if(!e)return null;var a={viewBox:r,labelRef:n};return e===!0?x.createElement(Ds,Ba({key:"label-implicit"},a)):Sa(e)?x.createElement(Ds,Ba({key:"label-implicit",value:e},a)):x.isValidElement(e)?e.type===Ds?x.cloneElement(e,Zt({key:"label-implicit"},a)):x.createElement(Ds,Ba({key:"label-implicit",content:e},a)):Nv(e)?x.createElement(Ds,Ba({key:"label-implicit",content:e},a)):e&&typeof e=="object"?x.createElement(Ds,Ba({},e,{key:"label-implicit"},a)):null};function DW(e){var{label:r,labelRef:n}=e,a=_6();return MW(r,a,n)||null}var Jx={},Qx={},S_;function $W(){return S_||(S_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return n[n.length-1]}e.last=r})(Qx)),Qx}var e0={},C_;function IW(){return C_||(C_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=r})(e0)),e0}var P_;function LW(){return P_||(P_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=$W(),n=IW(),a=ay();function s(i){if(a.isArrayLike(i))return r.last(n.toArray(i))}e.last=s})(Jx)),Jx}var t0,E_;function RW(){return E_||(E_=1,t0=LW().last),t0}var FW=RW();const zW=ns(FW);var BW=["valueAccessor"],UW=["dataKey","clockWise","id","textBreakAll"];function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Em.apply(null,arguments)}function O_(e,r){if(e==null)return{};var n,a,s=WW(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function WW(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var qW=e=>Array.isArray(e.value)?zW(e.value):e.value,S6=x.createContext(void 0),_v=S6.Provider,C6=x.createContext(void 0),HW=C6.Provider;function KW(){return x.useContext(S6)}function VW(){return x.useContext(C6)}function Bu(e){var{valueAccessor:r=qW}=e,n=O_(e,BW),{dataKey:a,clockWise:s,id:i,textBreakAll:o}=n,d=O_(n,UW),u=KW(),h=VW(),m=u||h;return!m||!m.length?null:x.createElement(Vt,{className:"recharts-label-list"},m.map((p,y)=>{var v,j=Et(a)?r(p,y):gt(p&&p.payload,a),b=Et(i)?{}:{id:"".concat(i,"-").concat(y)};return x.createElement(Ds,Em({key:"label-".concat(y)},nn(p),d,b,{fill:(v=n.fill)!==null&&v!==void 0?v:p.fill,parentViewBox:p.parentViewBox,value:j,textBreakAll:o,viewBox:p.viewBox,index:y}))}))}Bu.displayName="LabelList";function Sf(e){var{label:r}=e;return r?r===!0?x.createElement(Bu,{key:"labelList-implicit"}):x.isValidElement(r)||Nv(r)?x.createElement(Bu,{key:"labelList-implicit",content:r}):typeof r=="object"?x.createElement(Bu,Em({key:"labelList-implicit"},r,{type:String(r.type)})):null:null}function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},jg.apply(null,arguments)}var kv=e=>{var{cx:r,cy:n,r:a,className:s}=e,i=tt("recharts-dot",s);return r===+r&&n===+n&&a===+a?x.createElement("circle",jg({},rn(e),ty(e),{className:i,cx:r,cy:n,r:a})):null},P6=e=>e.graphicalItems.polarItems,GW=Z([It,Hc],Yy),Cf=Z([P6,Bt,GW],Zy),YW=Z([Cf],Xy),Pf=Z([YW,Fy],Jy),ZW=Z([Pf,Bt,Cf],ev);Z([Pf,Bt,Cf],(e,r,n)=>n.length>0?e.flatMap(a=>n.flatMap(s=>{var i,o=gt(a,(i=r.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(r==null?void 0:r.dataKey)!=null?e.map(a=>({value:gt(a,r.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})));var A_=()=>{},XW=Z([Pf,Bt,Cf,bf,It],av),JW=Z([Bt,rv,nv,A_,XW,A_,Ve,It],sv),E6=Z([Bt,Ve,Pf,ZW,qc,It,JW],iv),QW=Z([E6,Bt,no],cv);Z([Bt,E6,QW,It],uv);var eq={radiusAxis:{},angleAxis:{}},O6=An({name:"polarAxis",initialState:eq,reducers:{addRadiusAxis(e,r){e.radiusAxis[r.payload.id]=r.payload},removeRadiusAxis(e,r){delete e.radiusAxis[r.payload.id]},addAngleAxis(e,r){e.angleAxis[r.payload.id]=r.payload},removeAngleAxis(e,r){delete e.angleAxis[r.payload.id]}}}),{addRadiusAxis:oJ,removeRadiusAxis:cJ,addAngleAxis:dJ,removeAngleAxis:uJ}=O6.actions,tq=O6.reducer;function T_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function M_(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?T_(Object(n),!0).forEach(function(a){rq(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function rq(e,r,n){return(r=nq(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function nq(e){var r=aq(e,"string");return typeof r=="symbol"?r:r+""}function aq(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var sq=(e,r)=>r,Sv=Z([P6,sq],(e,r)=>e.filter(n=>n.type==="pie").find(n=>n.id===r)),iq=[],Cv=(e,r,n)=>(n==null?void 0:n.length)===0?iq:n,A6=Z([Fy,Sv,Cv],(e,r,n)=>{var{chartData:a}=e;if(r!=null){var s;if((r==null?void 0:r.data)!=null&&r.data.length>0?s=r.data:s=a,(!s||!s.length)&&n!=null&&(s=n.map(i=>M_(M_({},r.presentationProps),i.props))),s!=null)return s}}),lq=Z([A6,Sv,Cv],(e,r,n)=>{if(!(e==null||r==null))return e.map((a,s)=>{var i,o=gt(a,r.nameKey,r.name),d;return n!=null&&(i=n[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?d=n[s].props.fill:typeof a=="object"&&a!=null&&"fill"in a?d=a.fill:d=r.fill,{value:Vs(o,r.dataKey),color:d,payload:a,type:r.legendType}})}),oq=Z([A6,Sv,Cv,fr],(e,r,n,a)=>{if(!(r==null||e==null))return oH({offset:a,pieSettings:r,displayedData:e,cells:n})}),r0={exports:{}},pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function cq(){if(D_)return pt;D_=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function j(b){if(typeof b=="object"&&b!==null){var N=b.$$typeof;switch(N){case e:switch(b=b.type,b){case n:case s:case a:case u:case h:case y:return b;default:switch(b=b&&b.$$typeof,b){case o:case d:case p:case m:return b;case i:return b;default:return N}}case r:return N}}}return pt.ContextConsumer=i,pt.ContextProvider=o,pt.Element=e,pt.ForwardRef=d,pt.Fragment=n,pt.Lazy=p,pt.Memo=m,pt.Portal=r,pt.Profiler=s,pt.StrictMode=a,pt.Suspense=u,pt.SuspenseList=h,pt.isContextConsumer=function(b){return j(b)===i},pt.isContextProvider=function(b){return j(b)===o},pt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},pt.isForwardRef=function(b){return j(b)===d},pt.isFragment=function(b){return j(b)===n},pt.isLazy=function(b){return j(b)===p},pt.isMemo=function(b){return j(b)===m},pt.isPortal=function(b){return j(b)===r},pt.isProfiler=function(b){return j(b)===s},pt.isStrictMode=function(b){return j(b)===a},pt.isSuspense=function(b){return j(b)===u},pt.isSuspenseList=function(b){return j(b)===h},pt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===s||b===a||b===u||b===h||typeof b=="object"&&b!==null&&(b.$$typeof===p||b.$$typeof===m||b.$$typeof===o||b.$$typeof===i||b.$$typeof===d||b.$$typeof===v||b.getModuleId!==void 0)},pt.typeOf=j,pt}var $_;function dq(){return $_||($_=1,r0.exports=cq()),r0.exports}var uq=dq(),I_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",L_=null,n0=null,T6=e=>{if(e===L_&&Array.isArray(n0))return n0;var r=[];return x.Children.forEach(e,n=>{Et(n)||(uq.isFragment(n)?r=r.concat(T6(n.props.children)):r.push(n))}),n0=r,L_=e,r};function Pv(e,r){var n=[],a=[];return Array.isArray(r)?a=r.map(s=>I_(s)):a=[I_(r)],T6(e).forEach(s=>{var i=Pi(s,"type.displayName")||Pi(s,"type.name");a.indexOf(i)!==-1&&n.push(s)}),n}var Ef=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,a0={},R_;function mq(){return R_||(R_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(n){var s;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((s=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&s.writable)?!1:n.toString()===`[object ${i}]`}let a=n;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(n)===a}e.isPlainObject=r})(a0)),a0}var s0,F_;function fq(){return F_||(F_=1,s0=mq().isPlainObject),s0}var hq=fq();const pq=ns(hq);function z_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function B_(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?z_(Object(n),!0).forEach(function(a){xq(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function xq(e,r,n){return(r=gq(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function gq(e){var r=yq(e,"string");return typeof r=="symbol"?r:r+""}function yq(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Om(){return Om=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Om.apply(null,arguments)}var U_=(e,r,n,a,s)=>{var i=n-a,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-i/2,",").concat(r+s),o+="L ".concat(e+n-i/2-a,",").concat(r+s),o+="L ".concat(e,",").concat(r," Z"),o},vq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bq=e=>{var r=hr(e,vq),{x:n,y:a,upperWidth:s,lowerWidth:i,height:o,className:d}=r,{animationEasing:u,animationDuration:h,animationBegin:m,isUpdateAnimationActive:p}=r,y=x.useRef(null),[v,j]=x.useState(-1),b=x.useRef(s),N=x.useRef(i),S=x.useRef(o),C=x.useRef(n),_=x.useRef(a),P=Zl(e,"trapezoid-");if(x.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var B=y.current.getTotalLength();B&&j(B)}catch{}},[]),n!==+n||a!==+a||s!==+s||i!==+i||o!==+o||s===0&&i===0||o===0)return null;var O=tt("recharts-trapezoid",d);if(!p)return x.createElement("g",null,x.createElement("path",Om({},nn(r),{className:O,d:U_(n,a,s,i,o)})));var E=b.current,T=N.current,$=S.current,D=C.current,z=_.current,I="0px ".concat(v===-1?1:v,"px"),F="".concat(v,"px 0px"),M=n4(["strokeDasharray"],h,u);return x.createElement(Yl,{animationId:P,key:P,canBegin:v>0,duration:h,easing:u,isActive:p,begin:m},B=>{var G=xt(E,s,B),ee=xt(T,i,B),L=xt($,o,B),H=xt(D,n,B),te=xt(z,a,B);y.current&&(b.current=G,N.current=ee,S.current=L,C.current=H,_.current=te);var se=B>0?{transition:M,strokeDasharray:F}:{strokeDasharray:I};return x.createElement("path",Om({},nn(r),{className:O,d:U_(H,te,G,ee,L),ref:y,style:B_(B_({},se),r.style)}))})},jq=["option","shapeType","propTransformer","activeClassName","isActive"];function wq(e,r){if(e==null)return{};var n,a,s=Nq(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Nq(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function W_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Am(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?W_(Object(n),!0).forEach(function(a){_q(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function _q(e,r,n){return(r=kq(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function kq(e){var r=Sq(e,"string");return typeof r=="symbol"?r:r+""}function Sq(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Cq(e,r){return Am(Am({},r),e)}function Pq(e,r){return e==="symbols"}function q_(e){var{shapeType:r,elementProps:n}=e;switch(r){case"rectangle":return x.createElement(l4,n);case"trapezoid":return x.createElement(bq,n);case"sector":return x.createElement(d4,n);case"symbols":if(Pq(r))return x.createElement(ey,n);break;default:return null}}function Eq(e){return x.isValidElement(e)?e.props:e}function M6(e){var{option:r,shapeType:n,propTransformer:a=Cq,activeClassName:s="recharts-active-shape",isActive:i}=e,o=wq(e,jq),d;if(x.isValidElement(r))d=x.cloneElement(r,Am(Am({},o),Eq(r)));else if(typeof r=="function")d=r(o);else if(pq(r)&&typeof r!="boolean"){var u=a(r,o);d=x.createElement(q_,{shapeType:n,elementProps:u})}else{var h=o;d=x.createElement(q_,{shapeType:n,elementProps:h})}return i?x.createElement(Vt,{className:s},d):d}var Ev=(e,r)=>{var n=$t();return(a,s)=>i=>{e==null||e(a,s,i),n(KC({activeIndex:String(s),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}},Ov=e=>{var r=$t();return(n,a)=>s=>{e==null||e(n,a,s),r(yB())}},Av=(e,r)=>{var n=$t();return(a,s)=>i=>{e==null||e(a,s,i),n(vB({activeIndex:String(s),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}};function Of(e){var{fn:r,args:n}=e,a=$t(),s=Ir();return x.useLayoutEffect(()=>{if(!s){var i=r(n);return a(pB(i)),()=>{a(xB(i))}}},[r,n,a,s]),null}var D6=()=>{};function Tv(e){var{legendPayload:r}=e,n=$t(),a=Ir();return x.useLayoutEffect(()=>a?D6:(n(e4(r)),()=>{n(t4(r))}),[n,a,r]),null}function Oq(e){var{legendPayload:r}=e,n=$t(),a=Ce(Ve);return x.useLayoutEffect(()=>a!=="centric"&&a!=="radial"?D6:(n(e4(r)),()=>{n(t4(r))}),[n,a,r]),null}var i0,Aq=()=>{var[e]=x.useState(()=>pc("uid-"));return e},Tq=(i0=$E.useId)!==null&&i0!==void 0?i0:Aq;function Mq(e,r){var n=Tq();return r||(e?"".concat(e,"-").concat(n):n)}var Dq=x.createContext(void 0),Af=e=>{var{id:r,type:n,children:a}=e,s=Mq("recharts-".concat(n),r);return x.createElement(Dq.Provider,{value:s},a(s))},$q={cartesianItems:[],polarItems:[]},$6=An({name:"graphicalItems",initialState:$q,reducers:{addCartesianGraphicalItem:{reducer(e,r){e.cartesianItems.push(r.payload)},prepare:Xr()},replaceCartesianGraphicalItem:{reducer(e,r){var{prev:n,next:a}=r.payload,s=Va(e).cartesianItems.indexOf(n);s>-1&&(e.cartesianItems[s]=a)},prepare:Xr()},removeCartesianGraphicalItem:{reducer(e,r){var n=Va(e).cartesianItems.indexOf(r.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Xr()},addPolarGraphicalItem:{reducer(e,r){e.polarItems.push(r.payload)},prepare:Xr()},removePolarGraphicalItem:{reducer(e,r){var n=Va(e).polarItems.indexOf(r.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Xr()}}}),{addCartesianGraphicalItem:Iq,replaceCartesianGraphicalItem:Lq,removeCartesianGraphicalItem:Rq,addPolarGraphicalItem:Fq,removePolarGraphicalItem:zq}=$6.actions,Bq=$6.reducer;function Mv(e){var r=$t(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?r(Iq(e)):n.current!==e&&r(Lq({prev:n.current,next:e})),n.current=e},[r,e]),x.useLayoutEffect(()=>()=>{n.current&&(r(Rq(n.current)),n.current=null)},[r]),null}function Uq(e){var r=$t();return x.useLayoutEffect(()=>(r(Fq(e)),()=>{r(zq(e))}),[r,e]),null}var Wq=["onMouseEnter","onClick","onMouseLeave"],qq=["id"],Hq=["id"];function Dv(e,r){if(e==null)return{};var n,a,s=Kq(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Kq(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function H_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Tt(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?H_(Object(n),!0).forEach(function(a){Vq(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Vq(e,r,n){return(r=Gq(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Gq(e){var r=Yq(e,"string");return typeof r=="symbol"?r:r+""}function Yq(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hs.apply(null,arguments)}function Zq(e){var r=x.useMemo(()=>Pv(e.children,Qc),[e.children]),n=Ce(a=>lq(a,e.id,r));return n==null?null:x.createElement(Oq,{legendPayload:n})}function Xq(e){var{dataKey:r,nameKey:n,sectors:a,stroke:s,strokeWidth:i,fill:o,name:d,hide:u,tooltipType:h}=e;return{dataDefinedOnItem:a.map(m=>m.tooltipPayload),positions:a.map(m=>m.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:r,nameKey:n,name:Vs(d,r),hide:u,type:h,color:o,unit:""}}}var Jq=(e,r)=>e>r?"start":e<r?"end":"middle",Qq=(e,r,n)=>Vr(typeof r=="function"?r(e):r,n,n*.8),eH=(e,r,n)=>{var{top:a,left:s,width:i,height:o}=r,d=B5(i,o),u=s+Vr(e.cx,i,i/2),h=a+Vr(e.cy,o,o/2),m=Vr(e.innerRadius,d,0),p=Qq(n,e.outerRadius,d),y=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:u,cy:h,innerRadius:m,outerRadius:p,maxRadius:y}},tH=(e,r)=>{var n=Nr(r-e),a=Math.min(Math.abs(r-e),360);return n*a};function rH(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var nH=(e,r)=>{if(x.isValidElement(e))return x.cloneElement(e,r);if(typeof e=="function")return e(r);var n=tt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return x.createElement(jl,Hs({},r,{type:"linear",className:n}))},aH=(e,r,n)=>{if(x.isValidElement(e))return x.cloneElement(e,r);var a=n;if(typeof e=="function"&&(a=e(r),x.isValidElement(a)))return a;var s=tt("recharts-pie-label-text",rH(e));return x.createElement(kf,Hs({},r,{alignmentBaseline:"middle",className:s}),a)};function sH(e){var{sectors:r,props:n,showLabels:a}=e,{label:s,labelLine:i,dataKey:o}=n;if(!a||!s||!r)return null;var d=rn(n),u=Ci(s),h=Ci(i),m=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,p=r.map((y,v)=>{var j=(y.startAngle+y.endAngle)/2,b=tr(y.cx,y.cy,y.outerRadius+m,j),N=Tt(Tt(Tt(Tt({},d),y),{},{stroke:"none"},u),{},{index:v,textAnchor:Jq(b.x,y.cx)},b),S=Tt(Tt(Tt(Tt({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:v,points:[tr(y.cx,y.cy,y.outerRadius,j),b],key:"line"});return x.createElement(Vt,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},i&&nH(i,S),aH(s,N,gt(y,o)))});return x.createElement(Vt,{className:"recharts-pie-labels"},p)}function iH(e){var{sectors:r,props:n,showLabels:a}=e,{label:s}=n;return typeof s=="object"&&s!=null&&"position"in s?x.createElement(Sf,{label:s}):x.createElement(sH,{sectors:r,props:n,showLabels:a})}function lH(e){var{sectors:r,activeShape:n,inactiveShape:a,allOtherPieProps:s}=e,i=Ce(qs),{onMouseEnter:o,onClick:d,onMouseLeave:u}=s,h=Dv(s,Wq),m=Ev(o,s.dataKey),p=Ov(u),y=Av(d,s.dataKey);return r==null||r.length===0?null:x.createElement(x.Fragment,null,r.map((v,j)=>{if((v==null?void 0:v.startAngle)===0&&(v==null?void 0:v.endAngle)===0&&r.length!==1)return null;var b=n&&String(j)===i,N=i?a:null,S=b?n:N,C=Tt(Tt({},v),{},{stroke:v.stroke,tabIndex:-1,[V5]:j,[G5]:s.dataKey});return x.createElement(Vt,Hs({key:"sector-".concat(v==null?void 0:v.startAngle,"-").concat(v==null?void 0:v.endAngle,"-").concat(v.midAngle,"-").concat(j),tabIndex:-1,className:"recharts-pie-sector"},Mc(h,v,j),{onMouseEnter:m(v,j),onMouseLeave:p(v,j),onClick:y(v,j)}),x.createElement(M6,Hs({option:S,isActive:b,shapeType:"sector"},C)))}))}function oH(e){var r,{pieSettings:n,displayedData:a,cells:s,offset:i}=e,{cornerRadius:o,startAngle:d,endAngle:u,dataKey:h,nameKey:m,tooltipType:p}=n,y=Math.abs(n.minAngle),v=tH(d,u),j=Math.abs(v),b=a.length<=1?0:(r=n.paddingAngle)!==null&&r!==void 0?r:0,N=a.filter(E=>gt(E,h,0)!==0).length,S=(j>=360?N:N-1)*b,C=j-N*y-S,_=a.reduce((E,T)=>{var $=gt(T,h,0);return E+(Se($)?$:0)},0),P;if(_>0){var O;P=a.map((E,T)=>{var $=gt(E,h,0),D=gt(E,m,T),z=eH(n,i,E),I=(Se($)?$:0)/_,F,M=Tt(Tt({},E),s&&s[T]&&s[T].props);T?F=O.endAngle+Nr(v)*b*($!==0?1:0):F=d;var B=F+Nr(v)*(($!==0?y:0)+I*C),G=(F+B)/2,ee=(z.innerRadius+z.outerRadius)/2,L=[{name:D,value:$,payload:M,dataKey:h,type:p}],H=tr(z.cx,z.cy,ee,G);return O=Tt(Tt(Tt(Tt({},n.presentationProps),{},{percent:I,cornerRadius:o,name:D,tooltipPayload:L,midAngle:G,middleRadius:ee,tooltipPosition:H},M),z),{},{value:$,startAngle:F,endAngle:B,payload:M,paddingAngle:Nr(v)*b}),O})}return P}function cH(e){var{showLabels:r,sectors:n,children:a}=e,s=x.useMemo(()=>!r||!n?[]:n.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[n,r]);return x.createElement(HW,{value:r?s:void 0},a)}function dH(e){var{props:r,previousSectorsRef:n}=e,{sectors:a,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:d,activeShape:u,inactiveShape:h,onAnimationStart:m,onAnimationEnd:p}=r,y=Zl(r,"recharts-pie-"),v=n.current,[j,b]=x.useState(!1),N=x.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),S=x.useCallback(()=>{typeof m=="function"&&m(),b(!0)},[m]);return x.createElement(cH,{showLabels:!j,sectors:a},x.createElement(Yl,{animationId:y,begin:i,duration:o,isActive:s,easing:d,onAnimationStart:S,onAnimationEnd:N,key:y},C=>{var _=[],P=a&&a[0],O=P==null?void 0:P.startAngle;return a==null||a.forEach((E,T)=>{var $=v&&v[T],D=T>0?Pi(E,"paddingAngle",0):0;if($){var z=xt($.endAngle-$.startAngle,E.endAngle-E.startAngle,C),I=Tt(Tt({},E),{},{startAngle:O+D,endAngle:O+z+D});_.push(I),O=I.endAngle}else{var{endAngle:F,startAngle:M}=E,B=xt(0,F-M,C),G=Tt(Tt({},E),{},{startAngle:O+D,endAngle:O+B+D});_.push(G),O=G.endAngle}}),n.current=_,x.createElement(Vt,null,x.createElement(lH,{sectors:_,activeShape:u,inactiveShape:h,allOtherPieProps:r}))}),x.createElement(iH,{showLabels:!j,sectors:a,props:r}),r.children)}var uH={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!is.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function mH(e){var{id:r}=e,n=Dv(e,qq),{hide:a,className:s,rootTabIndex:i}=e,o=x.useMemo(()=>Pv(e.children,Qc),[e.children]),d=Ce(m=>oq(m,r,o)),u=x.useRef(null),h=tt("recharts-pie",s);return a||d==null?(u.current=null,x.createElement(Vt,{tabIndex:i,className:h})):x.createElement(x.Fragment,null,x.createElement(Of,{fn:Xq,args:Tt(Tt({},e),{},{sectors:d})}),x.createElement(Vt,{tabIndex:i,className:h},x.createElement(dH,{props:Tt(Tt({},n),{},{sectors:d}),previousSectorsRef:u})))}function I6(e){var r=hr(e,uH),{id:n}=r,a=Dv(r,Hq),s=rn(a);return x.createElement(Af,{id:n,type:"pie"},i=>x.createElement(x.Fragment,null,x.createElement(Uq,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:s,maxRadius:r.maxRadius}),x.createElement(Zq,Hs({},a,{id:i})),x.createElement(mH,Hs({},a,{id:i}))))}I6.displayName="Pie";function K_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function V_(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?K_(Object(n),!0).forEach(function(a){fH(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function fH(e,r,n){return(r=hH(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function hH(e){var r=pH(e,"string");return typeof r=="symbol"?r:r+""}function pH(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var xH={xAxis:{},yAxis:{},zAxis:{}},L6=An({name:"cartesianAxis",initialState:xH,reducers:{addXAxis:{reducer(e,r){e.xAxis[r.payload.id]=r.payload},prepare:Xr()},removeXAxis:{reducer(e,r){delete e.xAxis[r.payload.id]},prepare:Xr()},addYAxis:{reducer(e,r){e.yAxis[r.payload.id]=r.payload},prepare:Xr()},removeYAxis:{reducer(e,r){delete e.yAxis[r.payload.id]},prepare:Xr()},addZAxis:{reducer(e,r){e.zAxis[r.payload.id]=r.payload},prepare:Xr()},removeZAxis:{reducer(e,r){delete e.zAxis[r.payload.id]},prepare:Xr()},updateYAxisWidth(e,r){var{id:n,width:a}=r.payload,s=e.yAxis[n];if(s){var i=s.widthHistory||[];if(i.length===3&&i[0]===i[2]&&a===i[1]&&a!==s.width&&Math.abs(a-i[0])<=1)return;var o=[...i,a].slice(-3);e.yAxis[n]=V_(V_({},e.yAxis[n]),{},{width:a,widthHistory:o})}}}}),{addXAxis:gH,removeXAxis:yH,addYAxis:vH,removeYAxis:bH,addZAxis:mJ,removeZAxis:fJ,updateYAxisWidth:jH}=L6.actions,wH=L6.reducer,NH=Z([fr],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),_H=Z([NH,as,ss],(e,r,n)=>{if(!(!e||r==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,r-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Tf=()=>Ce(_H),kH=()=>Ce(sU);function G_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Y_(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?G_(Object(n),!0).forEach(function(a){SH(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function SH(e,r,n){return(r=CH(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function CH(e){var r=PH(e,"string");return typeof r=="symbol"?r:r+""}function PH(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var EH=e=>{var{point:r,childIndex:n,mainColor:a,activeDot:s,dataKey:i}=e;if(s===!1||r.x==null||r.y==null)return null;var o=Y_(Y_({index:n,dataKey:i,cx:r.x,cy:r.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},Ci(s)),ty(s)),d;return x.isValidElement(s)?d=x.cloneElement(s,o):typeof s=="function"?d=s(o):d=x.createElement(kv,o),x.createElement(Vt,{className:"recharts-active-dot"},d)};function wg(e){var{points:r,mainColor:n,activeDot:a,itemDataKey:s}=e,i=Ce(qs),o=kH();if(r==null||o==null)return null;var d=r.find(u=>o.includes(u.payload));return Et(d)?null:EH({point:d,childIndex:Number(i),mainColor:n,dataKey:s,activeDot:a})}var OH="Invariant failed";function AH(e,r){throw new Error(OH)}var TH=["x","y"];function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ng.apply(null,arguments)}function Z_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Qo(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Z_(Object(n),!0).forEach(function(a){MH(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function MH(e,r,n){return(r=DH(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function DH(e){var r=$H(e,"string");return typeof r=="symbol"?r:r+""}function $H(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function IH(e,r){if(e==null)return{};var n,a,s=LH(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function LH(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function RH(e,r){var{x:n,y:a}=e,s=IH(e,TH),i="".concat(n),o=parseInt(i,10),d="".concat(a),u=parseInt(d,10),h="".concat(r.height||s.height),m=parseInt(h,10),p="".concat(r.width||s.width),y=parseInt(p,10);return Qo(Qo(Qo(Qo(Qo({},r),s),o?{x:o}:{}),u?{y:u}:{}),{},{height:m,width:y,name:r.name,radius:r.radius})}function $v(e){return x.createElement(M6,Ng({shapeType:"rectangle",propTransformer:RH,activeClassName:"recharts-active-bar"},e))}var FH=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,s)=>{if(Se(r))return r;var i=Se(a)||Et(a);return i?r(a,s):(i||AH(),n)}},zH={},R6=An({name:"errorBars",initialState:zH,reducers:{addErrorBar:(e,r)=>{var{itemId:n,errorBar:a}=r.payload;e[n]||(e[n]=[]),e[n].push(a)},replaceErrorBar:(e,r)=>{var{itemId:n,prev:a,next:s}=r.payload;e[n]&&(e[n]=e[n].map(i=>i.dataKey===a.dataKey&&i.direction===a.direction?s:i))},removeErrorBar:(e,r)=>{var{itemId:n,errorBar:a}=r.payload;e[n]&&(e[n]=e[n].filter(s=>s.dataKey!==a.dataKey||s.direction!==a.direction))}}}),{addErrorBar:hJ,replaceErrorBar:pJ,removeErrorBar:xJ}=R6.actions,BH=R6.reducer,UH=["children"];function WH(e,r){if(e==null)return{};var n,a,s=qH(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function qH(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var HH={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},KH=x.createContext(HH);function F6(e){var{children:r}=e,n=WH(e,UH);return x.createElement(KH.Provider,{value:n},r)}function Mf(e,r){var n,a,s=Ce(h=>os(h,e)),i=Ce(h=>cs(h,r)),o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:jn.allowDataOverflow,d=(a=i==null?void 0:i.allowDataOverflow)!==null&&a!==void 0?a:wn.allowDataOverflow,u=o||d;return{needClip:u,needClipX:o,needClipY:d}}function Iv(e){var{xAxisId:r,yAxisId:n,clipPathId:a}=e,s=Tf(),{needClipX:i,needClipY:o,needClip:d}=Mf(r,n);if(!d)return null;var{x:u,y:h,width:m,height:p}=s;return x.createElement("clipPath",{id:"clipPath-".concat(a)},x.createElement("rect",{x:i?u:u-m/2,y:o?h:h-p/2,width:i?m:m*2,height:o?p:p*2}))}var VH=["onMouseEnter","onMouseLeave","onClick"],GH=["value","background","tooltipPosition"],YH=["id"],ZH=["onMouseEnter","onClick","onMouseLeave"];function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ks.apply(null,arguments)}function X_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Jr(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?X_(Object(n),!0).forEach(function(a){XH(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function XH(e,r,n){return(r=JH(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function JH(e){var r=QH(e,"string");return typeof r=="symbol"?r:r+""}function QH(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Tm(e,r){if(e==null)return{};var n,a,s=eK(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function eK(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var tK=e=>{var{dataKey:r,name:n,fill:a,legendType:s,hide:i}=e;return[{inactive:i,dataKey:r,type:s,color:a,value:Vs(n,r),payload:e}]};function rK(e){var{dataKey:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:o,unit:d}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:r,nameKey:void 0,name:Vs(i,r),hide:o,type:e.tooltipType,color:e.fill,unit:d}}}function nK(e){var r=Ce(qs),{data:n,dataKey:a,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:d,onClick:u}=i,h=Tm(i,VH),m=Ev(o,a),p=Ov(d),y=Av(u,a);if(!s||n==null)return null;var v=Ci(s);return x.createElement(x.Fragment,null,n.map((j,b)=>{var{value:N,background:S,tooltipPosition:C}=j,_=Tm(j,GH);if(!S)return null;var P=m(j,b),O=p(j,b),E=y(j,b),T=Jr(Jr(Jr(Jr(Jr({option:s,isActive:String(b)===r},_),{},{fill:"#eee"},S),v),Mc(h,j,b)),{},{onMouseEnter:P,onMouseLeave:O,onClick:E,dataKey:a,index:b,className:"recharts-bar-background-rectangle"});return x.createElement($v,Ks({key:"background-bar-".concat(b)},T))}))}function aK(e){var{showLabels:r,children:n,rects:a}=e,s=a==null?void 0:a.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return Jr(Jr({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return x.createElement(_v,{value:r?s:void 0},n)}function sK(e){var{shape:r,activeBar:n,baseProps:a,entry:s,index:i,dataKey:o}=e,d=Ce(qs),u=Ce(l6),h=n&&String(i)===d&&(u==null||o===u),m=h?n:r;return x.createElement($v,Ks({},a,{name:String(a.name)},s,{isActive:h,option:m,index:i,dataKey:o}))}function iK(e){var{shape:r,baseProps:n,entry:a,index:s,dataKey:i}=e;return x.createElement($v,Ks({},n,{name:String(n.name)},a,{isActive:!1,option:r,index:s,dataKey:i}))}function lK(e){var{data:r,props:n}=e,a=rn(n),{id:s}=a,i=Tm(a,YH),{shape:o,dataKey:d,activeBar:u}=n,{onMouseEnter:h,onClick:m,onMouseLeave:p}=n,y=Tm(n,ZH),v=Ev(h,d),j=Ov(p),b=Av(m,d);return r?x.createElement(x.Fragment,null,r.map((N,S)=>x.createElement(Vt,Ks({key:"rectangle-".concat(N==null?void 0:N.x,"-").concat(N==null?void 0:N.y,"-").concat(N==null?void 0:N.value,"-").concat(S),className:"recharts-bar-rectangle"},Mc(y,N,S),{onMouseEnter:v(N,S),onMouseLeave:j(N,S),onClick:b(N,S)}),u?x.createElement(sK,{shape:o,activeBar:u,baseProps:i,entry:N,index:S,dataKey:d}):x.createElement(iK,{shape:o,baseProps:i,entry:N,index:S,dataKey:d})))):null}function oK(e){var{props:r,previousRectanglesRef:n}=e,{data:a,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:d,animationEasing:u,onAnimationEnd:h,onAnimationStart:m}=r,p=n.current,y=Zl(r,"recharts-bar-"),[v,j]=x.useState(!1),b=!v,N=x.useCallback(()=>{typeof h=="function"&&h(),j(!1)},[h]),S=x.useCallback(()=>{typeof m=="function"&&m(),j(!0)},[m]);return x.createElement(aK,{showLabels:b,rects:a},x.createElement(Yl,{animationId:y,begin:o,duration:d,isActive:i,easing:u,onAnimationEnd:N,onAnimationStart:S,key:y},C=>{var _=C===1?a:a==null?void 0:a.map((P,O)=>{var E=p&&p[O];if(E)return Jr(Jr({},P),{},{x:xt(E.x,P.x,C),y:xt(E.y,P.y,C),width:xt(E.width,P.width,C),height:xt(E.height,P.height,C)});if(s==="horizontal"){var T=xt(0,P.height,C);return Jr(Jr({},P),{},{y:P.y+P.height-T,height:T})}var $=xt(0,P.width,C);return Jr(Jr({},P),{},{width:$})});return C>0&&(n.current=_??null),_==null?null:x.createElement(Vt,null,x.createElement(lK,{props:r,data:_}))}),x.createElement(Sf,{label:r.label}),r.children)}function cK(e){var r=x.useRef(null);return x.createElement(oK,{previousRectanglesRef:r,props:e})}var z6=0,dK=(e,r)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:gt(e,r)}};class uK extends x.PureComponent{render(){var{hide:r,data:n,dataKey:a,className:s,xAxisId:i,yAxisId:o,needClip:d,background:u,id:h}=this.props;if(r||n==null)return null;var m=tt("recharts-bar",s),p=h;return x.createElement(Vt,{className:m,id:h},d&&x.createElement("defs",null,x.createElement(Iv,{clipPathId:p,xAxisId:i,yAxisId:o})),x.createElement(Vt,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(p,")"):void 0},x.createElement(nK,{data:n,dataKey:a,background:u,allOtherBarProps:this.props}),x.createElement(cK,this.props)))}}var mK={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!is.isSsr,legendType:"rect",minPointSize:z6,xAxisId:0,yAxisId:0};function fK(e){var{xAxisId:r,yAxisId:n,hide:a,legendType:s,minPointSize:i,activeBar:o,animationBegin:d,animationDuration:u,animationEasing:h,isAnimationActive:m}=e,{needClip:p}=Mf(r,n),y=Lc(),v=Ir(),j=Pv(e.children,Qc),b=Ce(C=>BK(C,r,n,v,e.id,j));if(y!=="vertical"&&y!=="horizontal")return null;var N,S=b==null?void 0:b[0];return S==null||S.height==null||S.width==null?N=0:N=y==="vertical"?S.height/2:S.width/2,x.createElement(F6,{xAxisId:r,yAxisId:n,data:b,dataPointFormatter:dK,errorBarOffset:N},x.createElement(uK,Ks({},e,{layout:y,needClip:p,data:b,xAxisId:r,yAxisId:n,hide:a,legendType:s,minPointSize:i,activeBar:o,animationBegin:d,animationDuration:u,animationEasing:h,isAnimationActive:m})))}function hK(e){var{layout:r,barSettings:{dataKey:n,minPointSize:a},pos:s,bandSize:i,xAxis:o,yAxis:d,xAxisTicks:u,yAxisTicks:h,stackedData:m,displayedData:p,offset:y,cells:v,parentViewBox:j}=e,b=r==="horizontal"?d:o,N=m?b.scale.domain():null,S=m8({numericAxis:b});return p.map((C,_)=>{var P,O,E,T,$,D;m?P=l8(m[_],N):(P=gt(C,n),Array.isArray(P)||(P=[S,P]));var z=FH(a,z6)(P[1],_);if(r==="horizontal"){var I,[F,M]=[d.scale(P[0]),d.scale(P[1])];O=O1({axis:o,ticks:u,bandSize:i,offset:s.offset,entry:C,index:_}),E=(I=M??F)!==null&&I!==void 0?I:void 0,T=s.size;var B=F-M;if($=En(B)?0:B,D={x:O,y:y.top,width:T,height:y.height},Math.abs(z)>0&&Math.abs($)<Math.abs(z)){var G=Nr($||z)*(Math.abs(z)-Math.abs($));E-=G,$+=G}}else{var[ee,L]=[o.scale(P[0]),o.scale(P[1])];if(O=ee,E=O1({axis:d,ticks:h,bandSize:i,offset:s.offset,entry:C,index:_}),T=L-ee,$=s.size,D={x:y.left,y:E,width:y.width,height:$},Math.abs(z)>0&&Math.abs(T)<Math.abs(z)){var H=Nr(T||z)*(Math.abs(z)-Math.abs(T));T+=H}}if(O==null||E==null||T==null||$==null)return null;var te=Jr(Jr({},C),{},{x:O,y:E,width:T,height:$,value:m?P:P[1],payload:C,background:D,tooltipPosition:{x:O+T/2,y:E+$/2},parentViewBox:j},v&&v[_]&&v[_].props);return te}).filter(Boolean)}function pK(e){var r=hr(e,mK),n=Ir();return x.createElement(Af,{id:r.id,type:"bar"},a=>x.createElement(x.Fragment,null,x.createElement(Tv,{legendPayload:tK(r)}),x.createElement(Of,{fn:rK,args:r}),x.createElement(Mv,{type:"bar",id:a,data:void 0,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,stackId:H5(r.stackId),hide:r.hide,barSize:r.barSize,minPointSize:r.minPointSize,maxBarSize:r.maxBarSize,isPanorama:n}),x.createElement(fK,Ks({},r,{id:a}))))}var B6=x.memo(pK);B6.displayName="Bar";function J_(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ou(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?J_(Object(n),!0).forEach(function(a){xK(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function xK(e,r,n){return(r=gK(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function gK(e){var r=yK(e,"string");return typeof r=="symbol"?r:r+""}function yK(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var vK=(e,r)=>r,bK=(e,r,n)=>n,jK=(e,r,n,a)=>a,wK=(e,r,n,a,s)=>s,ed=Z([Vc,wK],(e,r)=>e.filter(n=>n.type==="bar").find(n=>n.id===r)),NK=Z([ed],e=>e==null?void 0:e.maxBarSize),_K=(e,r,n,a,s,i)=>i,Q_=(e,r,n)=>{var a=n??e;if(!Et(a))return Vr(a,r,0)},kK=Z([Ve,Vc,vK,bK,jK],(e,r,n,a,s)=>r.filter(i=>e==="horizontal"?i.xAxisId===n:i.yAxisId===a).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),SK=(e,r,n,a)=>{var s=Ve(e);return s==="horizontal"?_c(e,"yAxis",n,a):_c(e,"xAxis",r,a)},CK=(e,r,n)=>{var a=Ve(e);return a==="horizontal"?e_(e,"xAxis",r):e_(e,"yAxis",n)},PK=(e,r,n)=>{var a={},s=e.filter(xf),i=e.filter(h=>h.stackId==null),o=s.reduce((h,m)=>(h[m.stackId]||(h[m.stackId]=[]),h[m.stackId].push(m),h),a),d=Object.entries(o).map(h=>{var[m,p]=h,y=p.map(j=>j.dataKey),v=Q_(r,n,p[0].barSize);return{stackId:m,dataKeys:y,barSize:v}}),u=i.map(h=>{var m=[h.dataKey].filter(y=>y!=null),p=Q_(r,n,h.barSize);return{stackId:void 0,dataKeys:m,barSize:p}});return[...d,...u]},EK=Z([kK,uz,CK],PK),OK=(e,r,n,a,s)=>{var i,o,d=ed(e,r,n,a,s);if(d!=null){var u=Ve(e),h=lC(e),{maxBarSize:m}=d,p=Et(m)?h:m,y,v;return u==="horizontal"?(y=Ea(e,"xAxis",r,a),v=Pa(e,"xAxis",r,a)):(y=Ea(e,"yAxis",n,a),v=Pa(e,"yAxis",n,a)),(i=(o=Ai(y,v,!0))!==null&&o!==void 0?o:p)!==null&&i!==void 0?i:0}},U6=(e,r,n,a)=>{var s=Ve(e),i,o;return s==="horizontal"?(i=Ea(e,"xAxis",r,a),o=Pa(e,"xAxis",r,a)):(i=Ea(e,"yAxis",n,a),o=Pa(e,"yAxis",n,a)),Ai(i,o)};function AK(e,r,n,a,s){var i=a.length;if(!(i<1)){var o=Vr(e,n,0,!0),d,u=[];if(nr(a[0].barSize)){var h=!1,m=n/i,p=a.reduce((S,C)=>S+(C.barSize||0),0);p+=(i-1)*o,p>=n&&(p-=(i-1)*o,o=0),p>=n&&m>0&&(h=!0,m*=.9,p=i*m);var y=(n-p)/2>>0,v={offset:y-o,size:0};d=a.reduce((S,C)=>{var _,P={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:v.offset+v.size+o,size:h?m:(_=C.barSize)!==null&&_!==void 0?_:0}},O=[...S,P];return v=O[O.length-1].position,O},u)}else{var j=Vr(r,n,0,!0);n-2*j-(i-1)*o<=0&&(o=0);var b=(n-2*j-(i-1)*o)/i;b>1&&(b>>=0);var N=nr(s)?Math.min(b,s):b;d=a.reduce((S,C,_)=>[...S,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:j+(b+o)*_+(b-N)/2,size:N}}],u)}return d}}var TK=(e,r,n,a,s,i,o)=>{var d=Et(o)?r:o,u=AK(n,a,s!==i?s:i,e,d);return s!==i&&u!=null&&(u=u.map(h=>Ou(Ou({},h),{},{position:Ou(Ou({},h.position),{},{offset:h.position.offset-s/2})}))),u},MK=Z([EK,lC,dz,oC,OK,U6,NK],TK),DK=(e,r,n,a)=>Ea(e,"xAxis",r,a),$K=(e,r,n,a)=>Ea(e,"yAxis",n,a),IK=(e,r,n,a)=>Pa(e,"xAxis",r,a),LK=(e,r,n,a)=>Pa(e,"yAxis",n,a),RK=Z([MK,ed],(e,r)=>{if(!(e==null||r==null)){var n=e.find(a=>a.stackId===r.stackId&&r.dataKey!=null&&a.dataKeys.includes(r.dataKey));if(n!=null)return n.position}}),FK=(e,r)=>{var n=pf(r);if(!(!e||n==null||r==null)){var{stackId:a}=r;if(a!=null){var s=e[a];if(s){var{stackedData:i}=s;if(i)return i.find(o=>o.key===n)}}}},zK=Z([SK,ed],FK),BK=Z([fr,uy,DK,$K,IK,LK,RK,Ve,Wc,U6,zK,ed,_K],(e,r,n,a,s,i,o,d,u,h,m,p,y)=>{var{chartData:v,dataStartIndex:j,dataEndIndex:b}=u;if(!(p==null||o==null||r==null||d!=="horizontal"&&d!=="vertical"||n==null||a==null||s==null||i==null||h==null)){var{data:N}=p,S;if(N!=null&&N.length>0?S=N:S=v==null?void 0:v.slice(j,b+1),S!=null)return hK({layout:d,barSettings:p,pos:o,parentViewBox:r,bandSize:h,xAxis:n,yAxis:a,xAxisTicks:s,yAxisTicks:i,stackedData:m,displayedData:S,offset:e,cells:y})}}),W6=e=>{var{chartData:r}=e,n=$t(),a=Ir();return x.useEffect(()=>a?()=>{}:(n(d_(r)),()=>{n(d_(void 0))}),[r,n,a]),null},ek={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},q6=An({name:"brush",initialState:ek,reducers:{setBrushSettings(e,r){return r.payload==null?ek:r.payload}}}),{setBrushSettings:gJ}=q6.actions,UK=q6.reducer;function WK(e,r,n){return(r=qK(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function qK(e){var r=HK(e,"string");return typeof r=="symbol"?r:r+""}function HK(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class Lv{static create(r){return new Lv(r)}constructor(r){this.scale=r}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(r)+i}default:return this.scale(r)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}return this.scale(r)}}isInRange(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}WK(Lv,"EPS",1e-4);function KK(e){return(e%180+180)%180}var VK=function(r){var{width:n,height:a}=r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=KK(s),o=i*Math.PI/180,d=Math.atan(a/n),u=o>d&&o<Math.PI-d?a/Math.sin(o):n/Math.cos(o);return Math.abs(u)},GK={dots:[],areas:[],lines:[]},H6=An({name:"referenceElements",initialState:GK,reducers:{addDot:(e,r)=>{e.dots.push(r.payload)},removeDot:(e,r)=>{var n=Va(e).dots.findIndex(a=>a===r.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,r)=>{e.areas.push(r.payload)},removeArea:(e,r)=>{var n=Va(e).areas.findIndex(a=>a===r.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,r)=>{e.lines.push(r.payload)},removeLine:(e,r)=>{var n=Va(e).lines.findIndex(a=>a===r.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:yJ,removeDot:vJ,addArea:bJ,removeArea:jJ,addLine:wJ,removeLine:NJ}=H6.actions,YK=H6.reducer,ZK=x.createContext(void 0),XK=e=>{var{children:r}=e,[n]=x.useState("".concat(pc("recharts"),"-clip")),a=Tf();if(a==null)return null;var{x:s,y:i,width:o,height:d}=a;return x.createElement(ZK.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:s,y:i,height:d,width:o}))),r)};function Bl(e,r){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(r,n)||e[n]!==r[n]))return!1;for(var a in r)if({}.hasOwnProperty.call(r,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function K6(e,r,n){if(r<1)return[];if(r===1&&n===void 0)return e;for(var a=[],s=0;s<e.length;s+=r)a.push(e[s]);return a}function JK(e,r,n){var a={width:e.width+r.width,height:e.height+r.height};return VK(a,n)}function QK(e,r,n){var a=n==="width",{x:s,y:i,width:o,height:d}=e;return r===1?{start:a?s:i,end:a?s+o:i+d}:{start:a?s+o:i+d,end:a?s:i}}function Mm(e,r,n,a,s){if(e*r<e*a||e*r>e*s)return!1;var i=n();return e*(r-e*i/2-a)>=0&&e*(r+e*i/2-s)<=0}function eV(e,r){return K6(e,r+1)}function tV(e,r,n,a,s){for(var i=(a||[]).slice(),{start:o,end:d}=r,u=0,h=1,m=o,p=function(){var j=a==null?void 0:a[u];if(j===void 0)return{v:K6(a,h)};var b=u,N,S=()=>(N===void 0&&(N=n(j,b)),N),C=j.coordinate,_=u===0||Mm(e,C,S,m,d);_||(u=0,m=o,h+=1),_&&(m=C+e*(S()/2+s),u+=h)},y;h<=i.length;)if(y=p(),y)return y.v;return[]}function tk(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ur(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?tk(Object(n),!0).forEach(function(a){rV(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function rV(e,r,n){return(r=nV(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function nV(e){var r=aV(e,"string");return typeof r=="symbol"?r:r+""}function aV(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function sV(e,r,n,a,s){for(var i=(a||[]).slice(),o=i.length,{start:d}=r,{end:u}=r,h=function(y){var v=i[y],j,b=()=>(j===void 0&&(j=n(v,y)),j);if(y===o-1){var N=e*(v.coordinate+e*b()/2-u);i[y]=v=Ur(Ur({},v),{},{tickCoord:N>0?v.coordinate-N*e:v.coordinate})}else i[y]=v=Ur(Ur({},v),{},{tickCoord:v.coordinate});var S=Mm(e,v.tickCoord,b,d,u);S&&(u=v.tickCoord-e*(b()/2+s),i[y]=Ur(Ur({},v),{},{isShow:!0}))},m=o-1;m>=0;m--)h(m);return i}function iV(e,r,n,a,s,i){var o=(a||[]).slice(),d=o.length,{start:u,end:h}=r;if(i){var m=a[d-1],p=n(m,d-1),y=e*(m.coordinate+e*p/2-h);o[d-1]=m=Ur(Ur({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate});var v=Mm(e,m.tickCoord,()=>p,u,h);v&&(h=m.tickCoord-e*(p/2+s),o[d-1]=Ur(Ur({},m),{},{isShow:!0}))}for(var j=i?d-1:d,b=function(C){var _=o[C],P,O=()=>(P===void 0&&(P=n(_,C)),P);if(C===0){var E=e*(_.coordinate-e*O()/2-u);o[C]=_=Ur(Ur({},_),{},{tickCoord:E<0?_.coordinate-E*e:_.coordinate})}else o[C]=_=Ur(Ur({},_),{},{tickCoord:_.coordinate});var T=Mm(e,_.tickCoord,O,u,h);T&&(u=_.tickCoord+e*(O()/2+s),o[C]=Ur(Ur({},_),{},{isShow:!0}))},N=0;N<j;N++)b(N);return o}function Rv(e,r,n){var{tick:a,ticks:s,viewBox:i,minTickGap:o,orientation:d,interval:u,tickFormatter:h,unit:m,angle:p}=e;if(!s||!s.length||!a)return[];if(Se(u)||is.isSsr){var y;return(y=eV(s,Se(u)?u:0))!==null&&y!==void 0?y:[]}var v=[],j=d==="top"||d==="bottom"?"width":"height",b=m&&j==="width"?oc(m,{fontSize:r,letterSpacing:n}):{width:0,height:0},N=(_,P)=>{var O=typeof h=="function"?h(_.value,P):_.value;return j==="width"?JK(oc(O,{fontSize:r,letterSpacing:n}),b,p):oc(O,{fontSize:r,letterSpacing:n})[j]},S=s.length>=2?Nr(s[1].coordinate-s[0].coordinate):1,C=QK(i,S,j);return u==="equidistantPreserveStart"?tV(S,C,N,s,o):(u==="preserveStart"||u==="preserveStartEnd"?v=iV(S,C,N,s,o,u==="preserveStartEnd"):v=sV(S,C,N,s,o),v.filter(_=>_.isShow))}var lV=e=>{var{ticks:r,label:n,labelGapWithTick:a=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(r){Array.from(r).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>o&&(o=p.width)}});var d=n?n.getBoundingClientRect().width:0,u=s+i,h=o+u+d+(n?a:0);return Math.round(h)}return 0},oV=["axisLine","width","height","className","hide","ticks"],cV=["viewBox"],dV=["viewBox"];function _g(e,r){if(e==null)return{};var n,a,s=uV(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function uV(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Di.apply(null,arguments)}function rk(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function cr(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?rk(Object(n),!0).forEach(function(a){mV(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function mV(e,r,n){return(r=fV(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function fV(e){var r=hV(e,"string");return typeof r=="symbol"?r:r+""}function hV(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Fv={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function pV(e){var{x:r,y:n,width:a,height:s,orientation:i,mirror:o,axisLine:d,otherSvgProps:u}=e;if(!d)return null;var h=cr(cr(cr({},u),rn(d)),{},{fill:"none"});if(i==="top"||i==="bottom"){var m=+(i==="top"&&!o||i==="bottom"&&o);h=cr(cr({},h),{},{x1:r,y1:n+m*s,x2:r+a,y2:n+m*s})}else{var p=+(i==="left"&&!o||i==="right"&&o);h=cr(cr({},h),{},{x1:r+p*a,y1:n,x2:r+p*a,y2:n+s})}return x.createElement("line",Di({},h,{className:tt("recharts-cartesian-axis-line",Pi(d,"className"))}))}function xV(e,r,n,a,s,i,o,d,u){var h,m,p,y,v,j,b=d?-1:1,N=e.tickSize||o,S=Se(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":h=m=e.coordinate,y=n+ +!d*s,p=y-b*N,j=p-b*u,v=S;break;case"left":p=y=e.coordinate,m=r+ +!d*a,h=m-b*N,v=h-b*u,j=S;break;case"right":p=y=e.coordinate,m=r+ +d*a,h=m+b*N,v=h+b*u,j=S;break;default:h=m=e.coordinate,y=n+ +d*s,p=y+b*N,j=p+b*u,v=S;break}return{line:{x1:h,y1:p,x2:m,y2:y},tick:{x:v,y:j}}}function gV(e,r){switch(e){case"left":return r?"start":"end";case"right":return r?"end":"start";default:return"middle"}}function yV(e,r){switch(e){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}function vV(e){var{option:r,tickProps:n,value:a}=e,s,i=tt(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(r))s=x.cloneElement(r,cr(cr({},n),{},{className:i}));else if(typeof r=="function")s=r(cr(cr({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof r!="boolean"&&(o=tt(o,r==null?void 0:r.className)),s=x.createElement(kf,Di({},n,{className:o}),a)}return s}function bV(e){var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:i,unit:o,padding:d,tickTextProps:u,orientation:h,mirror:m,x:p,y,width:v,height:j,tickSize:b,tickMargin:N,fontSize:S,letterSpacing:C,getTicksConfig:_,events:P}=e,O=Rv(cr(cr({},_),{},{ticks:r}),S,C),E=gV(h,m),T=yV(h,m),$=rn(_),D=Ci(n),z={};typeof a=="object"&&(z=a);var I=cr(cr({},$),{},{fill:"none"},z),F=O.map((M,B)=>{var{line:G,tick:ee}=xV(M,p,y,v,j,h,b,m,N),L=cr(cr(cr(cr({textAnchor:E,verticalAnchor:T},$),{},{stroke:"none",fill:s},D),ee),{},{index:B,payload:M,visibleTicksCount:O.length,tickFormatter:i,padding:d},u);return x.createElement(Vt,Di({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},Mc(P,M,B)),a&&x.createElement("line",Di({},I,G,{className:tt("recharts-cartesian-axis-tick-line",Pi(a,"className"))})),n&&x.createElement(vV,{option:n,tickProps:L,value:"".concat(typeof i=="function"?i(M.value,B):M.value).concat(o||"")}))});return F.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},F):null}var jV=x.forwardRef((e,r)=>{var{axisLine:n,width:a,height:s,className:i,hide:o,ticks:d}=e,u=_g(e,oV),[h,m]=x.useState(""),[p,y]=x.useState(""),v=x.useRef(null);x.useImperativeHandle(r,()=>({getCalculatedWidth:()=>{var b;return lV({ticks:v.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var j=x.useCallback(b=>{if(b){var N=b.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=N;var S=N[0];if(S){var C=window.getComputedStyle(S),_=C.fontSize,P=C.letterSpacing;(_!==h||P!==p)&&(m(_),y(P))}}},[h,p]);return o||a!=null&&a<=0||s!=null&&s<=0?null:x.createElement(Vt,{className:tt("recharts-cartesian-axis",i),ref:j},x.createElement(pV,{x:e.x,y:e.y,width:a,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:rn(e)}),x.createElement(bV,{ticks:d,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:h,letterSpacing:p,getTicksConfig:e,events:u}),x.createElement(_W,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(DW,{label:e.label,labelRef:e.labelRef}),e.children))}),wV=x.memo(jV,(e,r)=>{var{viewBox:n}=e,a=_g(e,cV),{viewBox:s}=r,i=_g(r,dV);return Bl(n,s)&&Bl(a,i)}),zv=x.forwardRef((e,r)=>{var n=hr(e,Fv);return x.createElement(wV,Di({},n,{ref:r}))});zv.displayName="CartesianAxis";var NV=["x1","y1","x2","y2","key"],_V=["offset"],kV=["xAxisId","yAxisId"],SV=["xAxisId","yAxisId"];function nk(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function qr(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?nk(Object(n),!0).forEach(function(a){CV(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function CV(e,r,n){return(r=PV(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function PV(e){var r=EV(e,"string");return typeof r=="symbol"?r:r+""}function EV(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xi.apply(null,arguments)}function Dm(e,r){if(e==null)return{};var n,a,s=OV(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function OV(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var AV=e=>{var{fill:r}=e;if(!r||r==="none")return null;var{fillOpacity:n,x:a,y:s,width:i,height:o,ry:d}=e;return x.createElement("rect",{x:a,y:s,ry:d,width:i,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function V6(e,r){var n;if(x.isValidElement(e))n=x.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var{x1:a,y1:s,x2:i,y2:o,key:d}=r,u=Dm(r,NV),h=rn(u),{offset:m}=h,p=Dm(h,_V);n=x.createElement("line",xi({},p,{x1:a,y1:s,x2:i,y2:o,fill:"none",key:d}))}return n}function TV(e){var{x:r,width:n,horizontal:a=!0,horizontalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,d=Dm(e,kV),u=s.map((h,m)=>{var p=qr(qr({},d),{},{x1:r,y1:h,x2:r+n,y2:h,key:"line-".concat(m),index:m});return V6(a,p)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function MV(e){var{y:r,height:n,vertical:a=!0,verticalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,d=Dm(e,SV),u=s.map((h,m)=>{var p=qr(qr({},d),{},{x1:h,y1:r,x2:h,y2:r+n,key:"line-".concat(m),index:m});return V6(a,p)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function DV(e){var{horizontalFill:r,fillOpacity:n,x:a,y:s,width:i,height:o,horizontalPoints:d,horizontal:u=!0}=e;if(!u||!r||!r.length)return null;var h=d.map(p=>Math.round(p+s-s)).sort((p,y)=>p-y);s!==h[0]&&h.unshift(0);var m=h.map((p,y)=>{var v=!h[y+1],j=v?s+o-p:h[y+1]-p;if(j<=0)return null;var b=y%r.length;return x.createElement("rect",{key:"react-".concat(y),y:p,x:a,height:j,width:i,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function $V(e){var{vertical:r=!0,verticalFill:n,fillOpacity:a,x:s,y:i,width:o,height:d,verticalPoints:u}=e;if(!r||!n||!n.length)return null;var h=u.map(p=>Math.round(p+s-s)).sort((p,y)=>p-y);s!==h[0]&&h.unshift(0);var m=h.map((p,y)=>{var v=!h[y+1],j=v?s+o-p:h[y+1]-p;if(j<=0)return null;var b=y%n.length;return x.createElement("rect",{key:"react-".concat(y),x:p,y:i,width:j,height:d,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var IV=(e,r)=>{var{xAxis:n,width:a,height:s,offset:i}=e;return W5(Rv(qr(qr(qr({},Fv),n),{},{ticks:q5(n),viewBox:{x:0,y:0,width:a,height:s}})),i.left,i.left+i.width,r)},LV=(e,r)=>{var{yAxis:n,width:a,height:s,offset:i}=e;return W5(Rv(qr(qr(qr({},Fv),n),{},{ticks:q5(n),viewBox:{x:0,y:0,width:a,height:s}})),i.top,i.top+i.height,r)},RV={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function td(e){var r=fy(),n=hy(),a=J5(),s=qr(qr({},hr(e,RV)),{},{x:Se(e.x)?e.x:a.left,y:Se(e.y)?e.y:a.top,width:Se(e.width)?e.width:a.width,height:Se(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:o,x:d,y:u,width:h,height:m,syncWithTicks:p,horizontalValues:y,verticalValues:v}=s,j=Ir(),b=Ce(D=>t_(D,"xAxis",i,j)),N=Ce(D=>t_(D,"yAxis",o,j));if(!Se(h)||h<=0||!Se(m)||m<=0||!Se(d)||d!==+d||!Se(u)||u!==+u)return null;var S=s.verticalCoordinatesGenerator||IV,C=s.horizontalCoordinatesGenerator||LV,{horizontalPoints:_,verticalPoints:P}=s;if((!_||!_.length)&&typeof C=="function"){var O=y&&y.length,E=C({yAxis:N?qr(qr({},N),{},{ticks:O?y:N.ticks}):void 0,width:r,height:n,offset:a},O?!0:p);mm(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(_=E)}if((!P||!P.length)&&typeof S=="function"){var T=v&&v.length,$=S({xAxis:b?qr(qr({},b),{},{ticks:T?v:b.ticks}):void 0,width:r,height:n,offset:a},T?!0:p);mm(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof $,"]")),Array.isArray($)&&(P=$)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(AV,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),x.createElement(DV,xi({},s,{horizontalPoints:_})),x.createElement($V,xi({},s,{verticalPoints:P})),x.createElement(TV,xi({},s,{offset:a,horizontalPoints:_,xAxis:b,yAxis:N})),x.createElement(MV,xi({},s,{offset:a,verticalPoints:P,xAxis:b,yAxis:N})))}td.displayName="CartesianGrid";var G6=(e,r,n,a)=>Ea(e,"xAxis",r,a),Y6=(e,r,n,a)=>Pa(e,"xAxis",r,a),Z6=(e,r,n,a)=>Ea(e,"yAxis",n,a),X6=(e,r,n,a)=>Pa(e,"yAxis",n,a),FV=Z([Ve,G6,Z6,Y6,X6],(e,r,n,a,s)=>Oa(e,"xAxis")?Ai(r,a,!1):Ai(n,s,!1)),zV=(e,r,n,a,s)=>s;function BV(e){return e.type==="line"}var UV=Z([Vc,zV],(e,r)=>e.filter(BV).find(n=>n.id===r)),WV=Z([Ve,G6,Z6,Y6,X6,UV,FV,Wc],(e,r,n,a,s,i,o,d)=>{var{chartData:u,dataStartIndex:h,dataEndIndex:m}=d;if(!(i==null||r==null||n==null||a==null||s==null||a.length===0||s.length===0||o==null)){var{dataKey:p,data:y}=i,v;if(y!=null&&y.length>0?v=y:v=u==null?void 0:u.slice(h,m+1),v!=null)return uG({layout:e,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:p,bandSize:o,displayedData:v})}});function J6(e){var r=Ci(e),n=3,a=2;if(r!=null){var{r:s,strokeWidth:i}=r,o=Number(s),d=Number(i);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(d)||d<0)&&(d=a),{r:o,strokeWidth:d}}return{r:n,strokeWidth:a}}var qV=["id"],HV=["type","layout","connectNulls","needClip"],KV=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ak(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function _n(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?ak(Object(n),!0).forEach(function(a){VV(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function VV(e,r,n){return(r=GV(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function GV(e){var r=YV(e,"string");return typeof r=="symbol"?r:r+""}function YV(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Bv(e,r){if(e==null)return{};var n,a,s=ZV(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ZV(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$i.apply(null,arguments)}var XV=e=>{var{dataKey:r,name:n,stroke:a,legendType:s,hide:i}=e;return[{inactive:i,dataKey:r,type:s,color:a,value:Vs(n,r),payload:e}]};function JV(e){var{dataKey:r,data:n,stroke:a,strokeWidth:s,fill:i,name:o,hide:d,unit:u}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:i,dataKey:r,nameKey:void 0,name:Vs(o,r),hide:d,type:e.tooltipType,color:e.stroke,unit:u}}}var Q6=(e,r)=>"".concat(r,"px ").concat(e-r,"px");function QV(e,r){for(var n=e.length%2!==0?[...e,0]:e,a=[],s=0;s<r;++s)a=[...a,...n];return a}var eG=(e,r,n)=>{var a=n.reduce((p,y)=>p+y);if(!a)return Q6(r,e);for(var s=Math.floor(e/a),i=e%a,o=r-e,d=[],u=0,h=0;u<n.length;h+=n[u],++u)if(h+n[u]>i){d=[...n.slice(0,u),i-h];break}var m=d.length%2===0?[0,o]:[o];return[...QV(n,s),...d,...m].map(p=>"".concat(p,"px")).join(", ")};function tG(e,r){var n;if(x.isValidElement(e))n=x.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var a=tt("recharts-line-dot",typeof e!="boolean"?e.className:"");n=x.createElement(kv,$i({},r,{className:a}))}return n}function rG(e,r){return e==null?!1:r?!0:e.length===1}function nG(e){var{clipPathId:r,points:n,props:a}=e,{dot:s,dataKey:i,needClip:o}=a;if(!rG(n,s))return null;var{id:d}=a,u=Bv(a,qV),h=Ef(s),m=rn(u),p=TS(s),y=n.map((j,b)=>{var N=_n(_n(_n({key:"dot-".concat(b),r:3},m),p),{},{index:b,cx:j.x,cy:j.y,dataKey:i,value:j.value,payload:j.payload,points:n});return tG(s,N)}),v={clipPath:o?"url(#clipPath-".concat(h?"":"dots-").concat(r,")"):void 0};return x.createElement(Vt,$i({className:"recharts-line-dots",key:"dots"},v),y)}function aG(e){var{showLabels:r,children:n,points:a}=e,s=x.useMemo(()=>a==null?void 0:a.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return _n(_n({},o),{},{value:i.value,payload:i.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[a]);return x.createElement(_v,{value:r?s:null},n)}function sk(e){var{clipPathId:r,pathRef:n,points:a,strokeDasharray:s,props:i}=e,{type:o,layout:d,connectNulls:u,needClip:h}=i,m=Bv(i,HV),p=_n(_n({},nn(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(r,")"):void 0,points:a,type:o,layout:d,connectNulls:u,strokeDasharray:s??i.strokeDasharray});return x.createElement(x.Fragment,null,(a==null?void 0:a.length)>1&&x.createElement(jl,$i({},p,{pathRef:n})),x.createElement(nG,{points:a,clipPathId:r,props:i}))}function sG(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function iG(e){var{clipPathId:r,props:n,pathRef:a,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:d,isAnimationActive:u,animationBegin:h,animationDuration:m,animationEasing:p,animateNewValues:y,width:v,height:j,onAnimationEnd:b,onAnimationStart:N}=n,S=s.current,C=Zl(n,"recharts-line-"),[_,P]=x.useState(!1),O=!_,E=x.useCallback(()=>{typeof b=="function"&&b(),P(!1)},[b]),T=x.useCallback(()=>{typeof N=="function"&&N(),P(!0)},[N]),$=sG(a.current),D=i.current;return x.createElement(aG,{points:o,showLabels:O},n.children,x.createElement(Yl,{animationId:C,begin:h,duration:m,isActive:u,easing:p,onAnimationEnd:E,onAnimationStart:T,key:C},z=>{var I=xt(D,$+D,z),F=Math.min(I,$),M;if(u)if(d){var B="".concat(d).split(/[,\s]+/gim).map(L=>parseFloat(L));M=eG(F,$,B)}else M=Q6($,F);else M=d==null?void 0:String(d);if(S){var G=S.length/o.length,ee=z===1?o:o.map((L,H)=>{var te=Math.floor(H*G);if(S[te]){var se=S[te];return _n(_n({},L),{},{x:xt(se.x,L.x,z),y:xt(se.y,L.y,z)})}return y?_n(_n({},L),{},{x:xt(v*2,L.x,z),y:xt(j/2,L.y,z)}):_n(_n({},L),{},{x:L.x,y:L.y})});return s.current=ee,x.createElement(sk,{props:n,points:ee,clipPathId:r,pathRef:a,strokeDasharray:M})}return z>0&&$>0&&(s.current=o,i.current=F),x.createElement(sk,{props:n,points:o,clipPathId:r,pathRef:a,strokeDasharray:M})}),x.createElement(Sf,{label:n.label}))}function lG(e){var{clipPathId:r,props:n}=e,a=x.useRef(null),s=x.useRef(0),i=x.useRef(null);return x.createElement(iG,{props:n,clipPathId:r,previousPointsRef:a,longestAnimatedLengthRef:s,pathRef:i})}var oG=(e,r)=>({x:e.x,y:e.y,value:e.value,errorVal:gt(e.payload,r)});class cG extends x.Component{render(){var{hide:r,dot:n,points:a,className:s,xAxisId:i,yAxisId:o,top:d,left:u,width:h,height:m,id:p,needClip:y}=this.props;if(r)return null;var v=tt("recharts-line",s),j=p,{r:b,strokeWidth:N}=J6(n),S=Ef(n),C=b*2+N;return x.createElement(x.Fragment,null,x.createElement(Vt,{className:v},y&&x.createElement("defs",null,x.createElement(Iv,{clipPathId:j,xAxisId:i,yAxisId:o}),!S&&x.createElement("clipPath",{id:"clipPath-dots-".concat(j)},x.createElement("rect",{x:u-C/2,y:d-C/2,width:h+C,height:m+C}))),x.createElement(F6,{xAxisId:i,yAxisId:o,data:a,dataPointFormatter:oG,errorBarOffset:0},x.createElement(lG,{props:this.props,clipPathId:j}))),x.createElement(wg,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var eP={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!is.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function dG(e){var r=hr(e,eP),{activeDot:n,animateNewValues:a,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:d,dot:u,hide:h,isAnimationActive:m,label:p,legendType:y,xAxisId:v,yAxisId:j,id:b}=r,N=Bv(r,KV),{needClip:S}=Mf(v,j),C=Tf(),_=Lc(),P=Ir(),O=Ce(z=>WV(z,v,j,P,b));if(_!=="horizontal"&&_!=="vertical"||O==null||C==null)return null;var{height:E,width:T,x:$,y:D}=C;return x.createElement(cG,$i({},N,{id:b,connectNulls:d,dot:u,activeDot:n,animateNewValues:a,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:m,hide:h,label:p,legendType:y,xAxisId:v,yAxisId:j,points:O,layout:_,height:E,width:T,left:$,top:D,needClip:S}))}function uG(e){var{layout:r,xAxis:n,yAxis:a,xAxisTicks:s,yAxisTicks:i,dataKey:o,bandSize:d,displayedData:u}=e;return u.map((h,m)=>{var p=gt(h,o);if(r==="horizontal"){var y=um({axis:n,ticks:s,bandSize:d,entry:h,index:m}),v=Et(p)?null:a.scale(p);return{x:y,y:v,value:p,payload:h}}var j=Et(p)?null:n.scale(p),b=um({axis:a,ticks:i,bandSize:d,entry:h,index:m});return j==null||b==null?null:{x:j,y:b,value:p,payload:h}}).filter(Boolean)}function mG(e){var r=hr(e,eP),n=Ir();return x.createElement(Af,{id:r.id,type:"line"},a=>x.createElement(x.Fragment,null,x.createElement(Tv,{legendPayload:XV(r)}),x.createElement(Of,{fn:JV,args:r}),x.createElement(Mv,{type:"line",id:a,data:r.data,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,hide:r.hide,isPanorama:n}),x.createElement(dG,$i({},r,{id:a}))))}var Sc=x.memo(mG);Sc.displayName="Line";var tP=(e,r,n,a)=>Ea(e,"xAxis",r,a),rP=(e,r,n,a)=>Pa(e,"xAxis",r,a),nP=(e,r,n,a)=>Ea(e,"yAxis",n,a),aP=(e,r,n,a)=>Pa(e,"yAxis",n,a),fG=Z([Ve,tP,nP,rP,aP],(e,r,n,a,s)=>Oa(e,"xAxis")?Ai(r,a,!1):Ai(n,s,!1)),hG=(e,r,n,a,s)=>s,sP=Z([Vc,hG],(e,r)=>e.filter(n=>n.type==="area").find(n=>n.id===r)),pG=(e,r,n,a,s)=>{var i,o=sP(e,r,n,a,s);if(o!=null){var d=Ve(e),u=Oa(d,"xAxis"),h;if(u?h=_c(e,"yAxis",n,a):h=_c(e,"xAxis",r,a),h!=null){var{stackId:m}=o,p=pf(o);if(!(m==null||p==null)){var y=(i=h[m])===null||i===void 0?void 0:i.stackedData;return y==null?void 0:y.find(v=>v.key===p)}}}},xG=Z([Ve,tP,nP,rP,aP,pG,Wc,fG,sP],(e,r,n,a,s,i,o,d,u)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:p}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||r==null||n==null||a==null||s==null||a.length===0||s.length===0||d==null)){var{data:y}=u,v;if(y&&y.length>0?v=y:v=h==null?void 0:h.slice(m,p+1),v!=null){var j=void 0;return LG({layout:e,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataStartIndex:m,areaSettings:u,stackedData:i,displayedData:v,chartBaseValue:j,bandSize:d})}}}),gG=["id"],yG=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function iP(e,r){if(e==null)return{};var n,a,s=vG(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function vG(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function ik(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ha(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?ik(Object(n),!0).forEach(function(a){bG(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function bG(e,r,n){return(r=jG(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function jG(e){var r=wG(e,"string");return typeof r=="symbol"?r:r+""}function wG(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ya(){return Ya=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ya.apply(null,arguments)}function $m(e,r){return e&&e!=="none"?e:r}var NG=e=>{var{dataKey:r,name:n,stroke:a,fill:s,legendType:i,hide:o}=e;return[{inactive:o,dataKey:r,type:i,color:$m(a,s),value:Vs(n,r),payload:e}]};function _G(e){var{dataKey:r,data:n,stroke:a,strokeWidth:s,fill:i,name:o,hide:d,unit:u}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:i,dataKey:r,nameKey:void 0,name:Vs(o,r),hide:d,type:e.tooltipType,color:$m(a,i),unit:u}}}var kG=(e,r)=>{var n;if(x.isValidElement(e))n=x.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var a=tt("recharts-area-dot",typeof e!="boolean"?e.className:"");n=x.createElement(kv,Ya({},r,{className:a}))}return n};function SG(e,r){return e==null?!1:r?!0:e.length===1}function CG(e){var{clipPathId:r,points:n,props:a}=e,{needClip:s,dot:i,dataKey:o}=a;if(!SG(n,i))return null;var d=Ef(i),u=rn(a),h=TS(i),m=n.map((y,v)=>{var j=Ha(Ha(Ha({key:"dot-".concat(v),r:3},u),h),{},{index:v,cx:y.x,cy:y.y,dataKey:o,value:y.value,payload:y.payload,points:n});return kG(i,j)}),p={clipPath:s?"url(#clipPath-".concat(d?"":"dots-").concat(r,")"):void 0};return x.createElement(Vt,Ya({className:"recharts-area-dots"},p),m)}function PG(e){var{showLabels:r,children:n,points:a}=e,s=a.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return Ha(Ha({},o),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return x.createElement(_v,{value:r?s:null},n)}function lk(e){var{points:r,baseLine:n,needClip:a,clipPathId:s,props:i}=e,{layout:o,type:d,stroke:u,connectNulls:h,isRange:m}=i,{id:p}=i,y=iP(i,gG),v=rn(y);return x.createElement(x.Fragment,null,(r==null?void 0:r.length)>1&&x.createElement(Vt,{clipPath:a?"url(#clipPath-".concat(s,")"):void 0},x.createElement(jl,Ya({},v,{id:p,points:r,connectNulls:h,type:d,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&x.createElement(jl,Ya({},v,{className:"recharts-area-curve",layout:o,type:d,connectNulls:h,fill:"none",points:r})),u!=="none"&&m&&x.createElement(jl,Ya({},v,{className:"recharts-area-curve",layout:o,type:d,connectNulls:h,fill:"none",points:n}))),x.createElement(CG,{points:r,props:y,clipPathId:s}))}function EG(e){var{alpha:r,baseLine:n,points:a,strokeWidth:s}=e,i=a[0].y,o=a[a.length-1].y;if(!nr(i)||!nr(o))return null;var d=r*Math.abs(i-o),u=Math.max(...a.map(h=>h.x||0));return Se(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(h=>h.x||0),u)),Se(u)?x.createElement("rect",{x:0,y:i<o?i:i-d,width:u+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}function OG(e){var{alpha:r,baseLine:n,points:a,strokeWidth:s}=e,i=a[0].x,o=a[a.length-1].x;if(!nr(i)||!nr(o))return null;var d=r*Math.abs(i-o),u=Math.max(...a.map(h=>h.y||0));return Se(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(h=>h.y||0),u)),Se(u)?x.createElement("rect",{x:i<o?i:i-d,y:0,width:d,height:Math.floor(u+(s?parseInt("".concat(s),10):1))}):null}function AG(e){var{alpha:r,layout:n,points:a,baseLine:s,strokeWidth:i}=e;return n==="vertical"?x.createElement(EG,{alpha:r,points:a,baseLine:s,strokeWidth:i}):x.createElement(OG,{alpha:r,points:a,baseLine:s,strokeWidth:i})}function TG(e){var{needClip:r,clipPathId:n,props:a,previousPointsRef:s,previousBaselineRef:i}=e,{points:o,baseLine:d,isAnimationActive:u,animationBegin:h,animationDuration:m,animationEasing:p,onAnimationStart:y,onAnimationEnd:v}=a,j=Zl(a,"recharts-area-"),[b,N]=x.useState(!1),S=!b,C=x.useCallback(()=>{typeof v=="function"&&v(),N(!1)},[v]),_=x.useCallback(()=>{typeof y=="function"&&y(),N(!0)},[y]),P=s.current,O=i.current;return x.createElement(PG,{showLabels:S,points:o},a.children,x.createElement(Yl,{animationId:j,begin:h,duration:m,isActive:u,easing:p,onAnimationEnd:C,onAnimationStart:_,key:j},E=>{if(P){var T=P.length/o.length,$=E===1?o:o.map((z,I)=>{var F=Math.floor(I*T);if(P[F]){var M=P[F];return Ha(Ha({},z),{},{x:xt(M.x,z.x,E),y:xt(M.y,z.y,E)})}return z}),D;return Se(d)?D=xt(O,d,E):Et(d)||En(d)?D=xt(O,0,E):D=d.map((z,I)=>{var F=Math.floor(I*T);if(Array.isArray(O)&&O[F]){var M=O[F];return Ha(Ha({},z),{},{x:xt(M.x,z.x,E),y:xt(M.y,z.y,E)})}return z}),E>0&&(s.current=$,i.current=D),x.createElement(lk,{points:$,baseLine:D,needClip:r,clipPathId:n,props:a})}return E>0&&(s.current=o,i.current=d),x.createElement(Vt,null,u&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(n)},x.createElement(AG,{alpha:E,points:o,baseLine:d,layout:a.layout,strokeWidth:a.strokeWidth}))),x.createElement(Vt,{clipPath:"url(#animationClipPath-".concat(n,")")},x.createElement(lk,{points:o,baseLine:d,needClip:r,clipPathId:n,props:a})))}),x.createElement(Sf,{label:a.label}))}function MG(e){var{needClip:r,clipPathId:n,props:a}=e,s=x.useRef(null),i=x.useRef();return x.createElement(TG,{needClip:r,clipPathId:n,props:a,previousPointsRef:s,previousBaselineRef:i})}class DG extends x.PureComponent{render(){var{hide:r,dot:n,points:a,className:s,top:i,left:o,needClip:d,xAxisId:u,yAxisId:h,width:m,height:p,id:y,baseLine:v}=this.props;if(r)return null;var j=tt("recharts-area",s),b=y,{r:N,strokeWidth:S}=J6(n),C=Ef(n),_=N*2+S;return x.createElement(x.Fragment,null,x.createElement(Vt,{className:j},d&&x.createElement("defs",null,x.createElement(Iv,{clipPathId:b,xAxisId:u,yAxisId:h}),!C&&x.createElement("clipPath",{id:"clipPath-dots-".concat(b)},x.createElement("rect",{x:o-_/2,y:i-_/2,width:m+_,height:p+_}))),x.createElement(MG,{needClip:d,clipPathId:b,props:this.props})),x.createElement(wg,{points:a,mainColor:$m(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(v)&&x.createElement(wg,{points:v,mainColor:$m(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var lP={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!is.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function $G(e){var r,n=hr(e,lP),{activeDot:a,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:d,dot:u,fill:h,fillOpacity:m,hide:p,isAnimationActive:y,legendType:v,stroke:j,xAxisId:b,yAxisId:N}=n,S=iP(n,yG),C=Lc(),_=c6(),{needClip:P}=Mf(b,N),O=Ir(),{points:E,isRange:T,baseLine:$}=(r=Ce(B=>xG(B,b,N,O,e.id)))!==null&&r!==void 0?r:{},D=Tf();if(C!=="horizontal"&&C!=="vertical"||D==null||_!=="AreaChart"&&_!=="ComposedChart")return null;var{height:z,width:I,x:F,y:M}=D;return!E||!E.length?null:x.createElement(DG,Ya({},S,{activeDot:a,animationBegin:s,animationDuration:i,animationEasing:o,baseLine:$,connectNulls:d,dot:u,fill:h,fillOpacity:m,height:z,hide:p,layout:C,isAnimationActive:y,isRange:T,legendType:v,needClip:P,points:E,stroke:j,width:I,left:F,top:M,xAxisId:b,yAxisId:N}))}var IG=(e,r,n,a,s)=>{var i=n??r;if(Se(i))return i;var o=e==="horizontal"?s:a,d=o.scale.domain();if(o.type==="number"){var u=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return i==="dataMin"?h:i==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return i==="dataMin"?d[0]:i==="dataMax"?d[1]:d[0]};function LG(e){var{areaSettings:{connectNulls:r,baseValue:n,dataKey:a},stackedData:s,layout:i,chartBaseValue:o,xAxis:d,yAxis:u,displayedData:h,dataStartIndex:m,xAxisTicks:p,yAxisTicks:y,bandSize:v}=e,j=s&&s.length,b=IG(i,o,n,d,u),N=i==="horizontal",S=!1,C=h.map((P,O)=>{var E;j?E=s[m+O]:(E=gt(P,a),Array.isArray(E)?S=!0:E=[b,E]);var T=E[1]==null||j&&!r&&gt(P,a)==null;return N?{x:um({axis:d,ticks:p,bandSize:v,entry:P,index:O}),y:T?null:u.scale(E[1]),value:E,payload:P}:{x:T?null:d.scale(E[1]),y:um({axis:u,ticks:y,bandSize:v,entry:P,index:O}),value:E,payload:P}}),_;return j||S?_=C.map(P=>{var O=Array.isArray(P.value)?P.value[0]:null;return N?{x:P.x,y:O!=null&&P.y!=null?u.scale(O):null,payload:P.payload}:{x:O!=null?d.scale(O):null,y:P.y,payload:P.payload}}):_=N?u.scale(b):d.scale(b),{points:C,baseLine:_,isRange:S}}function RG(e){var r=hr(e,lP),n=Ir();return x.createElement(Af,{id:r.id,type:"area"},a=>x.createElement(x.Fragment,null,x.createElement(Tv,{legendPayload:NG(r)}),x.createElement(Of,{fn:_G,args:r}),x.createElement(Mv,{type:"area",id:a,data:r.data,dataKey:r.dataKey,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,stackId:H5(r.stackId),hide:r.hide,barSize:void 0,baseValue:r.baseValue,isPanorama:n,connectNulls:r.connectNulls}),x.createElement($G,Ya({},r,{id:a}))))}var oP=x.memo(RG);oP.displayName="Area";var FG=["dangerouslySetInnerHTML","ticks"],zG=["id"],BG=["domain"],UG=["domain"];function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},kg.apply(null,arguments)}function Im(e,r){if(e==null)return{};var n,a,s=WG(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function WG(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function qG(e){var r=$t();return x.useLayoutEffect(()=>(r(gH(e)),()=>{r(yH(e))}),[e,r]),null}var HG=e=>{var{xAxisId:r,className:n}=e,a=Ce(uy),s=Ir(),i="xAxis",o=Ce(N=>ao(N,i,r,s)),d=Ce(N=>zC(N,i,r,s)),u=Ce(N=>IC(N,r)),h=Ce(N=>sB(N,r)),m=Ce(N=>gC(N,r));if(u==null||h==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:y}=e,v=Im(e,FG),{id:j}=m,b=Im(m,zG);return x.createElement(zv,kg({},v,b,{scale:o,x:h.x,y:h.y,width:u.width,height:u.height,className:tt("recharts-".concat(i," ").concat(i),n),viewBox:a,ticks:d}))},KG={allowDataOverflow:jn.allowDataOverflow,allowDecimals:jn.allowDecimals,allowDuplicatedCategory:jn.allowDuplicatedCategory,height:jn.height,hide:!1,mirror:jn.mirror,orientation:jn.orientation,padding:jn.padding,reversed:jn.reversed,scale:jn.scale,tickCount:jn.tickCount,type:jn.type,xAxisId:0},VG=e=>{var r,n,a,s,i,o=hr(e,KG);return x.createElement(x.Fragment,null,x.createElement(qG,{interval:(r=o.interval)!==null&&r!==void 0?r:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(a=o.angle)!==null&&a!==void 0?a:0,minTickGap:(s=o.minTickGap)!==null&&s!==void 0?s:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),x.createElement(HG,o))},GG=(e,r)=>{var{domain:n}=e,a=Im(e,BG),{domain:s}=r,i=Im(r,UG);return Bl(a,i)?Array.isArray(n)&&n.length===2&&Array.isArray(s)&&s.length===2?n[0]===s[0]&&n[1]===s[1]:Bl({domain:n},{domain:s}):!1},rd=x.memo(VG,GG);rd.displayName="XAxis";var YG=["dangerouslySetInnerHTML","ticks"],ZG=["id"],XG=["domain"],JG=["domain"];function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Sg.apply(null,arguments)}function Lm(e,r){if(e==null)return{};var n,a,s=QG(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function QG(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function eY(e){var r=$t();return x.useLayoutEffect(()=>(r(vH(e)),()=>{r(bH(e))}),[e,r]),null}var tY=e=>{var{yAxisId:r,className:n,width:a,label:s}=e,i=x.useRef(null),o=x.useRef(null),d=Ce(uy),u=Ir(),h=$t(),m="yAxis",p=Ce(O=>ao(O,m,r,u)),y=Ce(O=>LC(O,r)),v=Ce(O=>lB(O,r)),j=Ce(O=>zC(O,m,r,u)),b=Ce(O=>yC(O,r));if(x.useLayoutEffect(()=>{if(!(a!=="auto"||!y||Nv(s)||x.isValidElement(s)||b==null)){var O=i.current;if(O){var E=O.getCalculatedWidth();Math.round(y.width)!==Math.round(E)&&h(jH({id:r,width:E}))}}},[j,y,h,s,r,a,b]),y==null||v==null||b==null)return null;var{dangerouslySetInnerHTML:N,ticks:S}=e,C=Lm(e,YG),{id:_}=b,P=Lm(b,ZG);return x.createElement(zv,Sg({},C,P,{ref:i,labelRef:o,scale:p,x:v.x,y:v.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:y.width,height:y.height,className:tt("recharts-".concat(m," ").concat(m),n),viewBox:d,ticks:j}))},rY={allowDataOverflow:wn.allowDataOverflow,allowDecimals:wn.allowDecimals,allowDuplicatedCategory:wn.allowDuplicatedCategory,hide:!1,mirror:wn.mirror,orientation:wn.orientation,padding:wn.padding,reversed:wn.reversed,scale:wn.scale,tickCount:wn.tickCount,type:wn.type,width:wn.width,yAxisId:0},nY=e=>{var r,n,a,s,i,o=hr(e,rY);return x.createElement(x.Fragment,null,x.createElement(eY,{interval:(r=o.interval)!==null&&r!==void 0?r:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(a=o.angle)!==null&&a!==void 0?a:0,minTickGap:(s=o.minTickGap)!==null&&s!==void 0?s:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),x.createElement(tY,o))},aY=(e,r)=>{var{domain:n}=e,a=Lm(e,XG),{domain:s}=r,i=Lm(r,JG);return Bl(a,i)?Array.isArray(n)&&n.length===2&&Array.isArray(s)&&s.length===2?n[0]===s[0]&&n[1]===s[1]:Bl({domain:n},{domain:s}):!1},nd=x.memo(nY,aY);nd.displayName="YAxis";var l0={exports:{}},o0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ok;function sY(){if(ok)return o0;ok=1;var e=Ul();function r(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var n=typeof Object.is=="function"?Object.is:r,a=e.useSyncExternalStore,s=e.useRef,i=e.useEffect,o=e.useMemo,d=e.useDebugValue;return o0.useSyncExternalStoreWithSelector=function(u,h,m,p,y){var v=s(null);if(v.current===null){var j={hasValue:!1,value:null};v.current=j}else j=v.current;v=o(function(){function N(O){if(!S){if(S=!0,C=O,O=p(O),y!==void 0&&j.hasValue){var E=j.value;if(y(E,O))return _=E}return _=O}if(E=_,n(C,O))return E;var T=p(O);return y!==void 0&&y(E,T)?(C=O,E):(C=O,_=T)}var S=!1,C,_,P=m===void 0?null:m;return[function(){return N(h())},P===null?void 0:function(){return N(P())}]},[h,m,p,y]);var b=a(u,v[0],v[1]);return i(function(){j.hasValue=!0,j.value=b},[b]),d(b),b},o0}var ck;function iY(){return ck||(ck=1,l0.exports=sY()),l0.exports}iY();function lY(e){e()}function oY(){let e=null,r=null;return{clear(){e=null,r=null},notify(){lY(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let a=e;for(;a;)n.push(a),a=a.next;return n},subscribe(n){let a=!0;const s=r={callback:n,next:null,prev:r};return s.prev?s.prev.next=s:e=s,function(){!a||e===null||(a=!1,s.next?s.next.prev=s.prev:r=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var dk={notify(){},get:()=>[]};function cY(e,r){let n,a=dk,s=0,i=!1;function o(b){m();const N=a.subscribe(b);let S=!1;return()=>{S||(S=!0,N(),p())}}function d(){a.notify()}function u(){j.onStateChange&&j.onStateChange()}function h(){return i}function m(){s++,n||(n=e.subscribe(u),a=oY())}function p(){s--,n&&s===0&&(n(),n=void 0,a.clear(),a=dk)}function y(){i||(i=!0,m())}function v(){i&&(i=!1,p())}const j={addNestedSub:o,notifyNestedSubs:d,handleChangeWrapper:u,isSubscribed:h,trySubscribe:y,tryUnsubscribe:v,getListeners:()=>a};return j}var dY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uY=dY(),mY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",fY=mY(),hY=()=>uY||fY?x.useLayoutEffect:x.useEffect,pY=hY(),c0=Symbol.for("react-redux-context"),d0=typeof globalThis<"u"?globalThis:{};function xY(){if(!x.createContext)return{};const e=d0[c0]??(d0[c0]=new Map);let r=e.get(x.createContext);return r||(r=x.createContext(null),e.set(x.createContext,r)),r}var gY=xY();function yY(e){const{children:r,context:n,serverState:a,store:s}=e,i=x.useMemo(()=>{const u=cY(s);return{store:s,subscription:u,getServerState:a?()=>a:void 0}},[s,a]),o=x.useMemo(()=>s.getState(),[s]);pY(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==s.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,o]);const d=n||gY;return x.createElement(d.Provider,{value:i},r)}var vY=yY,bY=(e,r)=>r,Uv=Z([bY,Ve,hC,xr,n6,ds,uU,fr],xU),Wv=e=>{var r=e.currentTarget.getBoundingClientRect(),n=r.width/e.currentTarget.offsetWidth,a=r.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-r.left)/n),chartY:Math.round((e.clientY-r.top)/a)}},cP=Vn("mouseClick"),dP=$c();dP.startListening({actionCreator:cP,effect:(e,r)=>{var n=e.payload,a=Uv(r.getState(),Wv(n));(a==null?void 0:a.activeIndex)!=null&&r.dispatch(bB({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var Cg=Vn("mouseMove"),uP=$c();uP.startListening({actionCreator:Cg,effect:(e,r)=>{var n=e.payload,a=r.getState(),s=hv(a,a.tooltip.settings.shared),i=Uv(a,Wv(n));s==="axis"&&((i==null?void 0:i.activeIndex)!=null?r.dispatch(GC({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):r.dispatch(VC()))}});var uk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},mP=An({name:"rootProps",initialState:uk,reducers:{updateOptions:(e,r)=>{var n;e.accessibilityLayer=r.payload.accessibilityLayer,e.barCategoryGap=r.payload.barCategoryGap,e.barGap=(n=r.payload.barGap)!==null&&n!==void 0?n:uk.barGap,e.barSize=r.payload.barSize,e.maxBarSize=r.payload.maxBarSize,e.stackOffset=r.payload.stackOffset,e.syncId=r.payload.syncId,e.syncMethod=r.payload.syncMethod,e.className=r.payload.className}}}),jY=mP.reducer,{updateOptions:wY}=mP.actions,fP=An({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,r)=>r.payload}}),{updatePolarOptions:NY}=fP.actions,_Y=fP.reducer,hP=Vn("keyDown"),pP=Vn("focus"),qv=$c();qv.startListening({actionCreator:hP,effect:(e,r)=>{var n=r.getState(),a=n.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(pv(s,io(n))),d=ds(n);if(i==="Enter"){var u=Pm(n,"axis","hover",String(s.index));r.dispatch(gg({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:u}));return}var h=uB(n),m=h==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,y=o+p*m;if(!(d==null||y>=d.length||y<0)){var v=Pm(n,"axis","hover",String(y));r.dispatch(gg({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}});qv.startListening({actionCreator:pP,effect:(e,r)=>{var n=r.getState(),a=n.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=n.tooltip;if(!s.active&&s.index==null){var i="0",o=Pm(n,"axis","hover",String(i));r.dispatch(gg({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Un=Vn("externalEvent"),xP=$c();xP.startListening({actionCreator:Un,effect:(e,r)=>{if(e.payload.handler!=null){var n=r.getState(),a={activeCoordinate:rU(n),activeDataKey:l6(n),activeIndex:qs(n),activeLabel:i6(n),activeTooltipIndex:qs(n),isTooltipActive:nU(n)};e.payload.handler(a,e.payload.reactEvent)}}});var kY=Z([so],e=>e.tooltipItemPayloads),SY=Z([kY,Zc,(e,r,n)=>r,(e,r,n)=>n],(e,r,n,a)=>{var s=e.find(d=>d.settings.dataKey===a);if(s!=null){var{positions:i}=s;if(i!=null){var o=r(i,n);return o}}}),gP=Vn("touchMove"),yP=$c();yP.startListening({actionCreator:gP,effect:(e,r)=>{var n=e.payload,a=r.getState(),s=hv(a,a.tooltip.settings.shared);if(s==="axis"){var i=Uv(a,Wv({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&r.dispatch(GC({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,d=n.touches[0],u=document.elementFromPoint(d.clientX,d.clientY);if(!u||!u.getAttribute)return;var h=u.getAttribute(V5),m=(o=u.getAttribute(G5))!==null&&o!==void 0?o:void 0,p=SY(r.getState(),h,m);r.dispatch(KC({activeDataKey:m,activeIndex:h,activeCoordinate:p}))}}});var CY=x5({brush:UK,cartesianAxis:wH,chartData:TU,errorBars:BH,graphicalItems:Bq,layout:H9,legend:Z8,options:CU,polarAxis:tq,polarOptions:_Y,referenceElements:YK,rootProps:jY,tooltip:jB}),PY=function(r){return x9({reducer:CY,preloadedState:r,middleware:n=>n({serializableCheck:!1}).concat([dP.middleware,uP.middleware,qv.middleware,xP.middleware,yP.middleware]),enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(P5({type:"raf"}))},devTools:is.devToolsEnabled})};function vP(e){var{preloadedState:r,children:n,reduxStoreName:a}=e,s=Ir(),i=x.useRef(null);if(s)return n;i.current==null&&(i.current=PY(r));var o=sy;return x.createElement(vY,{context:o,store:i.current},n)}function bP(e){var{layout:r,margin:n}=e,a=$t(),s=Ir();return x.useEffect(()=>{s||(a(U9(r)),a(B9(n)))},[a,s,r,n]),null}function jP(e){var r=$t();return x.useEffect(()=>{r(wY(e))},[r,e]),null}var EY=["children"];function OY(e,r){if(e==null)return{};var n,a,s=AY(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function AY(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Rm.apply(null,arguments)}var TY={width:"100%",height:"100%",display:"block"},MY=x.forwardRef((e,r)=>{var n=fy(),a=hy(),s=r4();if(!Il(n)||!Il(a))return null;var{children:i,otherAttributes:o,title:d,desc:u}=e,h,m;return typeof o.tabIndex=="number"?h=o.tabIndex:h=s?0:void 0,typeof o.role=="string"?m=o.role:m=s?"application":void 0,x.createElement(Vg,Rm({},o,{title:d,desc:u,role:m,tabIndex:h,width:n,height:a,style:TY,ref:r}),i)}),DY=e=>{var{children:r}=e,n=Ce(rf);if(!n)return null;var{width:a,height:s,y:i,x:o}=n;return x.createElement(Vg,{width:a,height:s,x:o,y:i},r)},mk=x.forwardRef((e,r)=>{var{children:n}=e,a=OY(e,EY),s=Ir();return s?x.createElement(DY,null,n):x.createElement(MY,Rm({ref:r},a),n)});function $Y(){var e=$t(),[r,n]=x.useState(null),a=Ce(v8);return x.useEffect(()=>{if(r!=null){var s=r.getBoundingClientRect(),i=s.width/r.offsetWidth;nr(i)&&i!==a&&e(q9(i))}},[r,e,a]),n}function fk(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function IY(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?fk(Object(n),!0).forEach(function(a){LY(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function LY(e,r,n){return(r=RY(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function RY(e){var r=FY(e,"string");return typeof r=="symbol"?r:r+""}function FY(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ii.apply(null,arguments)}var zY=()=>(BU(),null);function Fm(e){if(typeof e=="number")return e;if(typeof e=="string"){var r=parseFloat(e);if(!Number.isNaN(r))return r}return 0}var BY=x.forwardRef((e,r)=>{var n,a,s=x.useRef(null),[i,o]=x.useState({containerWidth:Fm((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Fm((a=e.style)===null||a===void 0?void 0:a.height)}),d=x.useCallback((h,m)=>{o(p=>{var y=Math.round(h),v=Math.round(m);return p.containerWidth===y&&p.containerHeight===v?p:{containerWidth:y,containerHeight:v}})},[]),u=x.useCallback(h=>{if(typeof r=="function"&&r(h),h!=null){var{width:m,height:p}=h.getBoundingClientRect();d(m,p);var y=j=>{var{width:b,height:N}=j[0].contentRect;d(b,N)},v=new ResizeObserver(y);v.observe(h),s.current=v}},[r,d]);return x.useEffect(()=>()=>{var h=s.current;h!=null&&h.disconnect()},[d]),x.createElement(x.Fragment,null,x.createElement(af,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",Ii({ref:u},e)))}),UY=x.forwardRef((e,r)=>{var{width:n,height:a}=e,[s,i]=x.useState({containerWidth:Fm(n),containerHeight:Fm(a)}),o=x.useCallback((u,h)=>{i(m=>{var p=Math.round(u),y=Math.round(h);return m.containerWidth===p&&m.containerHeight===y?m:{containerWidth:p,containerHeight:y}})},[]),d=x.useCallback(u=>{if(typeof r=="function"&&r(u),u!=null){var{width:h,height:m}=u.getBoundingClientRect();o(h,m)}},[r,o]);return x.createElement(x.Fragment,null,x.createElement(af,{width:s.containerWidth,height:s.containerHeight}),x.createElement("div",Ii({ref:d},e)))}),WY=x.forwardRef((e,r)=>{var{width:n,height:a}=e;return x.createElement(x.Fragment,null,x.createElement(af,{width:n,height:a}),x.createElement("div",Ii({ref:r},e)))}),qY=x.forwardRef((e,r)=>{var{width:n,height:a}=e;return Ja(n)||Ja(a)?x.createElement(UY,Ii({},e,{ref:r})):x.createElement(WY,Ii({},e,{ref:r}))});function HY(e){return e===!0?BY:qY}var KY=x.forwardRef((e,r)=>{var{children:n,className:a,height:s,onClick:i,onContextMenu:o,onDoubleClick:d,onMouseDown:u,onMouseEnter:h,onMouseLeave:m,onMouseMove:p,onMouseUp:y,onTouchEnd:v,onTouchMove:j,onTouchStart:b,style:N,width:S,responsive:C,dispatchTouchEvents:_=!0}=e,P=x.useRef(null),O=$t(),[E,T]=x.useState(null),[$,D]=x.useState(null),z=$Y(),I=my(),F=(I==null?void 0:I.width)>0?I.width:S,M=(I==null?void 0:I.height)>0?I.height:s,B=x.useCallback(Q=>{z(Q),typeof r=="function"&&r(Q),T(Q),D(Q),Q!=null&&(P.current=Q)},[z,r,T,D]),G=x.useCallback(Q=>{O(cP(Q)),O(Un({handler:i,reactEvent:Q}))},[O,i]),ee=x.useCallback(Q=>{O(Cg(Q)),O(Un({handler:h,reactEvent:Q}))},[O,h]),L=x.useCallback(Q=>{O(VC()),O(Un({handler:m,reactEvent:Q}))},[O,m]),H=x.useCallback(Q=>{O(Cg(Q)),O(Un({handler:p,reactEvent:Q}))},[O,p]),te=x.useCallback(()=>{O(pP())},[O]),se=x.useCallback(Q=>{O(hP(Q.key))},[O]),U=x.useCallback(Q=>{O(Un({handler:o,reactEvent:Q}))},[O,o]),ne=x.useCallback(Q=>{O(Un({handler:d,reactEvent:Q}))},[O,d]),Y=x.useCallback(Q=>{O(Un({handler:u,reactEvent:Q}))},[O,u]),K=x.useCallback(Q=>{O(Un({handler:y,reactEvent:Q}))},[O,y]),ie=x.useCallback(Q=>{O(Un({handler:b,reactEvent:Q}))},[O,b]),ae=x.useCallback(Q=>{_&&O(gP(Q)),O(Un({handler:j,reactEvent:Q}))},[O,_,j]),J=x.useCallback(Q=>{O(Un({handler:v,reactEvent:Q}))},[O,v]),ve=HY(C);return x.createElement(h6.Provider,{value:E},x.createElement(MS.Provider,{value:$},x.createElement(ve,{width:F??(N==null?void 0:N.width),height:M??(N==null?void 0:N.height),className:tt("recharts-wrapper",a),style:IY({position:"relative",cursor:"default",width:F,height:M},N),onClick:G,onContextMenu:U,onDoubleClick:ne,onFocus:te,onKeyDown:se,onMouseDown:Y,onMouseEnter:ee,onMouseLeave:L,onMouseMove:H,onMouseUp:K,onTouchEnd:J,onTouchMove:ae,onTouchStart:ie,ref:B},x.createElement(zY,null),n)))}),VY=["width","height","responsive","children","className","style","compact","title","desc"];function GY(e,r){if(e==null)return{};var n,a,s=YY(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function YY(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var wP=x.forwardRef((e,r)=>{var{width:n,height:a,responsive:s,children:i,className:o,style:d,compact:u,title:h,desc:m}=e,p=GY(e,VY),y=rn(p);return u?x.createElement(x.Fragment,null,x.createElement(af,{width:n,height:a}),x.createElement(mk,{otherAttributes:y,title:h,desc:m},i)):x.createElement(KY,{className:o,style:d,width:n,height:a,responsive:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(mk,{otherAttributes:y,title:h,desc:m,ref:r},x.createElement(XK,null,i)))});function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Pg.apply(null,arguments)}var ZY={top:5,right:5,bottom:5,left:5},XY={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ZY,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Hv=x.forwardRef(function(r,n){var a,s=hr(r.categoricalChartProps,XY),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:d,tooltipPayloadSearcher:u,categoricalChartProps:h}=r,m={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:d,tooltipPayloadSearcher:u,eventEmitter:void 0};return x.createElement(vP,{preloadedState:{options:m},reduxStoreName:(a=h.id)!==null&&a!==void 0?a:i},x.createElement(W6,{chartData:h.data}),x.createElement(bP,{layout:s.layout,margin:s.margin}),x.createElement(jP,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),x.createElement(wP,Pg({},s,{ref:n})))}),JY=["axis"],Kv=x.forwardRef((e,r)=>x.createElement(Hv,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:JY,tooltipPayloadSearcher:_f,categoricalChartProps:e,ref:r})),QY=["axis","item"],eZ=x.forwardRef((e,r)=>x.createElement(Hv,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:QY,tooltipPayloadSearcher:_f,categoricalChartProps:e,ref:r}));function tZ(e){var r=$t();return x.useEffect(()=>{r(NY(e))},[r,e]),null}var rZ=["layout"];function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Eg.apply(null,arguments)}function nZ(e,r){if(e==null)return{};var n,a,s=aZ(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function aZ(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var sZ={top:5,right:5,bottom:5,left:5},iZ={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:sZ,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},lZ=x.forwardRef(function(r,n){var a,s=hr(r.categoricalChartProps,iZ),{layout:i}=s,o=nZ(s,rZ),{chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:m}=r,p={chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:m,eventEmitter:void 0};return x.createElement(vP,{preloadedState:{options:p},reduxStoreName:(a=s.id)!==null&&a!==void 0?a:d},x.createElement(W6,{chartData:s.data}),x.createElement(bP,{layout:i,margin:s.margin}),x.createElement(jP,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),x.createElement(tZ,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),x.createElement(wP,Eg({},o,{ref:n})))}),oZ=["item"],cZ={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},dZ=x.forwardRef((e,r)=>{var n=hr(e,cZ);return x.createElement(lZ,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:oZ,tooltipPayloadSearcher:_f,categoricalChartProps:n,ref:r})}),uZ=["axis"],mZ=x.forwardRef((e,r)=>x.createElement(Hv,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uZ,tooltipPayloadSearcher:_f,categoricalChartProps:e,ref:r}));const Tr={primary:"#f97316",secondary:"#8b5cf6",success:"#10b981",warning:"#f59e0b",danger:"#ef4444",info:"#3b82f6",purple:"#a855f7",pink:"#ec4899",cyan:"#06b6d4"},hk=[Tr.primary,Tr.secondary,Tr.success,Tr.info,Tr.purple,Tr.pink,Tr.warning,Tr.danger,Tr.cyan];function fZ({data:e,height:r=300}){return t.jsx(Gl,{width:"100%",height:r,children:t.jsxs(mZ,{data:e,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"earningsGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:Tr.success,stopOpacity:.3}),t.jsx("stop",{offset:"95%",stopColor:Tr.success,stopOpacity:.1})]})}),t.jsx(td,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),t.jsx(rd,{dataKey:"date",stroke:"#64748b",fontSize:12,tickFormatter:n=>new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),t.jsx(nd,{stroke:"#64748b",fontSize:12,tickFormatter:n=>`$${n}`}),t.jsx(Jc,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},labelFormatter:n=>new Date(n).toLocaleDateString(),formatter:n=>[`$${n.toFixed(2)}`,"Earnings"]}),t.jsx(oP,{type:"monotone",dataKey:"earnings",stroke:Tr.success,strokeWidth:2,fill:"url(#earningsGradient)"})]})})}function NP({data:e,height:r=300}){return t.jsx(Gl,{width:"100%",height:r,children:t.jsxs(eZ,{data:e,layout:"horizontal",children:[t.jsx(td,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),t.jsx(rd,{type:"number",stroke:"#64748b",fontSize:12}),t.jsx(nd,{type:"category",dataKey:"metric",stroke:"#64748b",fontSize:12,width:100}),t.jsx(Jc,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:n=>[n.toLocaleString(),"Value"]}),t.jsx(B6,{dataKey:"value",fill:Tr.primary,radius:[0,4,4,0]})]})})}function Vv({data:e,height:r=300}){const n=e.map((a,s)=>({...a,color:a.color||hk[s%hk.length]}));return t.jsx(Gl,{width:"100%",height:r,children:t.jsxs(dZ,{children:[t.jsx(I6,{data:n,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:n.map((a,s)=>t.jsx(Qc,{fill:a.color},`cell-${s}`))}),t.jsx(Jc,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:a=>[a.toLocaleString(),"Count"]}),t.jsx(Rc,{verticalAlign:"middle",align:"right",layout:"vertical",iconType:"circle",wrapperStyle:{fontSize:"12px",paddingLeft:"20px"}})]})})}function Gv({data:e,height:r=200,primaryKey:n="value",secondaryKey:a,primaryColor:s=Tr.primary,secondaryColor:i=Tr.secondary}){return t.jsx(Gl,{width:"100%",height:r,children:t.jsxs(Kv,{data:e,children:[t.jsx(td,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),t.jsx(rd,{dataKey:"date",stroke:"#64748b",fontSize:12,tickFormatter:o=>new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),t.jsx(nd,{stroke:"#64748b",fontSize:12}),t.jsx(Jc,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},labelFormatter:o=>new Date(o).toLocaleDateString()}),t.jsx(Sc,{type:"monotone",dataKey:n,stroke:s,strokeWidth:2,dot:{r:3},activeDot:{r:5}}),a&&t.jsx(Sc,{type:"monotone",dataKey:a,stroke:i,strokeWidth:2,dot:{r:3},activeDot:{r:5}})]})})}function hZ({data:e,metrics:r,height:n=300}){return t.jsx(Gl,{width:"100%",height:n,children:t.jsxs(Kv,{data:e,children:[t.jsx(td,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),t.jsx(rd,{dataKey:"date",stroke:"#64748b",fontSize:12,tickFormatter:a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),t.jsx(nd,{stroke:"#64748b",fontSize:12}),t.jsx(Jc,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},labelFormatter:a=>new Date(a).toLocaleDateString()}),t.jsx(Rc,{}),r.map(a=>t.jsx(Sc,{type:"monotone",dataKey:a.key,stroke:a.color,strokeWidth:2,name:a.name,dot:{r:3},activeDot:{r:5}},a.key))]})})}function Wr({title:e,value:r,change:n,changeType:a,icon:s,trend:i}){const o=a==="increase"?"text-green-600":"text-red-600",d=a==="increase"?"":"";return t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[s&&t.jsx("div",{className:"text-gray-600",children:s}),t.jsx("h3",{className:"text-sm font-medium text-gray-600",children:e})]}),n!==void 0&&t.jsxs("span",{className:`text-sm font-medium ${o} flex items-center space-x-1`,children:[t.jsx("span",{children:d}),t.jsxs("span",{children:[Math.abs(n),"%"]})]})]}),t.jsx("div",{className:"mb-4",children:t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r})}),i&&i.length>0&&t.jsx("div",{className:"h-16 w-full min-w-[120px]",children:t.jsx(Gl,{width:"100%",height:64,children:t.jsx(Kv,{data:i,children:t.jsx(Sc,{type:"monotone",dataKey:"value",stroke:a==="increase"?Tr.success:Tr.danger,strokeWidth:2,dot:!1})})})})]})}function pZ({userData:e}){var o;const r=ar(),a=Array.from({length:30},(u,h)=>{const m=new Date;return m.setDate(m.getDate()-(29-h)),{date:m.toISOString().split("T")[0],earnings:Math.floor(Math.random()*50)+10,gems:Math.floor(Math.random()*20)+5,points:Math.floor(Math.random()*100)+20}}),s=[{name:"Points",value:(e==null?void 0:e.points_balance)||0,color:"#3b82f6"},{name:"Keys",value:((e==null?void 0:e.keys_balance)||0)*10,color:"#f97316"},{name:"Gems",value:((e==null?void 0:e.gems_balance)||0)*5,color:"#8b5cf6"},{name:"Gold",value:((e==null?void 0:e.gold_collected)||0)*2,color:"#eab308"}],i=[{metric:"Social Actions",value:45},{metric:"Drop Completions",value:30},{metric:"Content Investments",value:15},{metric:"Referral Bonuses",value:8},{metric:"Achievements",value:2}];return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-500 rounded-xl p-6 text-white shadow",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm uppercase tracking-wide text-white/80",children:"New"}),t.jsx("h3",{className:"text-2xl font-semibold",children:"Growth Hub is live"}),t.jsx("p",{className:"text-sm text-white/80 mt-1",children:"Stake gems, fund creators, and unlock higher returns on your balance."})]}),t.jsxs("button",{onClick:()=>r("/growth-hub"),className:"inline-flex items-center justify-center px-4 py-2 bg-white text-blue-600 font-medium rounded-lg shadow-sm hover:bg-blue-50 transition",children:["Explore Growth Hub",t.jsx(Xk,{className:"w-4 h-4 ml-2"})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(Wr,{title:"This Month",value:"$127.50",change:23,changeType:"increase",icon:t.jsx(at,{className:"w-5 h-5"}),trend:a.slice(-7).map(d=>({date:d.date,value:d.earnings}))}),t.jsx(Wr,{title:"All Time",value:"$1,456.80",change:8,changeType:"increase",icon:t.jsx(j0,{className:"w-5 h-5"}),trend:a.slice(-7).map(d=>({date:d.date,value:d.earnings*5}))}),t.jsx(Wr,{title:"Pending",value:"$89.25",change:12,changeType:"increase",icon:t.jsx(Kn,{className:"w-5 h-5"}),trend:a.slice(-7).map(d=>({date:d.date,value:d.earnings*.5}))}),t.jsx(Wr,{title:"Available",value:"$234.75",change:5,changeType:"increase",icon:t.jsx(Rs,{className:"w-5 h-5"}),trend:a.slice(-7).map(d=>({date:d.date,value:d.earnings*2}))})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Earnings Trend (30 Days)"}),t.jsx(fZ,{data:a,height:300})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Currency Distribution"}),t.jsx(Vv,{data:s.filter(d=>d.value>0),height:300})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Earning Sources"}),t.jsx(NP,{data:i,height:300})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Currency Growth"}),t.jsx(Gv,{data:a.map(d=>({date:d.date,value:d.points,secondary:d.gems*5})),height:300,primaryKey:"value",secondaryKey:"secondary",primaryColor:"#3b82f6",secondaryColor:"#8b5cf6"}),t.jsxs("div",{className:"flex justify-center space-x-6 mt-4 text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),t.jsx("span",{className:"text-gray-600",children:"Points"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 bg-violet-500 rounded-full"}),t.jsx("span",{className:"text-gray-600",children:"Gems (5)"})]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Wallet Insights"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[t.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[t.jsx(Dr,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-blue-900",children:(e==null?void 0:e.points_balance)||0}),t.jsx("p",{className:"text-sm text-blue-600",children:"Active Points"})]}),t.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[t.jsx(Cn,{className:"w-6 h-6 text-orange-600 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-orange-900",children:(e==null?void 0:e.keys_balance)||0}),t.jsx("p",{className:"text-sm text-orange-600",children:"Keys Available"})]}),t.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[t.jsx(er,{className:"w-6 h-6 text-purple-600 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-purple-900",children:(e==null?void 0:e.gems_balance)||0}),t.jsx("p",{className:"text-sm text-purple-600",children:"Gems Earned"})]}),t.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[t.jsx(ur,{className:"w-6 h-6 text-yellow-600 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:(e==null?void 0:e.gold_collected)||0}),t.jsx("p",{className:"text-sm text-yellow-600",children:"Gold Collection"})]}),t.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[t.jsx(Kt,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),t.jsxs("p",{className:"text-2xl font-bold text-green-900",children:["Level ",(e==null?void 0:e.level)||1]}),t.jsx("p",{className:"text-sm text-green-600",children:"Current Level"})]}),t.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[t.jsx(j0,{className:"w-6 h-6 text-red-600 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-red-900",children:(e==null?void 0:e.points_streak_days)||0}),t.jsx("p",{className:"text-sm text-red-600",children:"Day Streak"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Currency Breakdown"}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Dr,{className:"w-5 h-5 text-blue-600"}),t.jsx("span",{className:"font-medium text-blue-900",children:"Points"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-semibold text-blue-900",children:((o=e==null?void 0:e.points_balance)==null?void 0:o.toLocaleString())||"0"}),t.jsx("p",{className:"text-sm text-blue-600",children:"From social actions"})]})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Cn,{className:"w-5 h-5 text-orange-600"}),t.jsx("span",{className:"font-medium text-orange-900",children:"Keys"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-semibold text-orange-900",children:(e==null?void 0:e.keys_balance)||"0"}),t.jsx("p",{className:"text-sm text-orange-600",children:"For drop applications"})]})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(er,{className:"w-5 h-5 text-purple-600"}),t.jsx("span",{className:"font-medium text-purple-900",children:"Gems"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-semibold text-purple-900",children:(e==null?void 0:e.gems_balance)||"0"}),t.jsx("p",{className:"text-sm text-purple-600",children:"From completed drops"})]})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ur,{className:"w-5 h-5 text-yellow-600"}),t.jsx("span",{className:"font-medium text-yellow-900",children:"Gold"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-semibold text-yellow-900",children:(e==null?void 0:e.gold_collected)||"0"}),t.jsx("p",{className:"text-sm text-yellow-600",children:"Prestige collection"})]})]})]})]})}function xZ({holdings:e,loading:r,onList:n,onView:a}){if(r)return t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Content Portfolio"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Loading holdings"})]});if(!e.length)return t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-dashed border-gray-300 text-center",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Start building your portfolio"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Invest in creator content to earn returns and unlock secondary market trading."}),t.jsx("button",{className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition",children:"Discover Opportunities"})]});const s=e.reduce((i,o)=>(i.value+=o.market_value,i.gain+=o.unrealized_gain,i),{value:0,gain:0});return t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Content Portfolio"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Track your holdings, performance, and resale opportunities."})]}),t.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Portfolio Value"}),t.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["$",s.value.toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Unrealized Gain"}),t.jsxs("p",{className:`text-lg font-semibold ${s.gain>=0?"text-green-600":"text-red-500"}`,children:[s.gain>=0?"+":"","$",s.gain.toFixed(2)]})]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Asset"}),t.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shares"}),t.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg. Cost"}),t.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Market Value"}),t.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unrealized"}),t.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Day"}),t.jsx("th",{scope:"col",className:"px-4 py-3"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(i=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("img",{src:i.content_thumbnail,alt:i.content_title,className:"w-12 h-12 rounded-lg object-cover"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:i.content_title}),t.jsxs("p",{className:"text-sm text-gray-500",children:[i.creator_name,"  ",i.platform.toUpperCase()]})]})]})}),t.jsxs("td",{className:"px-4 py-4 text-right",children:[t.jsx("div",{className:"font-semibold text-gray-900",children:i.owned_shares}),t.jsxs("div",{className:"text-xs text-gray-500",children:[i.available_to_sell," sellable"]})]}),t.jsxs("td",{className:"px-4 py-4 text-right",children:[t.jsxs("div",{className:"text-gray-900",children:["$",i.avg_cost.toFixed(2)]}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Now $",i.current_price.toFixed(2)]})]}),t.jsxs("td",{className:"px-4 py-4 text-right",children:[t.jsxs("div",{className:"text-gray-900",children:["$",i.market_value.toFixed(2)]}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Weekly ",i.week_change_pct.toFixed(1),"%"]})]}),t.jsx("td",{className:"px-4 py-4 text-right",children:t.jsxs("div",{className:`font-semibold ${i.unrealized_gain>=0?"text-green-600":"text-red-500"}`,children:[i.unrealized_gain>=0?"+":"","$",i.unrealized_gain.toFixed(2)]})}),t.jsx("td",{className:"px-4 py-4 text-right",children:t.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${i.day_change_pct>=0?"bg-green-50 text-green-700":"bg-red-50 text-red-600"}`,children:[i.day_change_pct>=0?"+":"",i.day_change_pct.toFixed(2),"%"]})}),t.jsxs("td",{className:"px-4 py-4 text-right space-x-2",children:[t.jsx("button",{onClick:()=>a(i),className:"px-3 py-1.5 text-sm font-medium border border-gray-200 text-gray-600 rounded-lg hover:bg-gray-100",children:"View details"}),i.available_to_sell>0?t.jsx("button",{onClick:()=>n(i),className:"px-3 py-1.5 text-sm font-medium border border-orange-200 text-orange-600 rounded-lg hover:bg-orange-50",children:"List for resale"}):t.jsx("span",{className:"text-xs text-gray-400",children:"All shares listed"})]})]},i.content_id))})]})})]})}function gZ({listings:e,loading:r}){return r?t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"My Listings"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Loading listings"})]}):e.length?t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Listings"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Active resale listings awaiting buyers."})]}),t.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-orange-100 text-orange-700",children:[e.length," active"]})]}),t.jsx("div",{className:"space-y-3",children:e.map(n=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("img",{src:n.content_thumbnail,alt:n.content_title,className:"w-12 h-12 rounded-lg object-cover"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:n.content_title}),t.jsxs("p",{className:"text-sm text-gray-500",children:[n.remaining_quantity,"/",n.quantity," shares available"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Ask price"}),t.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["$",n.ask_price.toFixed(2)]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Created ",new Date(n.created_at).toLocaleDateString(),"  ",n.status]})]})]},n.id))})]}):null}function yZ({incoming:e,outgoing:r,loading:n,onAccept:a}){return n?t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Offers"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Loading offers"})]}):!e.length&&!r.length?null:t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Offers"}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Incoming"}),t.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-orange-100 text-orange-700",children:e.length})]}),t.jsxs("div",{className:"space-y-3",children:[e.map(s=>t.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold text-gray-900",children:[s.quantity," shares @ $",s.bid_price.toFixed(2)]}),t.jsx("p",{className:"text-sm text-gray-500",children:s.content_title||s.content_id}),s.message&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["",s.message,""]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>a(s.id),className:"px-3 py-1.5 text-xs font-medium bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Accept"}),t.jsx("button",{className:"px-3 py-1.5 text-xs font-medium border border-gray-300 text-gray-600 rounded-lg hover:bg-gray-100",children:"Decline"})]})]})},s.id)),!e.length&&t.jsx("p",{className:"text-sm text-gray-500",children:"No incoming offers."})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Outgoing"}),t.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-slate-100 text-slate-700",children:r.length})]}),t.jsxs("div",{className:"space-y-3",children:[r.map(s=>t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsxs("p",{className:"font-semibold text-gray-900",children:[s.quantity," shares @ $",s.bid_price.toFixed(2)]}),t.jsx("p",{className:"text-sm text-gray-500",children:s.content_title||s.content_id}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1 capitalize",children:["Status: ",s.status]})]},s.id)),!r.length&&t.jsx("p",{className:"text-sm text-gray-500",children:"No outgoing offers."})]})]})]})]})}function vZ(){var ue;const[e,r]=x.useState([]),[n,a]=x.useState([]),[s,i]=x.useState(null),[o,d]=x.useState([]),[u,h]=x.useState(!0),[m,p]=x.useState([]),[y,v]=x.useState(!0),[j,b]=x.useState([]),[N,S]=x.useState([]),[C,_]=x.useState(!0),[P,O]=x.useState(null),[E,T]=x.useState(!1),[$,D]=x.useState(!0),[z,I]=x.useState("overview"),[F,M]=x.useState(!1),[B,G]=x.useState(!1),[ee,L]=x.useState(!1),[H,te]=x.useState(!1),[se,U]=x.useState(!1),[ne,Y]=x.useState(!1),[K,ie]=x.useState(!1);console.log("Wallet component rendered, modal states:",{showGemStoreModal:ne,showCurrencyModal:F,showWithdrawalModal:H}),x.useEffect(()=>{ae()},[]),x.useEffect(()=>{J(),ve(),Q()},[]);const ae=async()=>{var me,Te,rt,pn;try{console.log("=== fetchWalletData Debug ==="),console.log("Starting wallet data fetch..."),console.log("Checking authentication with Mocha service..."),console.log("Current cookies:",document.cookie);const Lr=Ht(),xn=await fetch("/api/users/me",{credentials:"include",headers:Lr});console.log("Auth response:",{status:xn.status,statusText:xn.statusText,headers:Object.fromEntries(xn.headers.entries())});let yt=null;try{const Ot=await xn.text();console.log("Raw auth response:",Ot),Ot&&(yt=JSON.parse(Ot)),console.log("Auth data parsed:",{isNull:yt===null,hasId:!!(yt!=null&&yt.id),hasEmail:!!(yt!=null&&yt.email),type:typeof yt,data:yt})}catch(Ot){console.error("Failed to parse auth response:",Ot)}if(!yt||yt===null){console.log("User not authenticated - showing error and manual auth options"),i(null),r([]),a([]),alert('Authentication failed. Please try the "Force Re-Login" button or refresh the page.');return}console.log("User is authenticated, fetching user data...");const sn=await fetch("/api/users/me/wallets",{credentials:"include",headers:Ht()});console.log("User data response status:",sn.status);let We=null;try{We=await sn.json(),console.log("User data parsed:",{isNull:We===null,hasError:!!(We!=null&&We.error),hasId:!!(We!=null&&We.id),hasEmail:!!(We!=null&&We.email),gems_balance:We==null?void 0:We.gems_balance,type:typeof We})}catch(Ot){console.error("Failed to parse user response:",Ot)}if(We!=null&&We.error&&(console.error("User data API error:",We.error),We.error.includes("configuration"))){alert("Server configuration error. Please contact support.");return}if(!We||We===null||We!=null&&We.error){console.log("No valid database user found, creating temporary user...");const Ot={id:Date.now(),mocha_user_id:yt.id||"temp",email:yt.email||"",display_name:((me=yt.google_user_data)==null?void 0:me.name)||((Te=yt.email)==null?void 0:Te.split("@")[0])||"User",username:((rt=yt.email)==null?void 0:rt.split("@")[0])||"user",avatar_url:((pn=yt.google_user_data)==null?void 0:pn.picture)||void 0,bio:"Welcome to Promorang!",banner_url:void 0,website_url:void 0,social_links:void 0,user_type:"regular",xp_points:100,level:1,referral_code:"TEMP"+Date.now().toString().slice(-4),referred_by:void 0,follower_count:0,following_count:0,total_earnings_usd:0,promogem_balance:0,points_balance:25,keys_balance:1,gems_balance:0,gold_collected:0,user_tier:"free",points_streak_days:0,last_activity_date:new Date().toISOString().split("T")[0],master_key_activated_at:void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("Using temporary user data:",Ot),i(Ot)}else console.log("Setting valid user data:",{id:We.id,email:We.email,gems_balance:We.gems_balance}),i(We);try{const Ot=Ht(),[he,ot]=await Promise.all([fetch("/api/users/wallets",{credentials:"include",headers:Ot}),fetch("/api/users/transactions",{credentials:"include",headers:Ot})]);let ht=[],yr=[];if(he.ok){const Xt=await he.json();Array.isArray(Xt)?ht=Xt:Xt&&Array.isArray(Xt.wallets)&&(ht=Xt.wallets)}if(ot.ok){const Xt=await ot.json();Array.isArray(Xt)?yr=Xt:Xt&&Array.isArray(Xt.transactions)&&(yr=Xt.transactions)}r(ht||[]),a(yr||[]),console.log("Fetched additional data:",{wallets:ht.length,transactions:yr.length})}catch(Ot){console.error("Error fetching wallets/transactions:",Ot),r([]),a([])}}catch(Lr){console.error("Failed to fetch wallet data:",Lr),Lr instanceof Error&&(console.error("Error details:",Lr.message),console.error("Error stack:",Lr.stack)),i(null),r([]),a([])}finally{D(!1),console.log("fetchWalletData completed, loading set to false")}},J=async()=>{h(!0);const me=await PS();d(me),h(!1)},ve=async()=>{v(!0);const me=await UD(!0);p(me),v(!1)},Q=async()=>{_(!0);const[me,Te]=await Promise.all([cN("seller"),cN("buyer")]);b(me),S(Te),_(!1)},ye=me=>{O(me),T(!0)},Ae=()=>{J(),ve(),Q()},le=async me=>{try{await HD(me),await Promise.all([J(),ve(),Q()])}catch(Te){console.error("Failed to accept offer:",Te),alert(Te instanceof Error?Te.message:"Failed to accept offer")}},He=e&&e.length>0?e.find(me=>me.currency_type==="USD"):null,$e=me=>{switch(me){case"task_payment":case"referral_bonus":case"staking_reward":return t.jsx(Zk,{className:"w-4 h-4 text-green-600"});case"withdrawal":return t.jsx(Xk,{className:"w-4 h-4 text-red-600"});default:return t.jsx(Kn,{className:"w-4 h-4 text-gray-600"})}},ct=me=>me>=0?"text-green-600":"text-red-600",Je=me=>{me.preventDefault(),me.stopPropagation(),console.log("Buy More Gems button clicked!"),console.log("Current showGemStoreModal state:",ne),console.log("Current userData:",s),Y(!0),console.log("Setting showGemStoreModal to true"),setTimeout(()=>{console.log("showGemStoreModal after timeout:",ne)},100)},Qe=me=>{me.preventDefault(),me.stopPropagation(),console.log("Convert Currency button clicked!"),console.log("Current showCurrencyModal state:",F),M(!0),console.log("Setting showCurrencyModal to true")},sr=me=>{me.preventDefault(),me.stopPropagation(),console.log("Withdraw Gems button clicked!"),console.log("Current showWithdrawalModal state:",H),te(!0),console.log("Setting showWithdrawalModal to true")},Fe=()=>{console.log("Closing Gem Store Modal"),Y(!1)},Ge=()=>{console.log("Closing Currency Modal"),M(!1)},jt=()=>{console.log("Closing Withdrawal Modal"),te(!1)};return $?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Wallet"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your earnings and transactions"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-cyan-600 rounded-2xl p-6 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Dr,{className:"w-6 h-6"}),t.jsx("span",{className:"text-lg font-medium",children:"Points"})]}),t.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-xs font-bold",children:"PTS"})})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"text-3xl font-bold",children:((ue=s==null?void 0:s.points_balance)==null?void 0:ue.toLocaleString())||"0"}),t.jsx("p",{className:"text-blue-100 text-sm",children:"Earn from social actions"})]}),t.jsx("button",{onClick:Qe,className:"w-full bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-lg py-2 px-4 text-sm font-medium transition-colors",children:"Convert to Keys"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl p-6 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Cn,{className:"w-6 h-6"}),t.jsx("span",{className:"text-lg font-medium",children:"Keys"})]}),t.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-xs font-bold",children:"KEY"})})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"text-3xl font-bold",children:(s==null?void 0:s.keys_balance)||"0"}),t.jsx("p",{className:"text-orange-100 text-sm",children:"Apply for paid drops"})]}),t.jsx("button",{onClick:()=>G(!0),className:"w-full bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-lg py-2 px-4 text-sm font-medium transition-colors",children:"Master Key Status"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl p-6 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(er,{className:"w-6 h-6"}),t.jsx("span",{className:"text-lg font-medium",children:"Gems"})]}),t.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-xs font-bold",children:"GEM"})})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"text-3xl font-bold",children:(s==null?void 0:s.gems_balance)||"0"}),t.jsx("p",{className:"text-purple-100 text-sm",children:"Earn from completed drops"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[t.jsx("button",{onClick:Je,className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-lg py-2 px-2 text-xs font-medium transition-colors",children:"Buy More"}),t.jsx("button",{onClick:Qe,className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-lg py-2 px-2 text-xs font-medium transition-colors",children:"Convert"}),t.jsx("button",{onClick:sr,disabled:((s==null?void 0:s.gems_balance)||0)<200,className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-lg py-2 px-2 text-xs font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Withdraw"})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-amber-600 rounded-2xl p-6 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ur,{className:"w-6 h-6"}),t.jsx("span",{className:"text-lg font-medium",children:"Gold"})]}),t.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-xs font-bold",children:"AU"})})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"text-3xl font-bold",children:(s==null?void 0:s.gold_collected)||"0"}),t.jsx("p",{className:"text-yellow-100 text-sm",children:"Prestige currency"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx("button",{onClick:()=>L(!0),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-lg py-2 px-2 text-xs font-medium transition-colors",children:"Gold Shop"}),t.jsx("button",{onClick:()=>ie(!0),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-lg py-2 px-2 text-xs font-medium transition-colors",children:"Achievements"})]})]})]}),He&&He.balance>0&&t.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl p-6 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ft,{className:"w-6 h-6"}),t.jsx("span",{className:"text-lg font-medium",children:"USD Balance"})]}),t.jsx(Rs,{className:"w-6 h-6 opacity-75"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("p",{className:"text-4xl font-bold",children:["$",((He==null?void 0:He.balance)||0).toFixed(2)]}),t.jsx("p",{className:"text-green-100 text-sm",children:"Available for withdrawal"})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{className:"flex-1 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-lg py-2 px-4 text-sm font-medium transition-colors",children:"Withdraw"}),t.jsx("button",{onClick:()=>U(!0),className:"flex-1 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-lg py-2 px-4 text-sm font-medium transition-colors",children:"Payment Methods"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Staking Rewards"}),t.jsx("span",{className:"bg-gradient-to-r from-purple-100 to-pink-100 text-purple-700 px-3 py-1 rounded-full text-sm font-medium",children:"12.5% APY"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"0"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Staked PromoGems"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"0.00"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Pending Rewards"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-green-600",children:"$0.00"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Total Earned"})]})]}),t.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:t.jsx("button",{className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white py-3 rounded-lg font-medium transition-all duration-200",children:"Start Staking PromoGems"})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[t.jsx("div",{className:"border-b border-gray-200",children:t.jsxs("nav",{className:"flex space-x-8 px-6",children:[t.jsx("button",{onClick:()=>I("overview"),className:`py-4 border-b-2 font-medium text-sm ${z==="overview"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Overview"}),t.jsx("button",{onClick:()=>I("transactions"),className:`py-4 border-b-2 font-medium text-sm ${z==="transactions"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Transactions"})]})}),t.jsxs("div",{className:"p-6",children:[z==="overview"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(pZ,{userData:s,transactions:n}),t.jsx(xZ,{holdings:o,loading:u,onList:ye,onView:me=>navigate(`/portfolio/holdings/${me.content_id}`)}),t.jsx(gZ,{listings:m,loading:y}),t.jsx(yZ,{incoming:j,outgoing:N,loading:C,onAccept:le})]}),z==="transactions"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Transaction History"}),t.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[t.jsx(rS,{className:"w-4 h-4"}),t.jsx("span",{children:"Filter"})]})]}),t.jsx("div",{className:"space-y-3",children:n.length>0?n.map(me=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm",children:$e(me.transaction_type)}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:me.description||me.transaction_type.replace("_"," ")}),t.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(me.created_at).toLocaleDateString(),"  ",me.currency_type]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:`font-semibold ${ct(me.amount)}`,children:[me.amount>=0?"+":"","$",Math.abs(me.amount).toFixed(2)]}),t.jsx("p",{className:"text-sm text-gray-500 capitalize",children:me.status})]})]},me.id)):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Rs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No transactions yet"}),t.jsx("p",{className:"text-gray-600",children:"Your transaction history will appear here once you start earning."})]})})]})]})]}),!s&&t.jsx(BD,{}),t.jsx(fS,{user:s,isOpen:F,onClose:Ge,onSuccess:ae}),t.jsx(hS,{user:s,isOpen:B,onClose:()=>G(!1),onSuccess:ae}),t.jsx(pS,{user:s,isOpen:ee,onClose:()=>L(!1),onPurchase:ae}),t.jsx(RD,{user:s,isOpen:H,onClose:jt,onSuccess:ae}),t.jsx(KD,{isOpen:E,onClose:()=>T(!1),holding:P,onSuccess:Ae}),t.jsx(FD,{user:s,isOpen:se,onClose:()=>U(!1),onSuccess:ae}),t.jsx(zD,{user:s,isOpen:ne,onClose:Fe,onSuccess:ae}),t.jsx(Wg,{user:s,isOpen:K,onClose:()=>ie(!1)})]})}function bZ({isOpen:e,onClose:r,channel:n,user:a,onSuccess:s}){const[i,o]=x.useState(""),[d,u]=x.useState(!1),[h,m]=x.useState("");if(!e||!n)return null;const y=(()=>{if(typeof n.icon=="function")return n.icon;switch(n.iconKey||n.icon){case"Shield":return Ar;case"Rocket":return ya;case"Star":return Ue;case"TrendingUp":return at;default:return $s}})(),v=()=>{const P={green:"from-green-500 to-emerald-600",blue:"from-blue-500 to-cyan-600",purple:"from-purple-500 to-pink-600",orange:"from-orange-500 to-red-600"};return P[n.color]||P.blue},j=()=>{switch(n.riskLevel){case"low":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"high":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},N=(()=>{const P=parseFloat(i)||0;if(P===0)return{daily:0,total:0,final:0};const O=n.lockPeriod,E=P*(n.baseMultiplier-1),T=E/O,$=P+E;return{daily:T,total:E,final:$}})(),S=i&&parseFloat(i)>=n.minDeposit&&parseFloat(i)<=n.maxDeposit&&parseFloat(i)<=((a==null?void 0:a.gems_balance)||0),C=async()=>{if(S){u(!0),m("");try{const P=await fetch("/api/growth/staking",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({channel_id:n.id,amount:parseFloat(i)})});if(P.ok)s(),r(),o("");else{const O=await P.json();m(O.error||"Failed to stake gems")}}catch{m("Network error occurred")}finally{u(!1)}}},_=()=>{const P=Math.min((a==null?void 0:a.gems_balance)||0,n.maxDeposit);o(P.toString())};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-screen overflow-y-auto",children:[t.jsxs("div",{className:`bg-gradient-to-r ${v()} p-6 text-white`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(y,{className:"w-6 h-6"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",children:n.name}),t.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j()} text-gray-800`,children:[n.riskLevel.toUpperCase()," RISK"]})]})]}),t.jsx("button",{onClick:r,className:"text-white/80 hover:text-white transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsx("p",{className:"text-white/90",children:n.description})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:"text-lg font-bold text-gray-900",children:n.lockPeriod}),t.jsx("div",{className:"text-sm text-gray-600",children:"Days Locked"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"text-lg font-bold text-green-600",children:[n.expectedApr,"%"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Expected APR"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[n.baseMultiplier,"x"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Multiplier"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:"text-lg font-bold text-purple-600",children:(a==null?void 0:a.gems_balance)||0}),t.jsx("div",{className:"text-sm text-gray-600",children:"Your Balance"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Channel Features"}),t.jsx("div",{className:"space-y-2",children:n.features.map((P,O)=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full bg-gradient-to-r ${v()}`}),t.jsx("span",{className:"text-sm text-gray-700",children:P})]},O))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stake Amount (Gems)"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"number",value:i,onChange:P=>o(P.target.value),placeholder:`Min: ${n.minDeposit}, Max: ${n.maxDeposit}`,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",min:n.minDeposit,max:Math.min(n.maxDeposit,(a==null?void 0:a.gems_balance)||0)}),t.jsx("button",{onClick:_,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-sm text-purple-600 hover:text-purple-700 font-medium",children:"MAX"})]}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[t.jsxs("span",{children:["Min: ",n.minDeposit," gems"]}),t.jsxs("span",{children:["Max: ",Math.min(n.maxDeposit,(a==null?void 0:a.gems_balance)||0)," gems"]})]})]}),i&&parseFloat(i)>0&&t.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-4 border border-green-200",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(Qk,{className:"w-5 h-5 text-green-600"}),t.jsx("h3",{className:"font-semibold text-gray-900",children:"Projected Rewards"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-600",children:"Daily Reward"}),t.jsxs("div",{className:"font-bold text-green-600",children:["+",N.daily.toFixed(2)," Gems"]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-600",children:"Total Rewards"}),t.jsxs("div",{className:"font-bold text-green-600",children:["+",N.total.toFixed(2)," Gems"]})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("div",{className:"text-sm text-gray-600",children:"Final Amount"}),t.jsxs("div",{className:"text-xl font-bold text-blue-600",children:[N.final.toFixed(2)," Gems"]})]})]})]}),t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(dr,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-yellow-800",children:"Important Notice"}),t.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:["Your gems will be locked for ",n.lockPeriod," days. Early withdrawal may result in penalties. Rewards are distributed daily and automatically compounded."]})]})]})}),h&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsx("p",{className:"text-sm text-red-700",children:h})}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:r,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:C,disabled:!S||d,className:`flex-1 px-6 py-3 rounded-lg font-medium transition-all duration-200 ${S&&!d?`bg-gradient-to-r ${v()} hover:opacity-90 text-white`:"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:d?"Staking...":`Stake ${i||"0"} Gems`})]})]})]})})}function jZ({isOpen:e,onClose:r,onSuccess:n}){const[a,s]=x.useState({title:"",description:"",category:"Technology",funding_goal:"",min_pledge:"",duration_days:"30"}),[i,o]=x.useState([{amount:25,title:"Early Supporter",description:"Get early access and exclusive updates",estimatedDelivery:"March 2025"}]),[d,u]=x.useState(!1),[h,m]=x.useState("");if(!e)return null;const p=["Technology","Film","Music","Art","Games","Fashion","Food","Publishing","Design","Education","Health","Other"],y=()=>{o([...i,{amount:100,title:"",description:"",estimatedDelivery:"April 2025"}])},v=N=>{i.length>1&&o(i.filter((S,C)=>C!==N))},j=(N,S,C)=>{const _=[...i];_[N]={..._[N],[S]:C},o(_)},b=async N=>{if(N.preventDefault(),!a.title||!a.description||!a.funding_goal){m("Please fill in all required fields");return}if(parseFloat(a.funding_goal)<1e3){m("Minimum funding goal is 1,000 gems");return}u(!0),m("");try{const S=await fetch("/api/growth/funding/projects",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...a,funding_goal:parseFloat(a.funding_goal),min_pledge:parseFloat(a.min_pledge)||25,duration_days:parseInt(a.duration_days),reward_tiers:i})});if(S.ok)n(),r(),s({title:"",description:"",category:"Technology",funding_goal:"",min_pledge:"",duration_days:"30"}),o([{amount:25,title:"Early Supporter",description:"Get early access and exclusive updates",estimatedDelivery:"March 2025"}]);else{const C=await S.json();m(C.error||"Failed to create project")}}catch{m("Network error occurred")}finally{u(!1)}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-screen overflow-y-auto",children:[t.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 p-6 text-white",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(ya,{className:"w-6 h-6"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",children:"Create Funding Project"}),t.jsx("p",{className:"text-blue-100",children:"Launch your creative project"})]})]}),t.jsx("button",{onClick:r,className:"text-white/80 hover:text-white transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]})}),t.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Details"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Title *"}),t.jsx("input",{type:"text",value:a.title,onChange:N=>s({...a,title:N.target.value}),placeholder:"Enter your project title",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),t.jsx("textarea",{value:a.description,onChange:N=>s({...a,description:N.target.value}),placeholder:"Describe your project, goals, and what makes it special",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),t.jsx("select",{value:a.category,onChange:N=>s({...a,category:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:p.map(N=>t.jsx("option",{value:N,children:N},N))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (Days)"}),t.jsxs("select",{value:a.duration_days,onChange:N=>s({...a,duration_days:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"30",children:"30 days"}),t.jsx("option",{value:"45",children:"45 days"}),t.jsx("option",{value:"60",children:"60 days"}),t.jsx("option",{value:"90",children:"90 days"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Funding Goal (Gems) *"}),t.jsx("input",{type:"number",value:a.funding_goal,onChange:N=>s({...a,funding_goal:N.target.value}),placeholder:"10000",min:"1000",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Pledge (Gems)"}),t.jsx("input",{type:"number",value:a.min_pledge,onChange:N=>s({...a,min_pledge:N.target.value}),placeholder:"25",min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reward Tiers"}),t.jsxs("button",{type:"button",onClick:y,className:"flex items-center space-x-2 px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[t.jsx(Kr,{className:"w-4 h-4"}),t.jsx("span",{children:"Add Tier"})]})]}),i.map((N,S)=>t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h4",{className:"font-medium text-gray-900",children:["Tier ",S+1]}),i.length>1&&t.jsx("button",{type:"button",onClick:()=>v(S),className:"text-red-600 hover:text-red-700",children:t.jsx(IT,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Pledge Amount (Gems)"}),t.jsx("input",{type:"number",value:N.amount,onChange:C=>j(S,"amount",parseInt(C.target.value)||0),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Estimated Delivery"}),t.jsx("input",{type:"text",value:N.estimatedDelivery,onChange:C=>j(S,"estimatedDelivery",C.target.value),placeholder:"March 2025",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Reward Title"}),t.jsx("input",{type:"text",value:N.title,onChange:C=>j(S,"title",C.target.value),placeholder:"Early Access",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Reward Description"}),t.jsx("textarea",{value:N.description,onChange:C=>j(S,"description",C.target.value),placeholder:"Describe what backers will receive",rows:2,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]},S))]}),h&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsx("p",{className:"text-sm text-red-700",children:h})}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:r,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:d,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Creating...":"Launch Project"})]})]})]})})}function wZ({isOpen:e,onClose:r,user:n,onSuccess:a,policies:s}){const[i,o]=x.useState("pro"),[d,u]=x.useState(!1),[h,m]=x.useState(""),[p,y]=x.useState("select");if(!e)return null;const v=Array.isArray(s)?s:[],j=v.find(_=>_.id===i)||v[0]||null,b=j?((n==null?void 0:n.follower_count)||0)>=(j.minFollowers||0):!1,N=j?((n==null?void 0:n.gems_balance)||0)>=(j.monthlyPremium||0):!1,S=async()=>{if(!(!j||!b||!N)){u(!0),m("");try{const _=await fetch("/api/growth/shield/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({policy_id:i})});if(_.ok)a(),r(),y("select");else{const P=await _.json();m(P.error||"Failed to subscribe to shield")}}catch{m("Network error occurred")}finally{u(!1)}}},C=_=>_?t.jsx(et,{className:"w-4 h-4 text-green-600"}):t.jsx(Ze,{className:"w-4 h-4 text-gray-400"});return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-screen overflow-y-auto",children:[t.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 p-6 text-white",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(Ar,{className:"w-6 h-6"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",children:"Social Shield Protection"}),t.jsx("p",{className:"text-orange-100",children:"Protect your social media earnings"})]})]}),t.jsx("button",{onClick:r,className:"text-white/80 hover:text-white transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]})}),t.jsxs("div",{className:"p-6",children:[p==="select"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(dr,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-yellow-800",children:"Why You Need Social Shield"}),t.jsxs("ul",{className:"text-sm text-yellow-700 mt-2 space-y-1",children:[t.jsx("li",{children:" Algorithm changes can reduce reach by up to 80%"}),t.jsx("li",{children:" Account bans eliminate income overnight"}),t.jsx("li",{children:" Content strikes impact monetization for weeks"}),t.jsx("li",{children:" Platform issues can cause significant follower loss"})]})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.length===0&&t.jsx("div",{className:"col-span-full bg-gray-50 border border-dashed border-gray-200 rounded-lg p-6 text-center text-sm text-gray-500",children:"No policies available right now. Check back soon!"}),v.map(_=>{const P=i===_.id,O=((n==null?void 0:n.follower_count)||0)>=_.minFollowers;return t.jsxs("div",{className:`border-2 rounded-xl overflow-hidden cursor-pointer transition-all ${P?"border-orange-500 ring-2 ring-orange-100":O?"border-gray-200 hover:border-orange-300":"border-gray-200 opacity-60"}`,onClick:()=>O&&o(_.id),children:[_.id==="pro"&&t.jsx("div",{className:"bg-orange-500 text-white text-center py-2 text-sm font-medium",children:"Most Popular"}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"text-center mb-4",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:_.name}),t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:_.description}),t.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[_.monthlyPremium," Gems",t.jsx("span",{className:"text-sm font-normal text-gray-500",children:"/month"})]}),t.jsxs("div",{className:"text-sm text-gray-600",children:["Up to $",_.maxCoverage.toLocaleString()," coverage"]})]}),t.jsxs("div",{className:"space-y-3 mb-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Coverage:"}),t.jsx("ul",{className:"space-y-1",children:Object.entries(_.coverage).map(([E,T])=>t.jsxs("li",{className:"flex items-center space-x-2",children:[C(T),t.jsx("span",{className:`text-xs ${T?"text-gray-700":"text-gray-400"}`,children:E.replace(/([A-Z])/g," $1").replace(/^./,$=>$.toUpperCase())})]},E))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Platforms:"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:_.platforms.map(E=>t.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:E},E))})]}),t.jsxs("div",{className:"text-xs text-gray-600 pt-2 border-t border-gray-100",children:[t.jsxs("div",{children:["Deductible: ",_.deductible," gems"]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(zt,{className:"w-3 h-3"}),t.jsxs("span",{children:["Min followers: ",_.minFollowers.toLocaleString()]})]})]})]}),!O&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-2",children:t.jsxs("p",{className:"text-xs text-red-700",children:["Requires ",_.minFollowers.toLocaleString()," followers"]})})]})]},_.id)})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Your Status"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(zt,{className:"w-4 h-4 text-blue-600"}),t.jsxs("span",{className:"text-blue-700",children:["Followers: ",((n==null?void 0:n.follower_count)||0).toLocaleString()]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Us,{className:"w-4 h-4 text-blue-600"}),t.jsxs("span",{className:"text-blue-700",children:["Gem Balance: ",(n==null?void 0:n.gems_balance)||0]})]})]})]}),h&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsx("p",{className:"text-sm text-red-700",children:h})}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:r,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsxs("button",{onClick:()=>y("confirm"),disabled:!b||!N,className:"flex-1 px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:["Continue with ",j==null?void 0:j.name]})]})]}),p==="confirm"&&j&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirm Your Subscription"}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"font-medium text-gray-900",children:j.name}),t.jsxs("span",{className:"font-bold text-gray-900",children:[j.monthlyPremium," Gems/month"]})]}),t.jsxs("div",{className:"text-sm text-gray-600",children:["Maximum coverage: $",j.maxCoverage.toLocaleString()]}),t.jsxs("div",{className:"text-sm text-gray-600",children:["Deductible: ",j.deductible," gems per claim"]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:"Terms & Conditions"}),t.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[t.jsx("p",{children:" Your subscription will auto-renew monthly"}),t.jsx("p",{children:" Claims must be filed within 7 days of incident"}),t.jsx("p",{children:" Coverage begins 24 hours after subscription activation"}),t.jsx("p",{children:" You can cancel anytime without penalty"}),t.jsx("p",{children:" Payouts are processed within 5-10 business days"})]})]})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:()=>y("select"),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Back"}),t.jsx("button",{onClick:S,disabled:d,className:"flex-1 px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white rounded-lg font-medium transition-all duration-200 disabled:opacity-50",children:d?"Subscribing...":`Subscribe for ${j.monthlyPremium} Gems`})]})]})]})]})})}const NZ=e=>typeof e=="function"?e():e,ec=async(e,r)=>{try{const n=await fetch(e,{credentials:"include"});if(!n.ok)throw new Error(`Request failed with status ${n.status}`);return await n.json()}catch(n){return console.warn(`Falling back for ${e}:`,n instanceof Error?n.message:n),NZ(r)}},_Z=()=>({user:{id:"growth-demo-user",email:"growth@promorang.com",username:"growth_creator",display_name:"Growth Creator",user_type:"creator",points_balance:12500,gems_balance:980,keys_balance:24,gold_collected:12,follower_count:42e3,created_at:new Date(Date.now()-2160*60*60*1e3).toISOString(),updated_at:new Date().toISOString(),avatar_url:"https://api.dicebear.com/7.x/avataaars/svg?seed=growth_hub",user_tier:"premium"}}),pk=e=>[{id:"foundation-growth",name:"Foundation Growth",description:"Balanced staking pool focused on retention and engagement.",lock_period_days:45,base_multiplier:1.4,risk_level:"medium",min_amount:150,max_amount:7500,expected_apr:18.5,icon:Object.keys(e)[0]||"TrendingUp",color:"emerald",features:["Boosted engagement rewards","Weekly treasury reports","Auto-compound"],participant_count:182,total_deposited:96500},{id:"creator-accelerator",name:"Creator Accelerator",description:"High-yield pool backing top creators and launch drops.",lock_period_days:75,base_multiplier:2.1,risk_level:"high",min_amount:500,max_amount:2e4,expected_apr:28,icon:Object.keys(e)[1]||"Rocket",color:"purple",features:["Launch drop priority","Risk-adjusted backfill","Creator insurance"],participant_count:94,total_deposited:184e3},{id:"stability-shield",name:"Stability Shield",description:"Protected staking for conservative growth portfolios.",lock_period_days:30,base_multiplier:1.1,risk_level:"low",min_amount:50,max_amount:5e3,expected_apr:9.5,icon:Object.keys(e)[2]||"Shield",color:"cyan",features:["Principal protection","Daily liquidity window","Auto rollover"],participant_count:312,total_deposited:142500}],xk=()=>[{id:"position-1",channel_id:"foundation-growth",amount:750,multiplier:1.4,lock_until:new Date(Date.now()+600*60*60*1e3).toISOString(),earned_so_far:86,status:"active"},{id:"position-2",channel_id:"stability-shield",amount:300,multiplier:1.1,lock_until:new Date(Date.now()+288*60*60*1e3).toISOString(),earned_so_far:18,status:"withdrawable"}],gk=()=>[{id:101,creator_id:12,creator_name:"Creator Collective",creator_avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=collective",title:"Creator Success Toolkit",description:"Launch an interactive toolkit that teaches new creators how to monetize within 30 days.",target_amount:5e4,amount_raised:24850,backer_count:186,days_left:18,min_pledge:75,status:"active",featured:!0,rewardTiers:[{amount:75,title:"Supporter",description:"Early access + invite to creator roundtable",estimatedDelivery:"45 days",backerCount:120},{amount:350,title:"Partner",description:"Custom growth audit & promo spotlight",estimatedDelivery:"60 days",backerCount:42}]},{id:102,creator_id:27,creator_name:"Community Capital",creator_avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=community_capital",title:"Growth Hub Community Fund",description:"Back emerging creators through pooled capital and mentorship credits.",target_amount:8e4,amount_raised:61200,backer_count:265,days_left:9,min_pledge:120,status:"active",featured:!1,rewardTiers:[{amount:120,title:"Backer",description:"Badge + quarterly impact report",estimatedDelivery:"30 days",backerCount:188},{amount:600,title:"Angel",description:"Board invite + co-marketing slots",estimatedDelivery:"75 days",backerCount:26}]}],yk=()=>[{id:"policy-1",name:"Social Safeguard",description:"Covers platform bans and sudden algorithm changes for verified creators.",premium_amount:45,coverage_amount:7500,deductible:250,min_followers:1e3,coverage:{platformBan:!0,algorithmChange:!0,contentStrike:!0,monetizationLoss:!0,followerLoss:!1},platforms:["instagram","youtube","tiktok"]},{id:"policy-2",name:"Monetization Guard",description:"Income replacement for monetization suspension and CPM volatility.",premium_amount:65,coverage_amount:12e3,deductible:400,min_followers:5e3,coverage:{platformBan:!1,algorithmChange:!0,contentStrike:!0,monetizationLoss:!0,followerLoss:!0},platforms:["youtube","twitch"]}];function kZ(){const[e,r]=x.useState(null),[n,a]=x.useState(!0),[s,i]=x.useState("overview"),[o,d]=x.useState([]),[u,h]=x.useState([]),[m,p]=x.useState([]),[y,v]=x.useState([]),[j,b]=x.useState(null),[N,S]=x.useState(!1),[C,_]=x.useState(!1),[P,O]=x.useState(!1);x.useEffect(()=>{E()},[]);const E=async()=>{try{const L={TrendingUp:at,Rocket:ya,Star:Ue,Shield:Ar,Diamond:er,Target:Kt},[H,te,se,U,ne]=await Promise.all([ec("/api/users/me",_Z()),ec("/api/growth/channels",{channels:pk(L)}),ec("/api/growth/staking",{positions:xk()}),ec("/api/growth/funding/projects",{projects:gk()}),ec("/api/growth/shield/policies",{policies:yk()})]);r((H==null?void 0:H.user)||H||null);const Y=((te==null?void 0:te.channels)||pk(L)).map((J,ve)=>{const Q=J.icon_key??J.iconKey??J.icon??"Shield",ye=L[Q]||Ar;return{id:J.id??`channel-${ve}`,name:J.name??"Growth Channel",description:J.description??"Ecosystem staking opportunity",lockPeriod:J.lock_period_days??J.lockPeriodDays??J.lockPeriod??30,baseMultiplier:J.base_multiplier??J.baseMultiplier??1.2,riskLevel:J.risk_level??J.riskLevel??"medium",minDeposit:J.min_amount??J.minDeposit??100,maxDeposit:J.max_amount??J.maxDeposit??1e4,totalDeposited:J.total_deposited??J.totalDeposited??0,participantCount:J.participant_count??J.participantCount??0,expectedApr:J.expected_apr??J.expectedApr??J.apy??12,icon:ye,color:J.color||["blue","green","purple"][ve%3],features:J.features||["Daily rewards","Auto-compound"]}});p(Y);const K=((se==null?void 0:se.positions)||xk()).map((J,ve)=>{var Q;return{id:J.id??`position-${ve}`,channelId:J.channel_id??J.channelId??((Q=Y[0])==null?void 0:Q.id)??"channel-1",amount:J.amount??0,multiplier:J.multiplier??1,lockUntil:J.lock_until??J.lockUntil??new Date().toISOString(),earnedSoFar:J.earned_so_far??J.earnedSoFar??0,status:J.status??"active"}});d(K);const ie=((U==null?void 0:U.projects)||gk()).map((J,ve)=>({id:J.id??ve,creatorId:J.creator_id??J.creatorId??0,creatorName:J.creator_name??J.creatorName??"Growth Creator",creatorAvatar:J.creator_avatar??J.creatorAvatar??`https://api.dicebear.com/7.x/avataaars/svg?seed=growth_${ve}`,title:J.title??"Growth initiative",description:J.description??"Help accelerate our platform metrics.",category:J.category??"growth",fundingGoal:J.target_amount??J.fundingGoal??1e4,currentFunding:J.amount_raised??J.currentFunding??2500,backerCount:J.backer_count??J.backerCount??Math.floor(Math.random()*40)+10,daysLeft:J.days_left??J.daysLeft??14,minPledge:J.min_pledge??J.minPledge??50,rewardTiers:J.rewardTiers??[{amount:50,title:"Supporter",description:"Early updates & access",estimatedDelivery:"30 days",backerCount:42},{amount:250,title:"Champion",description:"Private workshop + rewards",estimatedDelivery:"45 days",backerCount:18}],featured:!!J.featured,status:J.status??"active"}));h(ie);const ae=((ne==null?void 0:ne.policies)||yk()).map((J,ve)=>({id:J.id??`shield-${ve}`,name:J.name??"Growth Shield",description:J.description??"Protects against platform volatility.",coverage:J.coverage??{platformBan:!0,algorithmChange:!0,contentStrike:!0,monetizationLoss:!0,followerLoss:!1},monthlyPremium:J.premium_amount??J.monthlyPremium??49,maxCoverage:J.coverage_amount??J.maxCoverage??5e3,deductible:J.deductible??250,platforms:J.platforms??["instagram","youtube"],minFollowers:J.min_followers??J.minFollowers??1e3}));v(ae)}catch(L){console.error("Failed to fetch growth hub data:",L)}finally{a(!1)}},T=[{id:"stable",name:"Stable Growth",description:"Low-risk staking with steady returns. Perfect for conservative investors.",lockPeriod:30,baseMultiplier:1.2,riskLevel:"low",minDeposit:100,maxDeposit:1e4,totalDeposited:125e3,participantCount:234,expectedApr:12.5,icon:Ar,color:"green",features:["Principal protection","Daily rewards","Auto-compound","Early withdrawal (penalty)"]},{id:"growth",name:"Growth Accelerator",description:"Medium-risk channel focused on platform growth metrics and user acquisition.",lockPeriod:90,baseMultiplier:1.8,riskLevel:"medium",minDeposit:250,maxDeposit:25e3,totalDeposited:89e3,participantCount:156,expectedApr:28.7,icon:at,color:"blue",features:["Growth bonuses","Platform rewards","Referral multipliers","Quarterly bonuses"]},{id:"venture",name:"Venture Pool",description:"High-risk, high-reward pool investing in emerging creators and technologies.",lockPeriod:180,baseMultiplier:3.2,riskLevel:"high",minDeposit:500,maxDeposit:5e4,totalDeposited:67e3,participantCount:89,expectedApr:45.8,icon:ya,color:"purple",features:["Creator equity","Tech innovation rewards","Exclusive opportunities","Governance rights"]},{id:"creator",name:"Creator Fund",description:"Support emerging creators while earning from their success.",lockPeriod:60,baseMultiplier:2.1,riskLevel:"medium",minDeposit:200,maxDeposit:15e3,totalDeposited:45e3,participantCount:78,expectedApr:32.1,icon:Ue,color:"orange",features:["Creator revenue share","Content access","Meet & greet events","Portfolio tracking"]}],$=[{id:"basic",name:"Basic Shield",coverage:{platformBan:!1,algorithmChange:!0,contentStrike:!0,monetizationLoss:!1,followerLoss:!1},monthlyPremium:29,maxCoverage:1e3,deductible:50,platforms:["Instagram","TikTok"],minFollowers:1e3},{id:"pro",name:"Pro Shield",coverage:{platformBan:!0,algorithmChange:!0,contentStrike:!0,monetizationLoss:!0,followerLoss:!1},monthlyPremium:79,maxCoverage:5e3,deductible:100,platforms:["Instagram","TikTok","YouTube","Twitter"],minFollowers:5e3},{id:"enterprise",name:"Enterprise Shield",coverage:{platformBan:!0,algorithmChange:!0,contentStrike:!0,monetizationLoss:!0,followerLoss:!0},monthlyPremium:199,maxCoverage:25e3,deductible:250,platforms:["Instagram","TikTok","YouTube","Twitter","LinkedIn","Twitch"],minFollowers:25e3}],z=Array.from({length:30},(H,te)=>{const se=new Date;return se.setDate(se.getDate()-(29-te)),{date:se.toISOString().split("T")[0],totalStaked:Math.floor(Math.random()*5e4)+3e5,activeProjects:Math.floor(Math.random()*10)+25,fundingVolume:Math.floor(Math.random()*25e3)+75e3,premiumsCollected:Math.floor(Math.random()*5e3)+15e3,rewardsDistributed:Math.floor(Math.random()*2e4)+5e4}}),I=m.length>0?m:T,F=I.reduce((L,H)=>L+H.totalDeposited,0),M=I.reduce((L,H)=>L+H.participantCount,0),B=I.length?I.reduce((L,H)=>L+H.expectedApr,0)/I.length:0,G=L=>{switch(L){case"low":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"high":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},ee=L=>{const H={green:"from-green-500 to-emerald-600",blue:"from-blue-500 to-cyan-600",purple:"from-purple-500 to-pink-600",orange:"from-orange-500 to-red-600"};return H[L]||H.blue};return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full"})}):t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-cyan-600 rounded-2xl p-8 text-white",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Growth Hub"}),t.jsx("p",{className:"text-purple-100 text-lg",children:"Amplify your earnings through staking, funding, and protection"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-purple-200",children:"Your Portfolio Value"}),t.jsxs("div",{className:"text-3xl font-bold",children:[o.reduce((L,H)=>L+H.amount+H.earnedSoFar,0).toFixed(0)," Gems"]})]})]})}),t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Overview",icon:Nl},{id:"channels",label:"Growth Channels",icon:at},{id:"funding",label:"Creator Funding",icon:ya},{id:"shield",label:"Social Shield",icon:Ar},{id:"economy",label:"Platform Economy",icon:MA}].map(L=>{const H=L.icon;return t.jsxs("button",{onClick:()=>i(L.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${s===L.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[t.jsx(H,{className:"w-4 h-4"}),t.jsx("span",{children:L.label})]},L.id)})})}),s==="overview"&&t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(Wr,{title:"Active Stakes",value:o.filter(L=>L.status==="active").length.toString(),change:12.5,changeType:"increase",icon:t.jsx($s,{className:"w-5 h-5"}),trend:[]}),t.jsx(Wr,{title:"Total Earnings",value:`${o.reduce((L,H)=>L+H.earnedSoFar,0).toFixed(1)} Gems`,change:8.3,changeType:"increase",icon:t.jsx(er,{className:"w-5 h-5"}),trend:[]}),t.jsx(Wr,{title:"Projects Backed",value:"3",change:50,changeType:"increase",icon:t.jsx(vl,{className:"w-5 h-5"}),trend:[]}),t.jsx(Wr,{title:"Shield Coverage",value:"$5,000",change:0,changeType:"increase",icon:t.jsx(Ar,{className:"w-5 h-5"}),trend:[]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Your Active Positions"}),o.length>0?t.jsx("div",{className:"space-y-4",children:o.map(L=>{const H=I.find(U=>U.id===L.channelId),te=(H==null?void 0:H.icon)||$s,se=Math.ceil((new Date(L.lockUntil).getTime()-new Date().getTime())/(1e3*60*60*24));return t.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg p-4 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${ee((H==null?void 0:H.color)||"blue")} rounded-xl flex items-center justify-center text-white`,children:t.jsx(te,{className:"w-6 h-6"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:H==null?void 0:H.name}),t.jsxs("p",{className:"text-sm text-gray-600",children:[L.amount," Gems staked"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-lg font-bold text-green-600",children:["+",L.earnedSoFar," Gems"]}),t.jsxs("div",{className:"text-sm text-gray-500",children:[se," days left"]})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[t.jsx("span",{children:"Progress"}),t.jsxs("span",{children:[(L.earnedSoFar/(L.amount*(L.multiplier-1))*100).toFixed(1),"%"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-gradient-to-r from-green-400 to-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,L.earnedSoFar/(L.amount*(L.multiplier-1))*100)}%`}})})]})]},L.id)})}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx($s,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Active Positions"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Start growing your gems through our staking channels"}),t.jsx("button",{onClick:()=>i("channels"),className:"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white px-6 py-3 rounded-xl font-medium transition-all duration-200",children:"Explore Growth Channels"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:t.jsx(at,{className:"w-6 h-6 text-green-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Platform Growth"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Last 30 days"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Total Staked"}),t.jsxs("span",{className:"font-semibold",children:[F.toLocaleString()," Gems"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Active Stakers"}),t.jsx("span",{className:"font-semibold",children:M.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Avg APR"}),t.jsxs("span",{className:"font-semibold text-green-600",children:[B.toFixed(1),"%"]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:t.jsx(ya,{className:"w-6 h-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Creator Funding"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Active projects"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Live Projects"}),t.jsx("span",{className:"font-semibold",children:u.length})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Total Funding"}),t.jsxs("span",{className:"font-semibold",children:["$",u.reduce((L,H)=>L+H.currentFunding,0).toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Success Rate"}),t.jsx("span",{className:"font-semibold text-green-600",children:"87%"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:t.jsx(Ar,{className:"w-6 h-6 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Social Shield"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Protection status"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Coverage Level"}),t.jsx("span",{className:"font-semibold",children:"Pro Shield"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Max Coverage"}),t.jsx("span",{className:"font-semibold",children:"$5,000"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Status"}),t.jsx("span",{className:"font-semibold text-green-600",children:"Active"})]})]})]})]})]}),s==="channels"&&t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Growth Channels"}),t.jsx("p",{className:"text-gray-600",children:"Lock your gems for higher multipliers and platform rewards"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-gray-500",children:"Your Available Balance"}),t.jsxs("div",{className:"text-xl font-bold text-blue-600",children:[(e==null?void 0:e.gems_balance)||0," Gems"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.length===0&&t.jsx("div",{className:"col-span-full bg-gray-50 border border-dashed border-gray-200 rounded-lg p-6 text-center text-sm text-gray-500",children:"Growth channels are being configured. Check back soon."}),I.map(L=>{const H=L.icon;return t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden hover:shadow-md transition-all duration-200",children:[t.jsxs("div",{className:`bg-gradient-to-r ${ee(L.color)} p-6 text-white`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(H,{className:"w-6 h-6"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold",children:L.name}),t.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${G(L.riskLevel)} text-gray-800`,children:[L.riskLevel.toUpperCase()," RISK"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-2xl font-bold",children:[L.expectedApr.toFixed(1),"%"]}),t.jsx("div",{className:"text-sm opacity-75",children:"Expected APR"})]})]}),t.jsx("p",{className:"text-white/90",children:L.description})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-500",children:"Lock Period"}),t.jsxs("div",{className:"font-semibold",children:[L.lockPeriod," days"]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-500",children:"Multiplier"}),t.jsxs("div",{className:"font-semibold",children:[L.baseMultiplier,"x"]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-500",children:"Min Deposit"}),t.jsxs("div",{className:"font-semibold",children:[L.minDeposit," Gems"]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-500",children:"Participants"}),t.jsx("div",{className:"font-semibold",children:L.participantCount})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Features"}),t.jsx("div",{className:"space-y-1",children:L.features.map((te,se)=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(et,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"text-sm text-gray-700",children:te})]},se))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Total Deposited"}),t.jsxs("span",{className:"font-semibold",children:[L.totalDeposited.toLocaleString()," Gems"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:t.jsx("div",{className:`bg-gradient-to-r ${ee(L.color)} h-2 rounded-full transition-all duration-300`,style:{width:`${Math.min(100,L.totalDeposited/L.maxDeposit*100)}%`}})})]}),t.jsxs("button",{onClick:()=>{b(L),S(!0)},className:`w-full bg-gradient-to-r ${ee(L.color)} hover:opacity-90 text-white py-3 px-4 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-2`,children:[t.jsx($s,{className:"w-4 h-4"}),t.jsxs("span",{children:["Stake in ",L.name]})]})]})]})]},L.id)})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[t.jsx(Qk,{className:"w-6 h-6 text-blue-600"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Staking Calculator"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (Gems)"}),t.jsx("input",{type:"number",placeholder:"1000",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Channel"}),t.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:I.map(L=>t.jsx("option",{value:L.id,children:L.name},L.id))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Rewards"}),t.jsx("div",{className:"px-3 py-2 bg-green-50 border border-green-200 rounded-lg text-green-800 font-medium",children:"+250 Gems"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Return"}),t.jsx("div",{className:"px-3 py-2 bg-blue-50 border border-blue-200 rounded-lg text-blue-800 font-medium",children:"1,250 Gems"})]})]})]})]}),s==="funding"&&t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Creator Funding"}),t.jsx("p",{className:"text-gray-600",children:"Support innovative projects and earn from their success"})]}),t.jsxs("button",{onClick:()=>_(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white px-6 py-3 rounded-xl font-medium transition-all duration-200 flex items-center space-x-2",children:[t.jsx(Kr,{className:"w-4 h-4"}),t.jsx("span",{children:"Create Project"})]})]}),t.jsx("div",{className:"space-y-6",children:u.filter(L=>L.featured).map(L=>t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Ue,{className:"w-5 h-5 text-yellow-500"}),t.jsx("span",{className:"text-sm font-medium text-yellow-700",children:"Featured Project"})]}),t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:L.title}),t.jsx("p",{className:"text-gray-600 mb-4",children:L.description}),t.jsxs("div",{className:"flex items-center space-x-6",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("img",{src:L.creatorAvatar,alt:L.creatorName,className:"w-8 h-8 rounded-full"}),t.jsx("span",{className:"font-medium text-gray-900",children:L.creatorName})]}),t.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:L.category})]})]}),t.jsxs("div",{className:"text-right ml-6",children:[t.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",L.currentFunding.toLocaleString()]}),t.jsxs("div",{className:"text-sm text-gray-500",children:["of $",L.fundingGoal.toLocaleString()," goal"]})]})]})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-bold text-gray-900",children:L.backerCount}),t.jsx("div",{className:"text-sm text-gray-500",children:"Backers"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-bold text-gray-900",children:L.daysLeft}),t.jsx("div",{className:"text-sm text-gray-500",children:"Days Left"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-lg font-bold text-green-600",children:[(L.currentFunding/L.fundingGoal*100).toFixed(0),"%"]}),t.jsx("div",{className:"text-sm text-gray-500",children:"Funded"})]})]}),t.jsx("button",{onClick:()=>{},className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200",children:"Back This Project"})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:t.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,L.currentFunding/L.fundingGoal*100)}%`}})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:L.rewardTiers.slice(0,3).map((H,te)=>t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[t.jsxs("div",{className:"text-lg font-bold text-gray-900 mb-2",children:["$",H.amount]}),t.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:H.title}),t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:H.description}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"text-gray-500",children:[H.backerCount," backers"]}),t.jsx("span",{className:"text-blue-600",children:H.estimatedDelivery})]})]},te))})]})]},L.id))}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:u.filter(L=>!L.featured).map(L=>t.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden hover:shadow-md transition-all duration-200",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("img",{src:L.creatorAvatar,alt:L.creatorName,className:"w-10 h-10 rounded-full"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:L.creatorName}),t.jsx("span",{className:"text-sm text-gray-500",children:L.category})]})]}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:L.title}),t.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:L.description}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Funding Progress"}),t.jsxs("span",{className:"font-medium",children:["$",L.currentFunding.toLocaleString()," / $",L.fundingGoal.toLocaleString()]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,L.currentFunding/L.fundingGoal*100)}%`}})}),t.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[t.jsxs("span",{children:[L.backerCount," backers"]}),t.jsxs("span",{children:[L.daysLeft," days left"]})]})]}),t.jsx("button",{className:"w-full mt-4 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white py-2 px-4 rounded-lg font-medium transition-all duration-200",children:"View Project"})]})},L.id))})]}),s==="shield"&&t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Social Shield"}),t.jsx("p",{className:"text-gray-600",children:"Protect your social media earnings with comprehensive insurance coverage"})]}),t.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 border border-orange-200 rounded-xl p-6",children:t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx(dr,{className:"w-6 h-6 text-orange-600 mt-1"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:"Why You Need Social Shield"}),t.jsxs("ul",{className:"text-orange-800 space-y-1 text-sm",children:[t.jsx("li",{children:" Platform algorithm changes can reduce your reach by up to 80%"}),t.jsx("li",{children:" Account bans can eliminate months of income overnight"}),t.jsx("li",{children:" Content strikes can impact monetization for weeks"}),t.jsx("li",{children:" Follower loss from platform issues affects future earnings"})]})]})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:$.map(L=>t.jsxs("div",{className:`bg-white rounded-xl border-2 shadow-sm overflow-hidden ${L.id==="pro"?"border-blue-500 ring-2 ring-blue-100":"border-gray-200"}`,children:[L.id==="pro"&&t.jsx("div",{className:"bg-blue-500 text-white text-center py-2 text-sm font-medium",children:"Most Popular"}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:L.name}),t.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:["$",L.monthlyPremium,t.jsx("span",{className:"text-sm font-normal text-gray-500",children:"/month"})]}),t.jsxs("div",{className:"text-sm text-gray-600",children:["Up to $",L.maxCoverage.toLocaleString()," coverage"]})]}),t.jsxs("div",{className:"space-y-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Coverage Includes:"}),t.jsx("ul",{className:"space-y-2",children:Object.entries(L.coverage).map(([H,te])=>t.jsxs("li",{className:"flex items-center space-x-2",children:[te?t.jsx(et,{className:"w-4 h-4 text-green-600"}):t.jsx(et,{className:"w-4 h-4 text-gray-400"}),t.jsx("span",{className:`text-sm ${te?"text-gray-700":"text-gray-400"}`,children:H.replace(/([A-Z])/g," $1").replace(/^./,se=>se.toUpperCase())})]},H))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Platforms:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:L.platforms.map(H=>t.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:H},H))})]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsxs("div",{children:["Deductible: $",L.deductible]}),t.jsxs("div",{children:["Min followers: ",L.minFollowers.toLocaleString()]})]})]}),t.jsxs("button",{onClick:()=>O(!0),className:`w-full py-3 px-4 rounded-lg font-medium transition-all duration-200 ${L.id==="pro"?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-900"}`,children:["Get ",L.name]})]})]},L.id))}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Claims"}),t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(Ar,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),t.jsx("p",{children:"No claims yet - you're well protected!"})]})]})]}),s==="economy"&&t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Platform Economy"}),t.jsx("p",{className:"text-gray-600",children:"How your participation drives the entire Promorang ecosystem"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(Wr,{title:"Total Value Locked",value:`${F.toLocaleString()} Gems`,change:23.4,changeType:"increase",icon:t.jsx($s,{className:"w-5 h-5"}),trend:z.slice(-7).map(L=>({date:L.date,value:L.totalStaked}))}),t.jsx(Wr,{title:"Active Projects",value:u.length.toString(),change:15.2,changeType:"increase",icon:t.jsx(ya,{className:"w-5 h-5"}),trend:z.slice(-7).map(L=>({date:L.date,value:L.activeProjects}))}),t.jsx(Wr,{title:"Funding Volume",value:`$${u.reduce((L,H)=>L+H.currentFunding,0).toLocaleString()}`,change:31.7,changeType:"increase",icon:t.jsx(ft,{className:"w-5 h-5"}),trend:z.slice(-7).map(L=>({date:L.date,value:L.fundingVolume}))}),t.jsx(Wr,{title:"Shield Premiums",value:"$47,000",change:8.9,changeType:"increase",icon:t.jsx(Ar,{className:"w-5 h-5"}),trend:z.slice(-7).map(L=>({date:L.date,value:L.premiumsCollected}))})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Economic Flow"}),t.jsx(Gv,{data:z.map(L=>({date:L.date,value:L.rewardsDistributed,secondary:L.fundingVolume})),height:300,primaryKey:"value",secondaryKey:"secondary",primaryColor:"#10b981",secondaryColor:"#3b82f6"}),t.jsxs("div",{className:"flex justify-center space-x-6 mt-4 text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),t.jsx("span",{className:"text-gray-600",children:"Rewards Distributed"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),t.jsx("span",{className:"text-gray-600",children:"Funding Volume"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Value Distribution"}),t.jsx(Vv,{data:[{name:"Staking Rewards",value:45,color:"#10b981"},{name:"Creator Funding",value:30,color:"#3b82f6"},{name:"Shield Reserves",value:15,color:"#8b5cf6"},{name:"Platform Development",value:10,color:"#f59e0b"}],height:300})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"How Growth Hub Stimulates the Economy"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx(at,{className:"w-4 h-4 text-green-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:"Staking Creates Liquidity"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"When you stake gems, they're used to fund platform operations, creator rewards, and new feature development."})]})]}),t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx(ya,{className:"w-4 h-4 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:"Funding Drives Innovation"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Creator funding projects introduce new content types and engagement methods, expanding earning opportunities."})]})]}),t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx(Ar,{className:"w-4 h-4 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:"Shield Stabilizes Earnings"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Social Shield premiums create a safety net that encourages more users to participate confidently."})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx(Dr,{className:"w-4 h-4 text-orange-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:"Network Effects"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"More participants mean better rates, higher liquidity, and stronger protection for everyone."})]})]}),t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx(Kt,{className:"w-4 h-4 text-red-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:"Value Alignment"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Your success directly correlates with platform growth, creating aligned incentives for long-term value creation."})]})]}),t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx(bT,{className:"w-4 h-4 text-yellow-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:"Continuous Innovation"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Funds from Growth Hub activities are reinvested into new earning opportunities and platform improvements."})]})]})]})]})]})]}),t.jsx(bZ,{isOpen:N,onClose:()=>S(!1),channel:j,user:e,onSuccess:E}),t.jsx(jZ,{isOpen:C,onClose:()=>_(!1),user:e,onSuccess:E}),t.jsx(wZ,{isOpen:P,onClose:()=>O(!1),user:e,onSuccess:E,policies:y})]})}function SZ({user:e,isOpen:r,onClose:n,onSuccess:a}){const[s,i]=x.useState(""),[o,d]=x.useState(!1),[u,h]=x.useState(null),[m,p]=x.useState(!1);if(!r||!e)return null;const y=async()=>{if(!s.trim()){h("Please enter a referral code");return}d(!0),h(null);try{const N=await fetch("/api/users/process-referral",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({referral_code:s.toUpperCase()})});if(N.ok){const S=await N.json();a(),n(),j(S.referred_reward)}else{const S=await N.json();h(S.error||"Failed to process referral")}}catch(N){console.error("Referral processing failed:",N),h("Network error occurred")}finally{d(!1)}},v=async()=>{const N=`https://promorang.com?ref=${e.referral_code}`;await navigator.clipboard.writeText(N),p(!0),setTimeout(()=>p(!1),2e3)},j=N=>{const S=document.createElement("div");S.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-4 rounded-xl shadow-lg z-50 animate-pulse",S.innerHTML=`
      <div class="flex items-center space-x-3">
        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
          <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        <div>
          <div class="font-bold">Referral Success!</div>
          <div class="text-sm">You earned ${N} points!</div>
        </div>
      </div>
    `,document.body.appendChild(S),setTimeout(()=>{document.body.contains(S)&&document.body.removeChild(S)},4e3)},b=`https://promorang.com?ref=${e.referral_code}`;return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(zt,{className:"w-6 h-6 text-purple-600"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Referral Program"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Invite friends and earn together"})]})]}),t.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 border border-purple-200 rounded-2xl p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-4",children:"Your Referral Code"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("code",{className:"flex-1 bg-white px-4 py-3 rounded-xl border font-mono text-lg text-center",children:e.referral_code}),t.jsx("button",{onClick:v,className:"p-3 bg-purple-500 hover:bg-purple-600 text-white rounded-xl transition-colors",children:m?t.jsx(_a,{className:"w-5 h-5"}):t.jsx(Vl,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-sm text-purple-700 text-center",children:"Share this code or the link below with friends"}),t.jsx("div",{className:"bg-white rounded-xl p-3 border",children:t.jsx("p",{className:"text-sm text-gray-600 break-all",children:b})})]})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-6",children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-4",children:"How It Works"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:t.jsx(zt,{className:"w-6 h-6 text-blue-600"})}),t.jsx("h5",{className:"font-medium text-blue-900 mb-1",children:"Share"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Send your code to friends"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:t.jsx(gi,{className:"w-6 h-6 text-blue-600"})}),t.jsx("h5",{className:"font-medium text-blue-900 mb-1",children:"They Join"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Friend signs up with your code"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:t.jsx(gi,{className:"w-6 h-6 text-blue-600"})}),t.jsx("h5",{className:"font-medium text-blue-900 mb-1",children:"Both Earn"}),t.jsx("p",{className:"text-sm text-blue-700",children:"You get 500, they get 250 points"})]})]})]}),!e.referred_by&&t.jsxs("div",{className:"border border-gray-200 rounded-2xl p-6",children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Have a Referral Code?"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("input",{type:"text",value:s,onChange:N=>i(N.target.value.toUpperCase()),placeholder:"Enter referral code",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent font-mono",maxLength:6}),u&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3",children:t.jsx("p",{className:"text-sm text-red-700",children:u})}),t.jsx("button",{onClick:y,disabled:!s.trim()||o,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-3 rounded-xl font-medium transition-all duration-200 flex items-center justify-center space-x-2",children:o?t.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}):t.jsxs(t.Fragment,{children:[t.jsx(gi,{className:"w-5 h-5"}),t.jsx("span",{children:"Apply Code & Earn 250 Points"})]})})]})]}),e.referred_by&&t.jsx("div",{className:"bg-green-50 border border-green-200 rounded-2xl p-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(_a,{className:"w-6 h-6 text-green-600"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-green-900",children:"Referral Applied"}),t.jsxs("p",{className:"text-sm text-green-700",children:["You joined using code: ",e.referred_by]})]})]})}),t.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 border border-yellow-200 rounded-2xl p-6",children:[t.jsx("h4",{className:"font-medium text-yellow-900 mb-3",children:"Earning Potential"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:"500"}),t.jsx("div",{className:"text-sm text-yellow-600",children:"Points per referral"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:""}),t.jsx("div",{className:"text-sm text-yellow-600",children:"No limit on referrals"})]})]})]})]})]})})}function CZ({user:e,applicationId:r,dropTitle:n,isOpen:a,onClose:s,onSuccess:i}){const[o,d]=x.useState("url"),[u,h]=x.useState(""),[m,p]=x.useState(""),[y,v]=x.useState(!1),[j,b]=x.useState(null);if(!a||!e)return null;const N=async()=>{if(!u.trim()){b("Please provide your submission data");return}if(o==="url"&&!C(u)){b("Please provide a valid URL");return}v(!0),b(null);try{const P=await fetch(`/api/drop-applications/${r}/submit`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({submission_type:o,submission_data:u,submission_notes:m})});if(P.ok)i(),s(),S(),_();else{const O=await P.json();b(O.error||"Submission failed")}}catch(P){console.error("Submission failed:",P),b("Network error occurred")}finally{v(!1)}},S=()=>{h(""),p(""),d("url"),b(null)},C=P=>{try{return new URL(P),!0}catch{return!1}},_=()=>{const P=document.createElement("div");P.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-4 rounded-xl shadow-lg z-50 animate-pulse",P.innerHTML=`
      <div class="flex items-center space-x-3">
        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
        </svg>
        <div>
          <div class="font-bold">Submission Sent!</div>
          <div class="text-sm">Your work has been submitted for review</div>
        </div>
      </div>
    `,document.body.appendChild(P),setTimeout(()=>{document.body.contains(P)&&document.body.removeChild(P)},4e3)};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(bi,{className:"w-6 h-6 text-purple-600"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Submit Your Work"}),t.jsx("p",{className:"text-sm text-gray-600",children:n})]})]}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Submission Type"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("button",{onClick:()=>d("url"),className:`p-4 rounded-xl border-2 transition-colors ${o==="url"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:[t.jsx(_0,{className:"w-6 h-6 mx-auto mb-2 text-purple-600"}),t.jsx("div",{className:"text-sm font-medium",children:"URL Link"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Submit a link to your work"})]}),t.jsxs("button",{onClick:()=>d("text"),className:`p-4 rounded-xl border-2 transition-colors ${o==="text"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:[t.jsx(Ls,{className:"w-6 h-6 mx-auto mb-2 text-purple-600"}),t.jsx("div",{className:"text-sm font-medium",children:"Text Content"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Submit text directly"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:o==="url"?"URL Link *":"Text Content *"}),o==="url"?t.jsx("input",{type:"url",value:u,onChange:P=>h(P.target.value),placeholder:"https://example.com/your-work",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"}):t.jsx("textarea",{value:u,onChange:P=>h(P.target.value),placeholder:"Enter your text content here...",rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes (Optional)"}),t.jsx("textarea",{value:m,onChange:P=>p(P.target.value),placeholder:"Any additional context or notes about your submission...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Submission Guidelines"}),t.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[t.jsx("li",{children:" Ensure your submission meets all drop requirements"}),t.jsx("li",{children:" Double-check URLs are accessible and working"}),t.jsx("li",{children:" Include any relevant context in the additional notes"}),t.jsx("li",{children:" Your submission will be reviewed within 24-48 hours"})]})]}),j&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 flex items-start space-x-3",children:[t.jsx(dr,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),t.jsx("p",{className:"text-sm text-red-700",children:j})]}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:s,className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:N,disabled:!u.trim()||y,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-3 rounded-xl font-medium transition-all duration-200 flex items-center justify-center space-x-2",children:y?t.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}):t.jsxs(t.Fragment,{children:[t.jsx(C0,{className:"w-5 h-5"}),t.jsx("span",{children:"Submit Work"})]})})]})]})]})})}function PZ({application:e,onSubmissionSuccess:r}){var h,m,p;const[n,a]=x.useState(!1),s=((h=e.drop_title)==null?void 0:h.toLowerCase().includes("[demo]"))||((m=e.drop_title)==null?void 0:m.toLowerCase().includes("demo"))||((p=e.application_message)==null?void 0:p.toLowerCase().includes("demo")),i=y=>{switch(y){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"completed":return"bg-purple-100 text-purple-800";case"rejected":return"bg-red-100 text-red-800";case"submitted":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},o=y=>{switch(y){case"completed":return t.jsx(et,{className:"w-4 h-4"});case"pending":case"submitted":return t.jsx(Kn,{className:"w-4 h-4"});case"rejected":return t.jsx(dr,{className:"w-4 h-4"});default:return null}},d=e.status==="approved",u=e.status==="approved";return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:`rounded-2xl p-6 border ${s?"bg-orange-50 border-orange-200":"bg-gray-50 border-gray-100"}`,children:[s&&t.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-amber-500 text-white rounded-lg px-3 py-2 mb-4 text-center",children:t.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm font-medium",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"DEMO APPLICATION - No real gems earned"}),t.jsx("span",{children:""})]})}),t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:e.drop_title}),e.advertiser_brand_name&&t.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium",children:e.advertiser_brand_name})]}),t.jsx("p",{className:"text-gray-600 mb-3",children:e.application_message}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ${i(e.status)}`,children:[o(e.status),t.jsx("span",{children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),s&&t.jsx("span",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded-full text-xs font-medium",children:"DEMO"}),e.review_score&&t.jsxs("span",{className:"text-sm text-gray-600",children:["Score: ",e.review_score,"/10"]}),u&&t.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full animate-pulse",children:"Submission Required"})]})]}),t.jsxs("div",{className:"text-right ml-6",children:[t.jsx("div",{className:"text-sm text-gray-500 mb-1",children:s?"Demo Earned":"Earned"}),t.jsxs("div",{className:`font-semibold ${s?"text-orange-600":"text-purple-600"}`,children:[e.gems_earned," gems ",s&&"(Demo)"]}),t.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Cost: ",e.key_cost," keys"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[t.jsx(la,{className:"w-4 h-4"}),t.jsxs("span",{className:"text-sm",children:["Applied ",new Date(e.applied_at).toLocaleDateString()]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[e.completed_at&&t.jsxs("div",{className:"text-green-600 font-medium text-sm",children:["Completed ",new Date(e.completed_at).toLocaleDateString()]}),d&&t.jsxs("button",{onClick:()=>a(!0),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center space-x-2 text-white ${s?"bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600":"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600"}`,children:[t.jsx(bi,{className:"w-4 h-4"}),t.jsx("span",{children:s?"Demo Submit":"Submit Work"})]})]})]})]}),t.jsx(CZ,{user:null,applicationId:e.id,dropTitle:e.drop_title,isOpen:n,onClose:()=>a(!1),onSuccess:()=>{r(),a(!1)}})]})}function EZ({user:e,isOpen:r,onClose:n,onSuccess:a}){const[s,i]=x.useState(1),[o,d]=x.useState(!1),[u,h]=x.useState(null),[m,p]=x.useState({full_name:"",instagram_username:"",phone_number:"",email:"",follower_count:""}),[y,v]=x.useState(null);if(!r||!e)return null;const j=async()=>{if(!m.full_name||!m.instagram_username||!m.phone_number||!m.email||!m.follower_count){h("Please fill in all required fields");return}if(parseInt(m.follower_count)<500){h("Minimum 500 followers required for influence rewards");return}d(!0),h(null);try{const C=await fetch("/api/users/register-influence-rewards",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({full_name:m.full_name,platform:"instagram",platform_username:m.instagram_username,phone_number:m.phone_number,email:m.email,follower_count:parseInt(m.follower_count)})});if(C.ok){const _=await C.json();v(_),i(2)}else{const _=await C.json();h(_.error||"Registration failed")}}catch(C){console.error("Influence rewards registration failed:",C),h("Network error occurred")}finally{d(!1)}},b=async()=>{d(!0),h(null);try{const C=await fetch("/api/users/claim-influence-points",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})});if(C.ok)await C.json(),a(),n(),i(1),p({full_name:"",instagram_username:"",phone_number:"",email:"",follower_count:""});else{const _=await C.json();h(_.error||"Failed to claim points")}}catch(C){console.error("Point claiming failed:",C),h("Network error occurred")}finally{d(!1)}},N=C=>Math.floor(C*.01),S=()=>{const C=new Date;return`${C.getFullYear()}-${String(C.getMonth()+1).padStart(2,"0")}`};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(at,{className:"w-6 h-6 text-blue-600"}),t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Influence Rewards"})]}),t.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),s===1&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(zt,{className:"w-8 h-8 text-white"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Earn Points from Your Influence"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Get dynamic monthly points based on your real social media follower count"})]}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"How It Works"}),t.jsxs("div",{className:"space-y-2 text-sm text-blue-700",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(et,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{children:"Your follower count  0.01 = monthly points"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(et,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{children:"Points refresh monthly - no rollover"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(et,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{children:"Must re-verify each month to maintain points"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(et,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{children:"Minimum 500 followers required"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Enter Your Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.jsx(Hr,{className:"w-4 h-4 inline mr-1"}),"Full Name *"]}),t.jsx("input",{type:"text",value:m.full_name,onChange:C=>p({...m,full_name:C.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.jsx(kl,{className:"w-4 h-4 inline mr-1"}),"Instagram Username *"]}),t.jsx("input",{type:"text",value:m.instagram_username,onChange:C=>p({...m,instagram_username:C.target.value}),placeholder:"@yourusername",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.jsx(iS,{className:"w-4 h-4 inline mr-1"}),"Phone Number *"]}),t.jsx("input",{type:"tel",value:m.phone_number,onChange:C=>p({...m,phone_number:C.target.value}),placeholder:"+1 (555) 123-4567",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.jsx(Oc,{className:"w-4 h-4 inline mr-1"}),"Email Address *"]}),t.jsx("input",{type:"email",value:m.email,onChange:C=>p({...m,email:C.target.value}),placeholder:"your@email.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.jsx(zt,{className:"w-4 h-4 inline mr-1"}),"Current Follower Count *"]}),t.jsx("input",{type:"number",min:"500",value:m.follower_count,onChange:C=>p({...m,follower_count:C.target.value}),placeholder:"e.g. 5000",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),m.follower_count&&t.jsx("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-green-700",children:"Monthly Points:"}),t.jsxs("span",{className:"font-bold text-green-800",children:[N(parseInt(m.follower_count)||0)," points"]})]})})]})]}),u&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(dr,{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0"}),t.jsx("p",{className:"text-sm text-red-700",children:u})]})}),t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(dr,{className:"w-4 h-4 text-yellow-600 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"text-sm text-yellow-800",children:[t.jsx("p",{className:"font-medium mb-1",children:"Important Notes:"}),t.jsxs("ul",{className:"space-y-1",children:[t.jsx("li",{children:" Your information will be verified through our Many Chat integration"}),t.jsx("li",{children:" Points are awarded monthly and do not carry over"}),t.jsx("li",{children:" You must re-register each month to maintain your rewards"}),t.jsx("li",{children:" Minimum 500 followers required"})]})]})]})}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:j,disabled:o,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg font-medium transition-all duration-200",children:o?"Processing...":"Register for Rewards"})]})]}),s===2&&y&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(et,{className:"w-8 h-8 text-green-600"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Registration Successful!"}),t.jsxs("p",{className:"text-gray-600 text-sm",children:["Your influence rewards have been calculated for ",S()]})]}),t.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-700",children:"Platform:"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(kl,{className:"w-4 h-4 text-pink-600"}),t.jsx("span",{className:"font-medium",children:"Instagram"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-700",children:"Username:"}),t.jsxs("span",{className:"font-medium",children:["@",y.platform_username]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-700",children:"Followers:"}),t.jsx("span",{className:"font-bold text-blue-600",children:y.follower_count.toLocaleString()})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-700",children:"Monthly Points:"}),t.jsxs("span",{className:"font-bold text-green-600",children:[y.points_calculated," points"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-700",children:"Current Month:"}),t.jsx("span",{className:"font-medium",children:y.current_month})]})]})}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(la,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"text-sm text-blue-800",children:[t.jsx("p",{className:"font-medium mb-1",children:"Next Steps:"}),t.jsxs("p",{children:["Your registration has been submitted for verification through our Many Chat system. You'll be able to claim your ",y.points_calculated," points once verification is complete."]})]})]})}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:b,disabled:o,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200",children:o?"Checking...":"Claim Points (if verified)"}),t.jsx("button",{onClick:()=>{i(1),v(null),h(null)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Register Different Account"})]}),u&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(dr,{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0"}),t.jsx("p",{className:"text-sm text-red-700",children:u})]})})]})]})})}function OZ({isOpen:e,onClose:r,user:n,onSuccess:a}){const[s,i]=x.useState({}),[o,d]=x.useState({instagram:"",twitter:"",linkedin:"",facebook:"",youtube:"",tiktok:""}),[u,h]=x.useState(!1),[m,p]=x.useState(!1),[y,v]=x.useState(!1),[j,b]=x.useState({});x.useEffect(()=>{if(e&&n&&(i({username:n.username||"",display_name:n.display_name||"",bio:n.bio||"",avatar_url:n.avatar_url||"",banner_url:n.banner_url||"",website_url:n.website_url||"",social_links:n.social_links||""}),n.social_links))try{const E=JSON.parse(n.social_links);d({instagram:E.instagram||"",twitter:E.twitter||"",linkedin:E.linkedin||"",facebook:E.facebook||"",youtube:E.youtube||"",tiktok:E.tiktok||""})}catch(E){console.error("Failed to parse social links:",E)}},[e,n]);const N=async(E,T)=>{T==="avatar"?p(!0):v(!0);try{const $=new FormData;$.append("image",E);const D=await fetch("/api/images/upload",{method:"POST",credentials:"include",body:$});if(!D.ok)throw new Error("Upload failed");const z=await D.json();i(T==="avatar"?I=>({...I,avatar_url:z.url}):I=>({...I,banner_url:z.url}))}catch($){console.error("Image upload failed:",$),b(D=>({...D,[T]:"Failed to upload image. Please try again."}))}finally{T==="avatar"?p(!1):v(!1)}},S=(E,T)=>{var D;const $=(D=E.target.files)==null?void 0:D[0];if($){if(!$.type.startsWith("image/")){b(z=>({...z,[T]:"Please select an image file."}));return}if($.size>5*1024*1024){b(z=>({...z,[T]:"Image size must be less than 5MB."}));return}b(z=>{const I={...z};return delete I[T],I}),N($,T)}},C=()=>{const E={};if(s.username&&s.username.length<3&&(E.username="Username must be at least 3 characters long"),s.username&&!/^[a-zA-Z0-9_]+$/.test(s.username)&&(E.username="Username can only contain letters, numbers, and underscores"),s.bio&&s.bio.length>500&&(E.bio="Bio must be less than 500 characters"),s.website_url&&s.website_url)try{new URL(s.website_url)}catch{E.website_url="Please enter a valid URL"}return b(E),Object.keys(E).length===0},_=async()=>{if(C()){h(!0);try{const E=Object.entries(o).filter(([z,I])=>I.trim()!=="").reduce((z,[I,F])=>({...z,[I]:F}),{}),T={...s,social_links:Object.keys(E).length>0?JSON.stringify(E):""},$=await fetch("/api/users/profile",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(T)});if(!$.ok){const z=await $.json();throw new Error(z.error||"Failed to update profile")}const D=await $.json();a(D),r()}catch(E){console.error("Failed to update profile:",E),b({general:E instanceof Error?E.message:"Failed to update profile"})}finally{h(!1)}}},P=E=>{switch(E){case"instagram":return t.jsx(kl,{className:"w-4 h-4"});case"twitter":return t.jsx(Bg,{className:"w-4 h-4"});case"linkedin":return t.jsx(sS,{className:"w-4 h-4"});case"facebook":return t.jsx(tS,{className:"w-4 h-4"});case"youtube":return t.jsx(dS,{className:"w-4 h-4"});case"tiktok":return t.jsx("div",{className:"w-4 h-4 bg-black rounded text-white text-xs flex items-center justify-center font-bold",children:"T"});default:return t.jsx(N0,{className:"w-4 h-4"})}},O=E=>{switch(E){case"instagram":return"@username";case"twitter":return"@username";case"linkedin":return"username or profile URL";case"facebook":return"username or profile URL";case"youtube":return"channel name or URL";case"tiktok":return"@username";default:return"username"}};return e?t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-xl flex items-center justify-center",children:t.jsx(Hr,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Profile"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Update your profile information and appearance"})]})]}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:t.jsx(Ze,{className:"w-5 h-5 text-gray-500"})})]}),t.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-140px)]",children:t.jsxs("div",{className:"p-6 space-y-8",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Profile Images"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Banner Image"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"w-full h-48 bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 rounded-xl overflow-hidden",children:[s.banner_url?t.jsx("img",{src:s.banner_url,alt:"Banner preview",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full bg-gradient-to-r from-orange-500 via-red-500 to-pink-500"}),t.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:t.jsxs("label",{className:"cursor-pointer bg-white/90 backdrop-blur-sm hover:bg-white text-gray-700 px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[y?t.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-gray-600 border-t-transparent rounded-full"}):t.jsx(dc,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:y?"Uploading...":"Change Banner"}),t.jsx("input",{type:"file",accept:"image/*",onChange:E=>S(E,"banner"),className:"hidden",disabled:y})]})})]}),j.banner&&t.jsxs("p",{className:"text-red-600 text-sm mt-2 flex items-center space-x-1",children:[t.jsx(dr,{className:"w-4 h-4"}),t.jsx("span",{children:j.banner})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Profile Picture"}),t.jsxs("div",{className:"flex items-center space-x-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:s.avatar_url||"/default-avatar.png",alt:"Profile picture",className:"w-24 h-24 rounded-2xl object-cover border-4 border-white shadow-lg"}),t.jsxs("label",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-orange-500 hover:bg-orange-600 text-white rounded-xl flex items-center justify-center cursor-pointer transition-colors",children:[m?t.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}):t.jsx(dc,{className:"w-4 h-4"}),t.jsx("input",{type:"file",accept:"image/*",onChange:E=>S(E,"avatar"),className:"hidden",disabled:m})]})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Upload a new profile picture. Use a square image for best results."}),t.jsx("p",{className:"text-xs text-gray-500",children:"Supported formats: JPG, PNG, GIF (max 5MB)"})]})]}),j.avatar&&t.jsxs("p",{className:"text-red-600 text-sm mt-2 flex items-center space-x-1",children:[t.jsx(dr,{className:"w-4 h-4"}),t.jsx("span",{children:j.avatar})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),t.jsx("input",{type:"text",value:s.username||"",onChange:E=>i({...s,username:E.target.value}),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors ${j.username?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter username"}),j.username&&t.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center space-x-1",children:[t.jsx(dr,{className:"w-4 h-4"}),t.jsx("span",{children:j.username})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name"}),t.jsx("input",{type:"text",value:s.display_name||"",onChange:E=>i({...s,display_name:E.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors",placeholder:"Enter display name"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),t.jsx("textarea",{value:s.bio||"",onChange:E=>i({...s,bio:E.target.value}),placeholder:"Tell us about yourself...",rows:4,className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors resize-none ${j.bio?"border-red-300 bg-red-50":"border-gray-300"}`}),t.jsxs("div",{className:"flex justify-between items-center mt-2",children:[j.bio&&t.jsxs("p",{className:"text-red-600 text-sm flex items-center space-x-1",children:[t.jsx(dr,{className:"w-4 h-4"}),t.jsx("span",{children:j.bio})]}),t.jsxs("p",{className:"text-xs text-gray-500 ml-auto",children:[(s.bio||"").length,"/500 characters"]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Website"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website URL"}),t.jsxs("div",{className:"relative",children:[t.jsx(N0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"url",value:s.website_url||"",onChange:E=>i({...s,website_url:E.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors ${j.website_url?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"https://yourwebsite.com"})]}),j.website_url&&t.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center space-x-1",children:[t.jsx(dr,{className:"w-4 h-4"}),t.jsx("span",{children:j.website_url})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Social Media"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(o).map(([E,T])=>t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 capitalize",children:E}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:P(E)}),t.jsx("input",{type:"text",value:T,onChange:$=>d({...o,[E]:$.target.value}),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors",placeholder:O(E)})]})]},E))})]}),j.general&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(dr,{className:"w-5 h-5 text-red-600"}),t.jsx("p",{className:"text-red-700",children:j.general})]})})]})}),t.jsxs("div",{className:"flex items-center justify-end space-x-4 p-6 border-t border-gray-100 bg-gray-50",children:[t.jsx("button",{onClick:r,className:"px-6 py-3 text-gray-700 hover:text-gray-900 transition-colors",disabled:u,children:"Cancel"}),t.jsx("button",{onClick:_,disabled:u||m||y,className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 disabled:from-gray-400 disabled:to-gray-500 text-white px-8 py-3 rounded-xl font-medium transition-all duration-200 flex items-center space-x-2",children:u?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),t.jsx("span",{children:"Saving..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(_a,{className:"w-4 h-4"}),t.jsx("span",{children:"Save Changes"})]})})]})]})}):null}function AZ({isOpen:e,onClose:r,holding:n,sellerId:a,onSuccess:s}){const[i,o]=x.useState(()=>n?Math.max(1,Math.ceil(n.owned_shares*.25)):1),[d,u]=x.useState(()=>(n==null?void 0:n.current_price)||0),[h,m]=x.useState(""),[p,y]=x.useState(!1),[v,j]=x.useState(null);if(x.useEffect(()=>{n&&e&&(o(Math.min(Math.max(1,Math.ceil(n.owned_shares*.25)),n.owned_shares)),u(n.current_price),m(""),j(null))},[n,e]),!e||!n)return null;const b=()=>{o(Math.min(Math.max(1,Math.ceil(n.owned_shares*.25)),n.owned_shares)),u(n.current_price),m(""),j(null)},N=()=>{p||(b(),r())},S=async C=>{if(C.preventDefault(),!!n){if(i<=0||d<=0){j("Enter a valid quantity and offer price.");return}y(!0),j(null);try{await qD({content_id:n.content_id,seller_id:a,quantity:i,bid_price:d,message:h}),s==null||s(),N()}catch(_){j(_ instanceof Error?_.message:"Failed to submit offer")}finally{y(!1)}}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Make an Offer"}),t.jsx("p",{className:"text-sm text-gray-500",children:n.content_title})]}),t.jsx("button",{onClick:N,className:"text-gray-400 hover:text-gray-600","aria-label":"Close make offer modal",children:""})]}),t.jsxs("form",{onSubmit:S,className:"p-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Quantity"}),t.jsx("input",{type:"number",min:1,value:i,onChange:C=>o(Number(C.target.value)),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),t.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Seller holds ",n.owned_shares," shares"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Offer Price (per share)"}),t.jsx("input",{type:"number",min:.01,step:.01,value:d,onChange:C=>u(Number(C.target.value)),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),t.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Current price ",n.current_price.toFixed(2)]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Message (optional)"}),t.jsx("textarea",{rows:3,value:h,onChange:C=>m(C.target.value),placeholder:"Share context or terms for your offer",className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-4 text-sm text-gray-600",children:t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Total offer value"}),t.jsxs("span",{className:"font-medium text-gray-900",children:["$",(i*d).toFixed(2)]})]})}),v&&t.jsx("p",{className:"text-sm text-red-600",children:v}),t.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[t.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-800",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg shadow-sm hover:bg-blue-700 disabled:opacity-60",children:p?"Submitting":"Submit Offer"})]})]})]})})}function TZ({isPublicProfile:e=!1,useUserId:r=!1}){var We,Ot;const{user:n}=Gr(),{username:a,id:s}=Kl(),i=ar(),[o,d]=x.useState(null),[u,h]=x.useState(!0),[m,p]=x.useState(!1),[y,v]=x.useState("overview"),[j,b]=x.useState(!1),[N,S]=x.useState([]),[C,_]=x.useState([]),[P,O]=x.useState([]),[E,T]=x.useState([]),[$,D]=x.useState([]),[z,I]=x.useState(null),[F,M]=x.useState(!1),[B,G]=x.useState(!1),[ee,L]=x.useState(!1),[H,te]=x.useState(!1),[se,U]=x.useState(!1),[ne,Y]=x.useState(!1),[K,ie]=x.useState(!1),[ae,J]=x.useState(null),[ve,Q]=x.useState(!1),[ye,Ae]=x.useState(null),[le,He]=x.useState(!1),[$e,ct]=x.useState(null);x.useEffect(()=>{if(e&&(a||s)?Je():ue(),new URLSearchParams(window.location.search).get("openInfluenceRewards")==="true"){Y(!0);const ot=window.location.pathname;window.history.replaceState({},"",ot)}},[e,a]),x.useEffect(()=>{},[y,e,o]),x.useEffect(()=>{if(!o)return;(async()=>{const ot=await PS(String(o.id));T(ot.filter(yr=>yr.visibility!=="private"));const ht=await VD(String(o.id));D(ht)})()},[o==null?void 0:o.id]);const Je=async()=>{if(!(!a&&!s))try{let he;if(r&&s)he=`/api/users/public/id/${s}`;else if(a)he=`/api/users/public/${a}`;else throw new Error("No user identifier provided");const ot=await fetch(he);if(!ot.ok)throw new Error("User not found");const ht=await ot.json();d(ht.user),S(ht.content||[]),_(ht.drops||[]),I(ht.leaderboard_position)}catch(he){console.error("Failed to fetch public profile:",he)}finally{h(!1)}},Qe=he=>{J(he),ie(!0)},sr=he=>{Ae(he),Q(!0)},Fe=he=>{ct(he),He(!0)},Ge=he=>{ie(!1),J(null),S(ot=>ot.map(ht=>ht.id===he.id?he:ht))},jt=async()=>{if(ye)try{const he=await fetch(`/api/content/${ye.id}`,{method:"DELETE",credentials:"include"});if(he.ok)S(ot=>ot.filter(ht=>ht.id!==ye.id)),Q(!1),Ae(null);else{const ot=await he.json();alert(ot.error||"Failed to delete content")}}catch(he){console.error("Error deleting content:",he),alert("Failed to delete content")}},ue=async()=>{if(n&&!e){console.log("Using authenticated user data directly:",n),d(n),h(!1);return}try{const he=localStorage.getItem("authToken"),ot={"Content-Type":"application/json"};he&&(ot.Authorization=`Bearer ${he}`);const ht=await fetch("/api/auth/profile",{headers:ot,credentials:"include"});if(ht.ok){const yr=await ht.json();yr.success&&d(yr.user)}}catch(he){console.error("Failed to fetch user profile:",he)}finally{h(!1)}},me=async()=>{if(o){if(n&&!n.id){console.log("Using mock applications data for demo account"),O([]),L(!1);return}if(!o.id){O([]),L(!1);return}L(!0);try{const he=await fetch("/api/users/drop-applications",{credentials:"include"});if(he.ok){const ot=await he.json();O(ot)}else O([])}catch(he){console.error("Failed to fetch user applications:",he),O([])}finally{L(!1)}}},Te=he=>{d(he),b(!1)},rt=async()=>{o!=null&&o.referral_code&&(await navigator.clipboard.writeText(o.referral_code),p(!0),setTimeout(()=>p(!1),2e3))},pn=he=>{const ht=(o==null?void 0:o.level)||1,yr=1e3*ht,Xt=1e3*(ht+1),Tn=(he-yr)/(Xt-yr)*100;return Math.max(0,Math.min(100,Tn))},Lr=he=>{switch(he.toLowerCase()){case"youtube":return t.jsx(cS,{className:"w-4 h-4"});case"instagram":case"twitter":case"linkedin":default:return t.jsx(nS,{className:"w-4 h-4"})}},xn=he=>{switch(he){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},yt=he=>{switch(he){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"completed":return"bg-purple-100 text-purple-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};if(u)return t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full"})});if(!o&&!u&&!e&&!n)return t.jsx("div",{className:"max-w-2xl mx-auto text-center py-12 px-6",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[t.jsx(Hr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"User Not Found"}),t.jsx("p",{className:"text-gray-600 mb-6",children:e?"The user you're looking for doesn't exist or may have been removed.":"There was an issue loading your profile. Please try refreshing the page."}),t.jsx(Pt,{to:"/",className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-6 py-3 rounded-xl font-medium transition-all duration-200",children:"Go to Home"})]})});const sn=e?[{id:"overview",label:"Overview",icon:Hr},{id:"content",label:"Content",icon:Ls,count:N.length},...(o==null?void 0:o.user_type)==="advertiser"?[{id:"drops",label:"Drops Created",icon:mr,count:C.length}]:[],{id:"achievements",label:"Achievements",icon:ba}]:[{id:"overview",label:"Overview",icon:Hr},{id:"content",label:"Content",icon:Ls,count:N.length},{id:"drops",label:"Drops Created",icon:mr,count:C.length},{id:"applications",label:"Applications",icon:Hw,count:P.length},{id:"achievements",label:"Achievements",icon:ba}];return t.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e?`${(o==null?void 0:o.display_name)||(o==null?void 0:o.username)||"User"}'s Profile`:"Profile"}),t.jsx("p",{className:"text-gray-600",children:e?"View public profile and activity":"Manage your account and view your activity"})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"relative h-48 bg-gradient-to-r from-orange-500 via-red-500 to-pink-500",children:o!=null&&o.banner_url?t.jsxs("div",{className:"relative w-full h-full",children:[t.jsx("img",{src:o.banner_url,alt:"Profile banner",className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500/20 via-red-500/20 to-pink-500/20"})]}):t.jsx("div",{className:"w-full h-full bg-gradient-to-r from-orange-500 via-red-500 to-pink-500"})}),t.jsxs("div",{className:"px-6 lg:px-8 pb-8",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end lg:justify-between -mt-16 space-y-6 lg:space-y-0",children:[t.jsx("div",{className:"relative z-10",children:t.jsx("div",{className:"relative",children:t.jsx("img",{src:(o==null?void 0:o.avatar_url)||((We=n==null?void 0:n.google_user_data)==null?void 0:We.picture)||"/default-avatar.png",alt:"Profile",className:"w-32 h-32 rounded-2xl border-4 border-white shadow-xl object-cover bg-white"})})}),!e&&t.jsxs("button",{onClick:()=>b(!0),className:"lg:mb-4 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-6 py-3 rounded-xl font-medium flex items-center space-x-2 transition-all duration-200 shadow-lg hover:shadow-xl self-start lg:self-auto",children:[t.jsx(S0,{className:"w-4 h-4"}),t.jsx("span",{children:"Edit Profile"})]})]}),t.jsxs("div",{className:"mt-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:(o==null?void 0:o.display_name)||(e?o==null?void 0:o.username:(Ot=n==null?void 0:n.google_user_data)==null?void 0:Ot.name)||"User"}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-gray-600",children:[t.jsxs("span",{children:["@",(o==null?void 0:o.username)||"username-not-set"]}),t.jsx("span",{children:""}),t.jsxs("span",{children:["Level ",(o==null?void 0:o.level)||1]}),(o==null?void 0:o.user_type)==="advertiser"&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Advertiser"})]})]}),z&&t.jsxs("div",{className:"flex flex-wrap items-center gap-6 mt-3",children:[t.jsx(qt,{content:"Daily leaderboard rank",compact:!0,children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ur,{className:"w-4 h-4 text-yellow-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Daily Rank"}),t.jsxs("span",{className:"font-semibold text-yellow-700",children:["#",z.daily_rank||"N/A"]})]})}),t.jsx(qt,{content:"Activity score",compact:!0,children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Score:"}),t.jsx("span",{className:"font-semibold text-gray-900",children:(z.composite_score||0).toFixed(1)})]})})]})]}),(o.website_url||o.social_links)&&t.jsxs("div",{className:"flex flex-wrap items-center gap-4 p-4 bg-gray-50 rounded-xl",children:[o.website_url&&t.jsxs("a",{href:o.website_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 transition-colors font-medium",children:[t.jsx(oa,{className:"w-4 h-4"}),t.jsx("span",{children:"Website"})]}),o.social_links&&(()=>{try{const he=JSON.parse(o.social_links);return Object.entries(he).map(([ot,ht])=>t.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[t.jsxs("span",{className:"text-sm font-medium capitalize",children:[ot,":"]}),t.jsx("span",{className:"text-sm",children:ht})]},ot))}catch{return null}})()]}),t.jsx("div",{className:"p-4 bg-gray-50 rounded-xl",children:t.jsx("p",{className:"text-gray-700 leading-relaxed",children:(o==null?void 0:o.bio)||(e?"No bio available.":"No bio yet. Click edit to add one!")})})]})]})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"border-b border-gray-100",children:t.jsx("nav",{className:"flex overflow-x-auto px-6 lg:px-8",children:sn.map(he=>{const ot=he.icon;return t.jsxs("button",{onClick:()=>v(he.id),className:`py-4 px-1 mr-8 border-b-2 font-medium text-sm flex items-center space-x-2 whitespace-nowrap transition-colors ${y===he.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[t.jsx(ot,{className:"w-4 h-4"}),t.jsx("span",{children:he.label}),he.count!==void 0&&t.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs font-medium",children:he.count})]},he.id)})})}),t.jsxs("div",{className:"p-6 lg:p-8",children:[y==="overview"&&t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[!e&&t.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700",children:"Total Earnings"}),t.jsxs("p",{className:"text-2xl font-bold text-green-900",children:["$",((o==null?void 0:o.total_earnings_usd)||0).toFixed(2)]})]}),t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:t.jsx(ft,{className:"w-6 h-6 text-green-600"})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl p-6 border border-blue-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-blue-700",children:"XP Points"}),t.jsx("p",{className:"text-2xl font-bold text-blue-900",children:((o==null?void 0:o.xp_points)||0).toLocaleString()})]}),t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:t.jsx(Ue,{className:"w-6 h-6 text-blue-600"})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 border border-purple-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Followers"}),t.jsx("p",{className:"text-2xl font-bold text-purple-900",children:((o==null?void 0:o.follower_count)||0).toLocaleString()})]}),t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:t.jsx(zt,{className:"w-6 h-6 text-purple-600"})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl p-6 border border-yellow-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700",children:"Level"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:(o==null?void 0:o.level)||1})]}),t.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center",children:t.jsx(ba,{className:"w-6 h-6 text-yellow-600"})})]})})]}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 rounded-2xl p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Level Progress"}),t.jsxs("span",{className:"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium",children:["Level ",(o==null?void 0:o.level)||1]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[t.jsxs("span",{children:[((o==null?void 0:o.xp_points)||0).toLocaleString()," XP"]}),t.jsxs("span",{children:[((((o==null?void 0:o.level)||1)+1)*1e3).toLocaleString()," XP"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:t.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 h-3 rounded-full transition-all duration-300",style:{width:`${pn((o==null?void 0:o.xp_points)||0)}%`}})}),t.jsx("p",{className:"text-sm text-gray-600",children:e?`${(o==null?void 0:o.points_streak_days)||0} day activity streak`:`${(((o==null?void 0:o.level)||1)+1)*1e3-((o==null?void 0:o.xp_points)||0)} XP until next level`})]})]}),!e&&t.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border border-blue-100 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:t.jsx(at,{className:"w-6 h-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Influence Rewards"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Earn monthly points based on your follower count"})]})]}),t.jsx("button",{onClick:()=>Y(!0),className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white px-6 py-3 rounded-xl font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:"Get Rewards"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-xl p-4",children:[t.jsx("div",{className:"text-sm text-blue-700",children:"Formula"}),t.jsx("div",{className:"font-bold text-blue-900",children:"Followers  0.01"})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4",children:[t.jsx("div",{className:"text-sm text-blue-700",children:"Reset"}),t.jsx("div",{className:"font-bold text-blue-900",children:"Monthly"})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4",children:[t.jsx("div",{className:"text-sm text-blue-700",children:"Min Followers"}),t.jsx("div",{className:"font-bold text-blue-900",children:"1,000"})]})]})]}),!e&&t.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 border border-purple-100 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Referral Program"}),t.jsx("button",{onClick:()=>U(!0),className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-xl text-sm font-medium transition-colors",children:"Manage Referrals"})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-purple-900",children:"Your Referral Code"}),t.jsx("p",{className:"text-sm text-purple-700",children:"Share this code and earn when friends join!"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("code",{className:"bg-white px-4 py-2 rounded-xl border font-mono text-lg",children:o.referral_code}),t.jsx(qt,{content:m?"Copied!":"Copy code",compact:!0,children:t.jsx("button",{onClick:rt,className:"p-2 bg-purple-500 hover:bg-purple-600 text-white rounded-xl transition-colors",children:m?t.jsx(_a,{className:"w-4 h-4"}):t.jsx(Vl,{className:"w-4 h-4"})})})]})]})]}),t.jsx(DZ,{holdings:E,isOwner:!e||n&&o&&n.id===o.id,onOffer:Fe,onView:he=>i(`/portfolio/holdings/${he.content_id}`)}),t.jsx($Z,{predictions:$,onView:he=>i(`/predictions/${he.id}`)})]}),y==="content"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Your Content"}),t.jsx(Pt,{to:"/create",className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200",children:"Create New Content"})]}),F?t.jsx("div",{className:"flex items-center justify-center h-32",children:t.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-orange-500 border-t-transparent rounded-full"})}):N.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(he=>t.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 border border-gray-100 hover:shadow-md transition-all duration-200",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[Lr(he.platform),t.jsx("span",{className:"text-sm font-medium text-gray-600 capitalize",children:he.platform})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[!e&&t.jsxs(t.Fragment,{children:[t.jsx(qt,{content:"Edit content",compact:!0,children:t.jsx("button",{onClick:()=>Qe(he),className:"p-1 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded transition-colors",children:t.jsx(S0,{className:"w-4 h-4"})})}),t.jsx(qt,{content:"Delete content",compact:!0,children:t.jsx("button",{onClick:()=>sr(he),className:"p-1 text-red-600 hover:text-red-700 hover:bg-red-50 rounded transition-colors",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]}),t.jsx(Pt,{to:`/content/${he.id}`,className:"text-orange-600 hover:text-orange-700 transition-colors",children:t.jsx(oa,{className:"w-4 h-4"})})]})]}),t.jsx("h4",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:he.title}),t.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:he.description}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"text-gray-500",children:[he.available_shares||0,"/",he.total_shares||0," shares"]}),t.jsxs("span",{className:"font-semibold text-green-600",children:["$",(he.share_price||0).toFixed(2),"/share"]})]})]},he.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Ls,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Content Yet"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Start creating content to build your portfolio"}),t.jsx(Pt,{to:"/create",className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-6 py-3 rounded-xl font-medium transition-all duration-200",children:"Create Your First Content"})]})]}),y==="drops"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Drops You Created"}),!e&&o&&o.user_type==="advertiser"&&t.jsx(Pt,{to:"/earn?create=proof",className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200",children:"Create New Drop"})]}),B?t.jsx("div",{className:"flex items-center justify-center h-32",children:t.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-orange-500 border-t-transparent rounded-full"})}):C.length>0?t.jsx("div",{className:"space-y-4",children:C.map(he=>t.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:he.title}),t.jsx("p",{className:"text-gray-600 mb-3",children:he.description}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${xn(he.difficulty)}`,children:he.difficulty.charAt(0).toUpperCase()+he.difficulty.slice(1)}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${yt(he.status)}`,children:he.status.charAt(0).toUpperCase()+he.status.slice(1)}),t.jsxs("span",{className:"text-sm text-gray-500",children:[he.current_participants||0," participants"]})]})]}),t.jsxs("div",{className:"text-right ml-6",children:[t.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Reward"}),t.jsxs("div",{className:"font-semibold text-purple-600",children:[he.gem_reward_base||0," gems"]}),t.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Cost: ",he.key_cost||0," keys"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[t.jsx(la,{className:"w-4 h-4"}),t.jsxs("span",{children:["Created ",new Date(he.created_at).toLocaleDateString()]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-gray-500",children:"Pool:"}),t.jsxs("span",{className:"font-medium text-purple-600",children:[he.gem_pool_remaining||0,"/",he.gem_pool_total||0," gems"]})]})]})]},he.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(mr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Drops Created"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first drop to start earning"}),t.jsx(Pt,{to:"/earn?create=proof",className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-xl font-medium transition-all duration-200",children:"Create Your First Drop"})]})]}),y==="applications"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Your Applications"}),ee?t.jsx("div",{className:"flex items-center justify-center h-32",children:t.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-orange-500 border-t-transparent rounded-full"})}):P.length>0?t.jsx("div",{className:"space-y-4",children:P.map(he=>t.jsx(PZ,{application:he,onSubmissionSuccess:()=>{me()}},he.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Hw,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Applications Yet"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Apply to drops to start earning rewards"}),t.jsx(Pt,{to:"/earn",className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-6 py-3 rounded-xl font-medium transition-all duration-200",children:"Browse Opportunities"})]})]}),y==="achievements"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Achievements"}),t.jsx("button",{onClick:()=>te(!0),className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200",children:"View All"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl p-6 border border-yellow-100 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(ur,{className:"w-8 h-8 text-yellow-600"})}),t.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:"First Steps"}),t.jsx("p",{className:"text-sm text-yellow-700",children:"Complete your first drop application"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl p-6 border border-blue-100 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Ue,{className:"w-8 h-8 text-blue-600"})}),t.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Content Creator"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Share your first piece of content"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 border border-purple-100 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(ba,{className:"w-8 h-8 text-purple-600"})}),t.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"Influencer"}),t.jsx("p",{className:"text-sm text-purple-700",children:"Reach 100 followers"})]})]})]})]})]}),t.jsx(OZ,{isOpen:j,onClose:()=>b(!1),user:o,onSuccess:Te}),t.jsx(Wg,{isOpen:H,onClose:()=>te(!1),user:o}),t.jsx(SZ,{isOpen:se,onClose:()=>U(!1),user:o,onSuccess:()=>{ue()}}),t.jsx(EZ,{isOpen:ne,onClose:()=>Y(!1),user:o,onSuccess:()=>{ue()}}),t.jsx(AZ,{isOpen:le,onClose:()=>He(!1),holding:$e,sellerId:o!=null&&o.id?String(o.id):void 0}),ae&&t.jsx(Hg,{isOpen:K,onClose:()=>{ie(!1),J(null)},onSuccess:Ge,content:ae}),t.jsx(Wm,{isOpen:ve,onClose:()=>{Q(!1),Ae(null)},onConfirm:jt,title:"Delete Content",message:`Are you sure you want to delete "${ye==null?void 0:ye.title}"? This action cannot be undone and will remove all associated data.`,confirmText:"Delete",cancelText:"Cancel",type:"danger"})]})}const MZ=TZ;function DZ({holdings:e,isOwner:r,onOffer:n,onView:a}){const s=e.filter(i=>i.visibility!=="private");return s.length?t.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Public Holdings"}),t.jsx("p",{className:"text-sm text-gray-500",children:r?"Only holdings you set to public are visible to others.":"Shared portfolio highlights from this creator."})]}),t.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-slate-100 text-slate-700",children:[s.length," assets"]})]}),t.jsx("div",{className:"space-y-3",children:s.map(i=>t.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("img",{src:i.content_thumbnail,alt:i.content_title,className:"w-12 h-12 rounded-lg object-cover"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:i.content_title}),t.jsxs("p",{className:"text-sm text-gray-500",children:[i.owned_shares," shares  Avg $",i.avg_cost.toFixed(2),"  Now $",i.current_price.toFixed(2)]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>a(i),className:"px-3 py-1.5 text-sm font-medium border border-gray-200 text-gray-600 rounded-lg hover:bg-gray-100",children:"View"}),!r&&t.jsx("button",{onClick:()=>n(i),className:"px-3 py-1.5 text-sm font-medium border border-blue-200 text-blue-600 rounded-lg hover:bg-blue-50",children:"Make offer"})]})]},i.content_id))})]}):null}function $Z({predictions:e,onView:r}){return e.length?t.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Prediction History"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Public predictions and outcomes shared by this creator."})]}),t.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-emerald-100 text-emerald-700",children:[e.length," entries"]})]}),t.jsx("div",{className:"space-y-3",children:e.map(n=>t.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-xl p-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:n.content_title}),t.jsxs("p",{className:"text-sm text-gray-500",children:[n.platform.toUpperCase(),"  ",new Date(n.created_at).toLocaleDateString()]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-gray-600 capitalize",children:n.prediction_side}),t.jsx("p",{className:"text-sm text-gray-500",children:n.status==="settled"&&n.result?`Result: ${n.result}`:`Status: ${n.status}`})]}),t.jsx("button",{onClick:()=>r(n),className:"px-3 py-1.5 text-sm font-medium border border-gray-200 text-gray-600 rounded-lg hover:bg-gray-100",children:"View"})]})]},n.id))})]}):null}function IZ({isOpen:e,onClose:r,contentId:n,contentTitle:a,isOwner:s,currentRevenue:i,sharePrice:o,totalShares:d,onSuccess:u}){const[h,m]=x.useState(0),[p,y]=x.useState("USD"),[v,j]=x.useState(!1),[b,N]=x.useState("tip");if(!e)return null;const S=async P=>{if(P.preventDefault(),!(h<=0)){j(!0);try{const O=b==="fund"?`/api/content/${n}/fund`:`/api/content/${n}/tip`,E=await fetch(O,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({amount:h,currency_type:p})});if(E.ok){const T=await E.json();u(T.new_revenue,T.new_share_price),r(),m(0)}else{const T=await E.json();alert(T.error||`Failed to ${b} content`)}}catch(O){console.error(`Failed to ${b} content:`,O),alert(`Failed to ${b} content. Please try again.`)}finally{j(!1)}}},C=()=>{const P=p==="Points"?h/1e3:h;return d>0?(i+P)/d:0},_=P=>{switch(P){case"USD":return t.jsx(ft,{className:"w-4 h-4"});case"Gems":return t.jsx(w0,{className:"w-4 h-4"});case"Points":return t.jsx(mr,{className:"w-4 h-4"});default:return t.jsx(ft,{className:"w-4 h-4"})}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:s?"Fund or Receive Tips":"Tip Creator"}),t.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[t.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:a}),t.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[t.jsxs("div",{children:["Current Revenue: $",i.toFixed(2)]}),t.jsxs("div",{children:["Share Price: $",o.toFixed(4)]}),t.jsxs("div",{children:["Total Shares: ",d]})]})]}),s&&t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx("button",{type:"button",onClick:()=>N("fund"),className:`p-3 border rounded-lg text-sm font-medium transition-all ${b==="fund"?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-300 hover:border-gray-400"}`,children:"Fund Content"}),t.jsx("button",{type:"button",onClick:()=>N("tip"),className:`p-3 border rounded-lg text-sm font-medium transition-all ${b==="tip"?"border-green-500 bg-green-50 text-green-700":"border-gray-300 hover:border-gray-400"}`,children:"Enable Tips"})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:b==="fund"?"Add your own money to increase content value":"Allow others to tip and increase content value"})]}),t.jsxs("form",{onSubmit:S,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:["USD","Gems","Points"].map(P=>t.jsxs("button",{type:"button",onClick:()=>y(P),className:`p-3 border rounded-lg text-sm font-medium transition-all flex items-center justify-center space-x-2 ${p===P?"border-orange-500 bg-orange-50 text-orange-700":"border-gray-300 hover:border-gray-400"}`,children:[_(P),t.jsx("span",{children:P})]},P))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount ",p==="Points"&&"(1000 Points = $1 USD)"]}),t.jsx("input",{type:"number",min:"0",step:p==="Points"?"100":"0.01",value:h||"",onChange:P=>m(Number(P.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:`Enter ${p.toLowerCase()} amount`,required:!0})]}),h>0&&t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Preview Impact"}),t.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[t.jsxs("div",{children:["New Revenue: $",(i+(p==="Points"?h/1e3:h)).toFixed(2)]}),t.jsxs("div",{children:["New Share Price: $",C().toFixed(4)]}),t.jsxs("div",{className:"text-xs text-blue-600 mt-2",children:["Share price increase: $",(C()-o).toFixed(4)]})]})]}),t.jsx("button",{type:"submit",disabled:v||h<=0,className:"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white py-3 rounded-lg font-medium transition-all duration-200 disabled:opacity-50",children:v?"Processing...":`${b==="fund"?"Fund":"Tip"} Content`})]})]})]})})}function LZ({contentId:e,currentUser:r,isOwner:n=!1}){var E,T;const[a,s]=x.useState([]),[i,o]=x.useState(""),[d,u]=x.useState(null),[h,m]=x.useState(""),[p,y]=x.useState(!1),[v,j]=x.useState(!1);x.useEffect(()=>{b()},[e]);const b=async()=>{if(e){y(!0);try{const $=await fetch(`/api/content/${e}/comments`,{credentials:"include"});if($.ok){const D=await $.json();s(D)}}catch($){console.error("Failed to fetch comments:",$)}finally{y(!1)}}},N=async($,D)=>{if(!(!$.trim()||!r)){j(!0);try{if((await fetch(`/api/content/${e}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({comment_text:$.trim(),parent_comment_id:D||null})})).ok)await b(),D?(m(""),u(null)):o("");else throw new Error("Failed to post comment")}catch(z){console.error("Error posting comment:",z),alert("Failed to post comment. Please try again.")}finally{j(!1)}}},S=async $=>{if(r)try{(await fetch(`/api/content/comments/${$}/like`,{method:"POST",credentials:"include"})).ok&&await b()}catch(D){console.error("Error liking comment:",D)}},C=async $=>{if(!(!r||!window.confirm("Are you sure you want to delete this comment?")))try{(await fetch(`/api/content/comments/${$}`,{method:"DELETE",credentials:"include"})).ok&&await b()}catch(D){console.error("Error deleting comment:",D),alert("Failed to delete comment.")}},_=async $=>{if(n)try{(await fetch(`/api/content/comments/${$}/pin`,{method:"POST",credentials:"include"})).ok&&await b()}catch(D){console.error("Error pinning comment:",D)}},P=$=>{const D=new Date($),I=new Date().getTime()-D.getTime(),F=Math.floor(I/(1e3*60)),M=Math.floor(I/(1e3*60*60)),B=Math.floor(I/(1e3*60*60*24));return F<60?`${F}m ago`:M<24?`${M}h ago`:B<7?`${B}d ago`:D.toLocaleDateString()},O=({comment:$,isReply:D=!1})=>{const z=(r==null?void 0:r.id)===$.user_id;return t.jsxs("div",{className:`${D?"ml-8 border-l-2 border-gray-200 pl-4":""} mb-4`,children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Pl,{username:$.user_username,displayName:$.user_display_name,avatarUrl:$.user_avatar,size:"sm"}),t.jsx("span",{className:"text-xs text-gray-500",children:P($.created_at)}),$.is_pinned&&t.jsxs("div",{className:"flex items-center space-x-1 bg-orange-100 text-orange-700 px-2 py-1 rounded-full text-xs",children:[t.jsx(Kw,{className:"w-3 h-3"}),t.jsx("span",{children:"Pinned"})]})]}),(z||n)&&t.jsxs("div",{className:"relative group",children:[t.jsx("button",{className:"text-gray-400 hover:text-gray-600 p-1",children:t.jsx(eS,{className:"w-4 h-4"})}),t.jsxs("div",{className:"absolute right-0 top-full bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-32 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all",children:[n&&!$.is_pinned&&t.jsxs("button",{onClick:()=>_($.id),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center space-x-2",children:[t.jsx(Kw,{className:"w-3 h-3"}),t.jsx("span",{children:"Pin"})]}),(z||n)&&t.jsxs("button",{onClick:()=>C($.id),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 text-red-600 flex items-center space-x-2",children:[t.jsx(Cl,{className:"w-3 h-3"}),t.jsx("span",{children:"Delete"})]})]})]})]}),t.jsx("p",{className:"text-gray-800 mb-3 whitespace-pre-wrap",children:$.comment_text}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("button",{onClick:()=>S($.id),disabled:!r,className:`flex items-center space-x-1 text-sm transition-colors ${$.has_liked?"text-red-500":"text-gray-500 hover:text-red-500"} ${r?"":"cursor-not-allowed opacity-50"}`,children:[t.jsx(vl,{className:`w-4 h-4 ${$.has_liked?"fill-current":""}`}),t.jsx("span",{children:$.likes_count||0})]}),!D&&r&&t.jsxs("button",{onClick:()=>u(d===$.id?null:$.id),className:"flex items-center space-x-1 text-sm text-gray-500 hover:text-blue-500 transition-colors",children:[t.jsx(QT,{className:"w-4 h-4"}),t.jsx("span",{children:"Reply"})]})]}),d===$.id&&t.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("textarea",{value:h,onChange:I=>m(I.target.value),placeholder:"Write a reply...",className:"flex-1 p-2 border border-gray-300 rounded-lg text-sm resize-none",rows:2}),t.jsxs("div",{className:"flex flex-col space-y-1",children:[t.jsx("button",{onClick:()=>N(h,$.id),disabled:!h.trim()||v,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:t.jsx(C0,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>{u(null),m("")},className:"text-gray-500 hover:text-gray-700 p-2",children:""})]})]})})]}),$.replies&&$.replies.length>0&&t.jsx("div",{className:"mt-3",children:$.replies.map(I=>t.jsx(O,{comment:I,isReply:!0},I.id))})]})};return p?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center space-x-3 pb-4 border-b border-gray-200",children:[t.jsx(yi,{className:"w-5 h-5 text-blue-600"}),t.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Comments (",a.length,")"]})]}),r?t.jsx("div",{className:"space-y-3",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-medium",children:((E=r.display_name)==null?void 0:E[0])||((T=r.username)==null?void 0:T[0])||"U"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("textarea",{value:i,onChange:$=>o($.target.value),placeholder:"Share your thoughts...",className:"w-full p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3}),t.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Be respectful and constructive in your comments"}),t.jsxs("button",{onClick:()=>N(i),disabled:!i.trim()||v,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-colors",children:[v?t.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}):t.jsx(C0,{className:"w-4 h-4"}),t.jsx("span",{children:"Post Comment"})]})]})]})]})}):t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 text-center",children:[t.jsx("p",{className:"text-gray-600 mb-2",children:"Sign in to join the conversation"}),t.jsx("button",{onClick:()=>window.location.href="/auth/google",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Sign In to Comment"})]}),t.jsx("div",{className:"space-y-4",children:a.length>0?a.map($=>t.jsx(O,{comment:$},$.id)):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(yi,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),t.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No comments yet"}),t.jsx("p",{className:"text-gray-600",children:r?"Be the first to share your thoughts!":"Sign in to start the conversation."})]})})]})}function _P({isOpen:e,onClose:r,onSponsor:n,contentTitle:a,userGems:s}){const[i,o]=x.useState(null);if(!e)return null;const d=[{id:"quick",name:"Quick Boost",gems:25,multiplier:1.5,duration:1,description:"1.5x visibility for 1 hour",icon:t.jsx(mr,{className:"w-5 h-5"}),color:"from-blue-500 to-cyan-500"},{id:"popular",name:"Popular Boost",gems:50,multiplier:2,duration:6,description:"2x visibility for 6 hours",icon:t.jsx(Ue,{className:"w-5 h-5"}),color:"from-purple-500 to-pink-500"},{id:"daily",name:"Daily Featured",gems:100,multiplier:3,duration:24,description:"3x visibility for 24 hours",icon:t.jsx(Sn,{className:"w-5 h-5"}),color:"from-orange-500 to-red-500"},{id:"premium",name:"Premium Spotlight",gems:200,multiplier:4,duration:72,description:"4x visibility for 3 days",icon:t.jsx($u,{className:"w-5 h-5"}),color:"from-red-500 to-pink-500"},{id:"viral",name:"Viral Campaign",gems:500,multiplier:6,duration:168,description:"6x visibility for 1 week",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),color:"from-yellow-500 to-orange-500"}],u=m=>{if(m<24)return`${m} hour${m!==1?"s":""}`;if(m<168){const p=Math.floor(m/24);return`${p} day${p!==1?"s":""}`}else{const p=Math.floor(m/168);return`${p} week${p!==1?"s":""}`}},h=()=>{i&&n(i.gems,i.multiplier,i.duration)};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Sponsor Content"}),t.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:a}),t.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Sponsoring content boosts its visibility in user feeds and gives it priority placement. Multiple sponsors can boost the same content, increasing its reach exponentially. Your brand will be credited as a sponsor to all users who see this content."})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Your Gem Balance"}),t.jsxs("span",{className:"text-lg font-semibold text-purple-600",children:[s," gems"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:t.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,s/500*100)}%`}})})]}),t.jsxs("div",{className:"space-y-4 mb-8",children:[t.jsx("h4",{className:"font-semibold text-gray-900 text-lg mb-4",children:"Choose Your Sponsorship Package"}),t.jsx("div",{className:"grid gap-4",children:d.map(m=>t.jsx("div",{className:`border rounded-xl p-4 cursor-pointer transition-all duration-200 ${(i==null?void 0:i.id)===m.id?"border-purple-500 bg-purple-50 shadow-lg scale-[1.02]":"border-gray-200 hover:border-gray-300 hover:shadow-md"} ${m.gems>s?"opacity-50 cursor-not-allowed":""}`,onClick:()=>{m.gems<=s&&o(m)},children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${m.color} text-white`,children:m.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("h5",{className:"font-semibold text-gray-900",children:m.name}),m.id==="popular"&&t.jsx("span",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded-full text-xs font-medium",children:"Most Popular"}),m.id==="viral"&&t.jsx("span",{className:"bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full text-xs font-medium",children:"Best Value"})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:m.description}),t.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(Kn,{className:"w-3 h-3"}),t.jsxs("span",{children:["Duration: ",u(m.duration)]})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(mr,{className:"w-3 h-3"}),t.jsxs("span",{children:[m.multiplier,"x visibility boost"]})]})]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:m.gems}),t.jsx("p",{className:"text-xs text-gray-500",children:"gems"}),m.gems>s&&t.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Insufficient gems"})]})]})},m.id))})]}),i&&t.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-4 mb-6",children:[t.jsx("h5",{className:"font-semibold text-purple-900 mb-2",children:"Sponsorship Preview"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-purple-700",children:"Package:"}),t.jsx("span",{className:"font-medium text-purple-900 ml-2",children:i.name})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-purple-700",children:"Duration:"}),t.jsx("span",{className:"font-medium text-purple-900 ml-2",children:u(i.duration)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-purple-700",children:"Visibility Boost:"}),t.jsxs("span",{className:"font-medium text-purple-900 ml-2",children:[i.multiplier,"x"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-purple-700",children:"Cost:"}),t.jsxs("span",{className:"font-medium text-purple-900 ml-2",children:[i.gems," gems"]})]})]}),t.jsx("div",{className:"mt-3 pt-3 border-t border-purple-200",children:t.jsx("p",{className:"text-xs text-purple-700",children:"Your brand name will be displayed as a sponsor on this content. Multiple sponsors can boost the same content for increased visibility."})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:h,disabled:!i||(i==null?void 0:i.gems)>s,className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-6 py-4 rounded-xl font-semibold transition-all duration-200 shadow-lg",children:i?`Sponsor for ${i.gems} gems`:"Select a sponsorship package"}),t.jsx("button",{onClick:r,className:"w-full border border-gray-300 hover:border-gray-400 text-gray-700 px-6 py-3 rounded-xl font-medium transition-all duration-200",children:"Cancel"})]}),t.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:" Sponsorship Benefits"}),t.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[t.jsx("li",{children:" Your brand appears on sponsored content"}),t.jsx("li",{children:" Content gets priority placement in feeds"}),t.jsx("li",{children:" Multiple sponsors increase total visibility boost"}),t.jsx("li",{children:" Reach engaged users interested in the content topic"}),t.jsx("li",{children:" Analytics provided on sponsorship performance"})]})]})]})})})}const vk=["https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&w=1400&q=80&sat=-10","https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&w=1400&q=80&sat=-10","https://images.unsplash.com/photo-1522542550221-31fd19575a2d?auto=format&fit=crop&w=1400&q=80&sat=-10","https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?auto=format&fit=crop&w=1400&q=80&sat=-10","https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=1400&q=80&sat=-10"],kP=e=>{const r=Math.abs(Number(e)||0)%vk.length;return`${vk[r]}&sig=${e??r}`},RZ=e=>({id:e,creator_id:1e3+e,creator_username:"demo_creator",creator_name:"Demo Creator",creator_avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=demo_content",platform:"instagram",platform_url:"https://instagram.com/promorang",title:"Demo Growth Content Spotlight",description:"Experience a highlight clip from our creator community. Monitor engagement, share prices, and revenue performance in real time.",media_url:kP(e),total_shares:3500,available_shares:1240,engagement_shares_total:3200,engagement_shares_remaining:880,share_price:12.5,current_revenue:8450,performance_metrics:JSON.stringify({impressions:98e3,clicks:12500,conversions:1320,engagement_rate:.128}),views_count:98e3,likes_count:15420,comments_count:2450,reposts_count:1200,is_demo:!0,is_sponsored:!1,created_at:new Date(Date.now()-2880*60*1e3).toISOString(),updated_at:new Date().toISOString()}),u0=(e,r)=>{const n=RZ(r);if(!e||typeof e!="object")return n;const a=Number(e.id??r??n.id),s=typeof e.performance_metrics=="string"?e.performance_metrics:JSON.stringify({impressions:e.impressions??n.views_count??0,clicks:e.clicks??0,conversions:e.conversions??0,engagement_rate:e.engagement_rate??.07}),i=e.media_url&&/^https?:\/\//i.test(e.media_url)?e.media_url:kP(a);return{id:a,creator_id:Number(e.creator_id??n.creator_id),creator_username:e.creator_username??n.creator_username,creator_name:e.creator_name??n.creator_name,creator_avatar:e.creator_avatar??n.creator_avatar,platform:e.platform??n.platform,platform_url:e.platform_url??e.content_url??n.platform_url,title:e.title??n.title,description:e.description??n.description,media_url:i,total_shares:Number(e.total_shares??n.total_shares),available_shares:Number(e.available_shares??n.available_shares),engagement_shares_total:Number(e.engagement_shares_total??n.engagement_shares_total),engagement_shares_remaining:Number(e.engagement_shares_remaining??n.engagement_shares_remaining),share_price:Number(e.share_price??n.share_price),current_revenue:Number(e.current_revenue??n.current_revenue),performance_metrics:s,views_count:Number(e.views_count??e.impressions??n.views_count),likes_count:Number(e.likes_count??e.likes??n.likes_count),comments_count:Number(e.comments_count??e.comments??n.comments_count),reposts_count:Number(e.reposts_count??e.shares??n.reposts_count),is_demo:!!(e.is_demo??n.is_demo),is_sponsored:!!(e.is_sponsored??n.is_sponsored),created_at:e.created_at??n.created_at,updated_at:e.updated_at??e.created_at??n.updated_at}},bk=e=>({likes:14500+e%500,comments:2800+e%250,shares:1200+e%150,views:98e3+e%5e3,internal_moves:420+e%80,external_moves:215+e%40,total_engagement:14500+e%1e3});function FZ(){var sr,Fe,Ge,jt;const{id:e}=Kl(),r=ar(),[n,a]=x.useState(null),[s,i]=x.useState([]),[o,d]=x.useState(null),[u,h]=x.useState(null),[m,p]=x.useState(!0),[y,v]=x.useState(!1),[j,b]=x.useState(!1),[N,S]=x.useState(!1),[C,_]=x.useState(!1),[P,O]=x.useState(!1),[E,T]=x.useState(!1),[$,D]=x.useState({has_liked:!1,has_saved:!1}),[z,I]=x.useState(!1),[F,M]=x.useState(null),[B,G]=x.useState(!1),ee=((sr=n==null?void 0:n.title)==null?void 0:sr.toLowerCase().includes("[demo]"))||((Fe=n==null?void 0:n.title)==null?void 0:Fe.toLowerCase().includes("demo"))||((Ge=n==null?void 0:n.description)==null?void 0:Ge.toLowerCase().includes("demo")),L=o&&n&&(o.id===n.creator_id||o.username===n.creator_name||o.display_name===n.creator_name);x.useEffect(()=>{let ue=!0;return(async()=>{if(e){p(!0);try{await Promise.all([H(ue),te(ue),se(ue),U(ue),Y(ue)])}catch(Te){console.error("ContentDetail initial load failed:",Te)}finally{ue&&p(!1)}}})(),()=>{ue=!1}},[e]);const H=async(ue=!0)=>{const me=Number(e??Date.now());try{const Te=await fetch(`/api/content/${e}`);if(Te.ok){const rt=await Te.json();ue&&a(u0((rt==null?void 0:rt.content)??rt,me))}else ue&&a(u0(null,me))}catch(Te){console.error("Failed to fetch content:",Te),ue&&a(u0(null,me))}},te=async()=>{try{const ue=Ht(),me=await fetch("/api/users/me/wallets",{credentials:"include",headers:ue});if(me.ok){const Te=await me.json();i(Te)}}catch(ue){console.error("Failed to fetch wallets:",ue)}},se=async()=>{try{const ue=Ht(),me=await fetch("/api/users/me",{credentials:"include",headers:ue});if(me.ok){const Te=await me.json();d(Te)}}catch(ue){console.error("Failed to fetch user data:",ue)}},U=async()=>{const ue=Number(e??Date.now());try{const me=await fetch(`/api/content/${e}/metrics`);if(me.ok){const Te=await me.json();h(Te)}else h(bk(ue))}catch(me){console.error("Failed to fetch metrics:",me),h(bk(ue))}},ne=async()=>{if(!(!o||!e))try{const ue=Ht(),me=await fetch(`/api/content/${e}/user-status`,{credentials:"include",headers:ue});if(me.ok){const Te=await me.json();D(Te)}}catch(ue){console.error("Failed to fetch user status:",ue)}},Y=async()=>{if(e)try{const ue=Ht(),me=await fetch(`/api/content/${e}/sponsorship`,{credentials:"include",headers:ue});if(me.ok){const Te=await me.json();M(Te)}}catch(ue){console.error("Failed to fetch sponsorship data:",ue)}},K=async(ue,me)=>{try{if((await fetch("/api/content/buy-shares",{method:"POST",headers:{"Content-Type":"application/json",...Ht()},credentials:"include",body:JSON.stringify({content_id:ue.id,shares_count:me})})).ok)await H(),await te(),await U();else throw new Error("Purchase failed")}catch(Te){throw console.error("Failed to buy shares:",Te),Te}},ie=async ue=>{try{if(ue==="like"&&$.has_liked){alert("You have already liked this content!");return}if(ue==="save"&&$.has_saved){alert("Content already saved to your collection!");return}if(ue==="share"){b(!0);return}const me=await fetch("/api/users/social-action",{method:"POST",headers:{"Content-Type":"application/json",...Ht()},credentials:"include",body:JSON.stringify({action_type:ue,reference_id:n==null?void 0:n.id,reference_type:"content"})});if(me.ok){const Te=await me.json();ae(Te),await U(),await se(),await H(),await ne()}else{const Te=await me.json();Te.error&&alert(Te.error)}}catch(me){console.error(`Failed to record ${ue} action:`,me)}},ae=ue=>{const me=document.createElement("div");me.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-pulse",me.innerHTML=`
      <div class="flex items-center space-x-2">
        <span>+${ue.points_earned} points!</span>
        <span class="text-xs">(${ue.multiplier.toFixed(1)}x multiplier)</span>
      </div>
    `,document.body.appendChild(me),setTimeout(()=>{document.body.contains(me)&&document.body.removeChild(me)},3e3)},J=async(ue,me)=>{try{if((await fetch("/api/content/tip",{method:"POST",headers:{"Content-Type":"application/json",...Ht()},credentials:"include",body:JSON.stringify({content_id:ue.id,tip_amount:me})})).ok){const rt=document.createElement("div");rt.className="fixed top-4 right-4 bg-purple-500 text-white px-4 py-3 rounded-lg shadow-lg z-50 animate-bounce",rt.innerHTML=`
          <div class="flex items-center space-x-2">
            <span class="text-lg"></span>
            <div>
              <div class="font-semibold">Tip sent!</div>
              <div class="text-xs opacity-90">Tipped ${me} gems to ${ue.creator_name||ue.creator_username||"creator"}</div>
            </div>
          </div>
        `,document.body.appendChild(rt),setTimeout(()=>{document.body.contains(rt)&&document.body.removeChild(rt)},4e3),se()}else throw new Error("Tip failed")}catch(Te){throw console.error("Failed to send tip:",Te),Te}},ve=(ue,me)=>{_(!1),n&&a({...n,current_revenue:ue,share_price:me}),se()},Q=ue=>{O(!1),a(ue),U()},ye=async()=>{if(n)try{const ue=await fetch(`/api/content/${n.id}`,{method:"DELETE",credentials:"include",headers:Ht()});if(ue.ok)r("/home");else{const me=await ue.json();alert(me.error||"Failed to delete content")}}catch(ue){console.error("Error deleting content:",ue),alert("Failed to delete content")}},Ae=async(ue,me,Te)=>{if(n)try{const rt=await fetch(`/api/content/${n.id}/sponsor`,{method:"POST",headers:{"Content-Type":"application/json",...Ht()},credentials:"include",body:JSON.stringify({gems_allocated:ue,boost_multiplier:me,duration_hours:Te})});if(rt.ok)I(!1),await Y(),await se(),alert(`Content sponsored successfully! It will receive ${me}x visibility boost for ${Te} hours.`);else{const pn=await rt.json();alert(pn.error||"Failed to sponsor content")}}catch(rt){console.error("Error sponsoring content:",rt),alert("Failed to sponsor content")}},le=ue=>{switch(ue){case"super":return 2;case"premium":return 1.5;default:return 1}},He=ue=>{const Te={like:.1,comment:.3,save:.5,share:1,repost:.2}[ue]||0,rt=o?le(o.user_tier):1;return Math.floor(Te*rt*10)/10},$e=ue=>{switch(ue){case"instagram":return"";case"tiktok":return"";case"youtube":return"";case"twitter":return"";case"linkedin":return"";default:return""}},ct=()=>u||{likes:0,comments:0,shares:0,views:0,internal_moves:0,external_moves:0},Je=ue=>ue>=1e6?(ue/1e6).toFixed(1)+"M":ue>=1e3?(ue/1e3).toFixed(1)+"K":ue.toString();if(m)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full"})});if(!n)return t.jsxs("div",{className:"text-center py-12",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Content not found"}),t.jsx("button",{onClick:()=>r("/home"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Go Back Home"})]});const Qe=ct();return t.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[ee&&t.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-amber-500 text-white rounded-xl p-6 shadow-lg",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsx("h2",{className:"text-xl font-bold",children:"DEMO CONTENT"}),t.jsx("span",{className:"text-2xl",children:""})]}),t.jsx("p",{className:"text-center text-orange-100",children:"This is demo content for testing purposes. No real money or value transfers will occur."})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("button",{onClick:()=>r("/home"),className:"flex items-center justify-center w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors",children:t.jsx(ia,{className:"w-5 h-5 text-gray-600"})}),t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Content Details ",ee&&t.jsx("span",{className:"text-orange-600",children:"(Demo)"})]}),t.jsx("p",{className:"text-gray-600",children:ee?"Demo investment simulation - no real value":"Investment opportunity analysis"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[n.is_demo&&t.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 border border-purple-200 flex items-center space-x-1",children:[t.jsx(mc,{className:"w-3 h-3"}),t.jsx("span",{children:"Demo"})]}),n.is_sponsored&&t.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-orange-100 to-amber-100 text-orange-800 border border-orange-200 flex items-center space-x-1",children:[t.jsx(Iu,{className:"w-3 h-3"}),t.jsx("span",{children:"Sponsored"})]}),n.views_count!==void 0&&t.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[t.jsx(Us,{className:"w-4 h-4"}),t.jsxs("span",{className:"text-sm",children:[((jt=Qe.views)==null?void 0:jt.toLocaleString())||n.views_count.toLocaleString()," views"]})]})]})]})]}),L&&t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(qt,{content:"Edit content",children:t.jsxs("button",{onClick:()=>O(!0),className:"flex items-center space-x-2 px-4 py-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),t.jsx("span",{className:"hidden sm:inline",children:"Edit"})]})}),t.jsx(qt,{content:"Delete content",children:t.jsxs("button",{onClick:()=>T(!0),className:"flex items-center space-x-2 px-4 py-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),t.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs("div",{className:`bg-white rounded-xl border overflow-hidden ${ee?"border-orange-300 bg-orange-50/30":n.is_sponsored?"ring-2 ring-orange-200 ring-opacity-50":"border-gray-200"}`,children:[ee&&t.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-amber-500 text-white px-4 py-2 text-center",children:t.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm font-medium",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"DEMO CONTENT - No real value transfers"}),t.jsx("span",{children:""})]})}),n.is_sponsored&&!ee&&t.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-amber-500 text-white px-4 py-2 text-center",children:t.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm font-medium",children:[t.jsx(Iu,{className:"w-4 h-4"}),t.jsx("span",{children:"SPONSORED CONTENT"}),t.jsx(Iu,{className:"w-4 h-4"})]})}),t.jsx("div",{className:"p-6 pb-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-white text-xl",children:$e(n.platform)}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Pl,{username:n.creator_name,displayName:n.creator_name||"Creator",avatarUrl:n.creator_avatar,className:"font-semibold text-gray-900 hover:text-orange-600 transition-colors",showAvatar:!1}),t.jsxs("div",{className:"flex items-center space-x-2",children:[L&&t.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs font-medium",children:"YOUR CONTENT"}),ee&&t.jsx("span",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded-full text-xs font-medium",children:"DEMO"}),t.jsx("span",{className:"text-sm text-gray-500 capitalize",children:n.platform})]})]}),t.jsx("p",{className:"text-sm text-gray-500",children:"2 hours ago"})]})]})}),n.media_url&&t.jsx("div",{className:"relative",children:t.jsx("img",{src:n.media_url,alt:n.title,className:"w-full h-96 object-cover"})}),t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:n.title}),n.description&&t.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:n.description}),t.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"flex items-center justify-center space-x-1 text-red-500 mb-1",children:t.jsx(vl,{className:"w-5 h-5"})}),t.jsx("p",{className:"text-lg font-bold text-gray-900",children:Je(Qe.likes)}),t.jsx("p",{className:"text-sm text-gray-500",children:"Likes"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"flex items-center justify-center space-x-1 text-blue-500 mb-1",children:t.jsx(yi,{className:"w-5 h-5"})}),t.jsx("p",{className:"text-lg font-bold text-gray-900",children:Je(Qe.comments)}),t.jsx("p",{className:"text-sm text-gray-500",children:"Comments"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"flex items-center justify-center space-x-1 text-green-500 mb-1",children:t.jsx(Sl,{className:"w-5 h-5"})}),t.jsx("p",{className:"text-lg font-bold text-gray-900",children:Je(Qe.shares)}),t.jsx("p",{className:"text-sm text-gray-500",children:"Shares"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"flex items-center justify-center space-x-1 text-purple-500 mb-1",children:t.jsx(Us,{className:"w-5 h-5"})}),t.jsx("p",{className:"text-lg font-bold text-gray-900",children:Je(Qe.views)}),t.jsx("p",{className:"text-sm text-gray-500",children:"Views"})]})]}),t.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Platform Activity"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-lg font-bold text-blue-900",children:Qe.internal_moves||0}),t.jsx("p",{className:"text-xs text-blue-700",children:"Internal Moves"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-lg font-bold text-purple-900",children:Qe.external_moves||0}),t.jsx("p",{className:"text-xs text-purple-700",children:"External Moves"})]})]})]}),n.engagement_shares_total>0&&t.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6 mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center",children:t.jsx(Dr,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-green-900",children:"Free Engagement Shares"}),t.jsx("p",{className:"text-sm text-green-700",children:"Earn by engaging with this content!"})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-3xl font-bold text-green-600",children:n.engagement_shares_remaining}),t.jsx("div",{className:"text-sm text-green-500",children:"remaining"})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm font-medium text-green-700",children:"Progress"}),t.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[n.engagement_shares_total-n.engagement_shares_remaining," / ",n.engagement_shares_total]})]}),t.jsx("div",{className:"w-full bg-green-200 rounded-full h-3 overflow-hidden",children:t.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 h-3 rounded-full transition-all duration-500",style:{width:`${(n.engagement_shares_total-n.engagement_shares_remaining)/n.engagement_shares_total*100}%`}})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-green-700",children:[t.jsx(vl,{className:"w-4 h-4"}),t.jsx("span",{children:"Like for 1 share"})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-green-700",children:[t.jsx(yi,{className:"w-4 h-4"}),t.jsx("span",{children:"Comment for 3 shares"})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-green-700",children:[t.jsx(Sl,{className:"w-4 h-4"}),t.jsx("span",{children:"Share for 5 shares"})]})]})]}),t.jsx("div",{className:"mb-6",children:t.jsx(qt,{content:"Perform actions on the original platform for 10x points!",position:"top",children:t.jsxs("button",{onClick:()=>S(!0),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-6 py-4 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center space-x-3 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[t.jsx("span",{className:"text-xl",children:""}),t.jsx("span",{children:"Perform External Move"}),t.jsx("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm font-bold",children:"10x Points!"})]})})}),t.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Quick Actions"}),t.jsx("span",{className:"text-xs text-gray-400",children:"Reduced points"})]}),t.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{action:"like",icon:vl,color:$.has_liked?"text-red-500 bg-red-50":"hover:text-red-500",disabled:$.has_liked},{action:"comment",icon:yi,color:"hover:text-blue-500",disabled:!1},{action:"repost",icon:oS,color:"hover:text-purple-500",disabled:!1},{action:"save",icon:Hu,color:$.has_saved?"text-yellow-500 bg-yellow-50":"hover:text-yellow-500",disabled:$.has_saved}].map(({action:ue,icon:me,color:Te,disabled:rt})=>t.jsx(qt,{content:rt&&ue==="like"?"Already liked!":rt&&ue==="save"?"Already saved!":`+${He(ue)} points`,compact:!0,children:t.jsxs("button",{onClick:()=>ie(ue),disabled:rt,className:`flex flex-col items-center p-3 rounded-lg transition-colors hover:bg-white ${Te} ${rt?"cursor-not-allowed opacity-75":""}`,children:[t.jsx(me,{className:`w-5 h-5 mb-1 ${$.has_liked&&ue==="like"?"fill-current":""} ${$.has_saved&&ue==="save"?"fill-current":""}`}),t.jsx("span",{className:"text-xs text-gray-600 capitalize",children:ue}),t.jsx("span",{className:"text-xs text-green-600 font-medium",children:rt?ue==="like"||ue==="save"?"":`+${He(ue)}`:`+${He(ue)}`})]})},ue))})]}),t.jsx("div",{className:"pt-4 border-t border-gray-100",children:t.jsxs("a",{href:n.platform_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 text-purple-600 hover:text-purple-700 transition-colors",children:[t.jsx(oa,{className:"w-4 h-4"}),t.jsxs("span",{children:["View on ",n.platform]})]})})]})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Analytics"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(at,{className:"w-5 h-5 text-green-600"}),t.jsx("span",{className:"text-sm font-medium text-green-800",children:"Engagement Rate"})]}),t.jsx("p",{className:"text-xl font-bold text-green-900",children:"8.7%"}),t.jsx("p",{className:"text-xs text-green-600",children:"+2.3% from avg"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(la,{className:"w-5 h-5 text-blue-600"}),t.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Growth Rate"})]}),t.jsx("p",{className:"text-xl font-bold text-blue-900",children:"15.2%"}),t.jsx("p",{className:"text-xs text-blue-600",children:"Last 24 hours"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-violet-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(ft,{className:"w-5 h-5 text-purple-600"}),t.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Revenue/View"})]}),t.jsx("p",{className:"text-xl font-bold text-purple-900",children:"$0.0032"}),t.jsx("p",{className:"text-xs text-purple-600",children:"Industry avg: $0.0028"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(zt,{className:"w-5 h-5 text-orange-600"}),t.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Reach"})]}),t.jsx("p",{className:"text-xl font-bold text-orange-900",children:"1.2M"}),t.jsx("p",{className:"text-xs text-orange-600",children:"Unique users"})]})]})]}),t.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:t.jsx(LZ,{contentId:n.id,currentUser:o,isOwner:L||!1})})]}),t.jsxs("div",{className:"space-y-6",children:[F&&t.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),t.jsx("span",{className:"font-semibold text-purple-900",children:"Sponsored Content"}),F.sponsor_count>1&&t.jsxs("span",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded-full text-xs font-medium",children:[F.sponsor_count," Sponsors"]})]}),t.jsxs("p",{className:"text-sm text-purple-700 mb-3",children:["This content receives ",F.total_boost_multiplier||F.boost_multiplier,"x visibility boost",F.sponsor_count>1&&" from multiple sponsors"]}),t.jsxs("div",{className:"space-y-2",children:[F.sponsor_names&&F.sponsor_names.length>0?t.jsxs("div",{className:"text-sm text-purple-700",children:[t.jsx("span",{className:"font-medium",children:"Sponsored by:"}),t.jsxs("div",{className:"mt-1",children:[F.sponsor_names.slice(0,3).map((ue,me)=>t.jsx("span",{className:"inline-block bg-purple-100 text-purple-700 px-2 py-1 rounded-full text-xs font-medium mr-2 mb-1",children:ue},me)),F.sponsor_names.length>3&&t.jsxs("span",{className:"text-xs text-purple-600",children:["+",F.sponsor_names.length-3," more"]})]})]}):t.jsxs("div",{className:"text-sm text-purple-700",children:[t.jsx("span",{className:"font-medium",children:"Primary Sponsor:"})," ",F.primary_sponsor||F.advertiser_name||"Advertiser"]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-purple-600 pt-2 border-t border-purple-200",children:[t.jsxs("span",{children:[F.total_gems_allocated||F.gems_allocated," gems invested"]}),t.jsxs("span",{children:[F.sponsor_count||1," active sponsorship",(F.sponsor_count||1)!==1?"s":""]})]})]})]}),(o==null?void 0:o.user_type)==="advertiser"&&!L&&t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(Kt,{className:"w-5 h-5 text-blue-600"}),t.jsx("span",{className:"font-semibold text-blue-900",children:F?"Boost Further":"Sponsor This Content"})]}),t.jsx("p",{className:"text-sm text-blue-700 mb-3",children:F?"Add your sponsorship to boost visibility even more! Multiple sponsors can collaborate to maximize reach.":"Boost this content's visibility and reach more users. Sponsored content appears higher in feeds and gets priority placement."}),F&&t.jsx("div",{className:"bg-blue-100 rounded-lg p-3 mb-3",children:t.jsxs("div",{className:"text-xs text-blue-700",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Current boost:"}),t.jsxs("span",{className:"font-semibold",children:[F.total_boost_multiplier||F.boost_multiplier,"x"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Active sponsors:"}),t.jsx("span",{className:"font-semibold",children:F.sponsor_count||1})]})]})}),t.jsxs("button",{onClick:()=>I(!0),className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-4 py-3 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),t.jsx("span",{children:F?"Add Your Sponsorship":"Sponsor This Content"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Investment Details"}),t.jsxs("div",{className:"space-y-4 mb-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600",children:"Share Price"}),t.jsxs("span",{className:"text-xl font-bold text-green-600",children:["$",(n.share_price||0).toFixed(4)]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600",children:"Available Shares"}),t.jsx("span",{className:"font-semibold text-gray-900",children:n.available_shares||0})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600",children:"Total Shares"}),t.jsx("span",{className:"font-semibold text-gray-900",children:n.total_shares||0})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600",children:"Engagement Shares"}),t.jsxs("span",{className:"font-semibold text-orange-600",children:[n.engagement_shares_remaining||0,"/",n.engagement_shares_total||0]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600",children:"Current Revenue"}),t.jsxs("span",{className:"font-semibold text-purple-600",children:["$",(n.current_revenue||0).toFixed(2)]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(qt,{content:ee?"Demo content - no real value transfers":"Tip creator & boost content value",children:t.jsxs("button",{onClick:()=>G(!0),className:`w-full px-4 py-3 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2 ${ee?"bg-orange-100 hover:bg-orange-200 text-orange-700":"bg-purple-100 hover:bg-purple-200 text-purple-700"}`,children:[t.jsx(gi,{className:"w-4 h-4"}),t.jsx("span",{children:ee?"Demo Tip Creator":"Tip Creator"})]})}),t.jsx("button",{onClick:()=>v(!0),disabled:n.available_shares===0,className:`w-full px-6 py-3 rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-white ${ee?"bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600":"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600"}`,children:n.available_shares===0?"Sold Out":ee?"Demo Shares":"Buy Shares"}),t.jsxs("button",{onClick:()=>r("/invest/social-forecasts"),className:"w-full bg-blue-100 hover:bg-blue-200 text-blue-700 px-6 py-3 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[t.jsx(Kt,{className:"w-4 h-4"}),t.jsx("span",{children:"Make Performance Forecast"})]}),ee&&t.jsx("div",{className:"bg-orange-100 border border-orange-200 rounded-lg p-3",children:t.jsx("p",{className:"text-xs text-orange-700 text-center",children:" This is demo content. No real purchases or value transfers will occur."})})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Market Insights"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"24h Volume"}),t.jsx("span",{className:"font-semibold text-gray-900",children:"$1,247"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Price Change"}),t.jsx("span",{className:"font-semibold text-green-600",children:"+7.2%"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Investors"}),t.jsx("span",{className:"font-semibold text-gray-900",children:"23"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"ROI Potential"}),t.jsx("span",{className:"font-semibold text-purple-600",children:"High"})]})]})]})]})]}),n&&t.jsxs(t.Fragment,{children:[t.jsx(xS,{content:n,wallet:s==null?void 0:s.find(ue=>ue.currency_type==="USD"),isOpen:y,onClose:()=>v(!1),onPurchase:K}),t.jsx(gS,{user:o,contentId:n.id,contentTitle:n.title,isOpen:j,onClose:()=>b(!1),onSuccess:()=>{se(),U()}}),t.jsx(yS,{user:o,contentId:n.id,contentTitle:n.title,contentPlatform:n.platform,contentUrl:n.platform_url,isOpen:N,onClose:()=>S(!1),onSuccess:()=>{se(),U()}}),t.jsx(IZ,{isOpen:C,onClose:()=>_(!1),contentId:n.id,contentTitle:n.title,isOwner:!1,currentRevenue:n.current_revenue||0,sharePrice:n.share_price||0,totalShares:n.total_shares||0,onSuccess:ve}),t.jsx(Hg,{isOpen:P,onClose:()=>O(!1),onSuccess:Q,content:n}),t.jsx(Wm,{isOpen:E,onClose:()=>T(!1),onConfirm:ye,title:"Delete Content",message:`Are you sure you want to delete "${n.title}"? This action cannot be undone and will remove all associated data.`,confirmText:"Delete",cancelText:"Cancel",type:"danger"}),t.jsx(_P,{isOpen:z,onClose:()=>I(!1),onSponsor:Ae,contentTitle:n.title,userGems:(o==null?void 0:o.gems_balance)||0}),t.jsx(CS,{content:n,isOpen:B,onClose:()=>G(!1),onTip:J})]})]})}const zZ=FZ;function BZ(){const{id:e}=Kl(),r=ar(),[n,a]=x.useState(null),[s,i]=x.useState(!0);if(x.useEffect(()=>{if(!e)return;(async()=>{i(!0);const p=await GD(e);a(p),i(!1)})()},[e]),!e)return t.jsxs("div",{className:"p-6",children:[t.jsxs("button",{onClick:()=>r(-1),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700",children:[t.jsx(ia,{className:"w-4 h-4 mr-2"})," Back"]}),t.jsx("p",{className:"mt-6 text-gray-600",children:"Holding not found."})]});if(s||!n)return t.jsxs("div",{className:"p-6",children:[t.jsxs("button",{onClick:()=>r(-1),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700",children:[t.jsx(ia,{className:"w-4 h-4 mr-2"})," Back"]}),t.jsx("div",{className:"mt-10 flex justify-center",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full"})})]});const{holding:o,content:d,performance:u,marketplace:h}=n;return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("button",{onClick:()=>r(-1),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700",children:[t.jsx(ia,{className:"w-4 h-4 mr-2"})," Back to portfolio"]})}),t.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("img",{src:o.content_thumbnail,alt:o.content_title,className:"w-20 h-20 rounded-xl object-cover"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:o.content_title}),t.jsxs("p",{className:"text-sm text-gray-500",children:[o.creator_name,"  ",o.platform.toUpperCase()]}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:d.description})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Shares Owned"}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:o.owned_shares})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Market Value"}),t.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["$",o.market_value.toFixed(2)]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Unrealized Gain"}),t.jsxs("p",{className:`text-lg font-semibold ${o.unrealized_gain>=0?"text-green-600":"text-red-600"}`,children:[o.unrealized_gain>=0?"+":"","$",o.unrealized_gain.toFixed(2)]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Available to sell"}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:o.available_to_sell})]})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Performance history"}),t.jsxs("span",{className:"inline-flex items-center text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-700",children:[t.jsx(at,{className:"w-3 h-3 mr-1"})," 30 day trend"]})]}),t.jsx("div",{className:"space-y-2",children:u.history.map(m=>t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[t.jsx("span",{children:m.date}),t.jsxs("span",{children:["$",m.price.toFixed(2),"  ",m.volume," shares traded"]})]},m.date))})]}),t.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Activity"}),t.jsx("div",{className:"space-y-3",children:u.ledger.map(m=>t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-9 h-9 bg-gray-100 rounded-full flex items-center justify-center",children:m.type==="purchase"?t.jsx(Zk,{className:"w-4 h-4 text-green-600"}):t.jsx(ft,{className:"w-4 h-4 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900 capitalize",children:m.type}),t.jsx("p",{className:"text-xs text-gray-500",children:new Date(m.timestamp).toLocaleString()})]})]}),t.jsx("div",{className:"text-right text-sm text-gray-700",children:m.quantity?`${m.quantity} shares @ $${m.price.toFixed(2)}`:`$${m.price.toFixed(2)}`})]},m.id))})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Marketplace listings"}),t.jsx("div",{className:"space-y-3",children:h.listings.length?h.listings.map(m=>t.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg px-4 py-3",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[m.quantity," shares"]}),t.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:["Status: ",m.status]})]}),t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["$",m.ask_price.toFixed(2)]})]},m.id)):t.jsx("p",{className:"text-sm text-gray-500",children:"No listing history yet."})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent offers"}),t.jsx("div",{className:"space-y-3",children:h.offers.length?h.offers.map(m=>t.jsxs("div",{className:"bg-gray-50 rounded-lg px-4 py-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[m.quantity," shares @ $",m.bid_price.toFixed(2)]}),t.jsx("p",{className:"text-xs text-gray-500",children:m.buyer_name})]}),t.jsx("span",{className:"text-xs font-semibold text-orange-600",children:m.status})]}),m.message&&t.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["",m.message,""]})]},m.id)):t.jsx("p",{className:"text-sm text-gray-500",children:"No offers yet."})})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Content performance overview"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-orange-600",children:"Total views"}),t.jsx("p",{className:"text-xl font-semibold text-orange-900",children:d.total_views.toLocaleString()})]}),t.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-blue-600",children:"Engagement rate"}),t.jsxs("p",{className:"text-xl font-semibold text-blue-900",children:[d.engagement_rate,"%"]})]}),t.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-purple-600",children:"Earnings to date"}),t.jsxs("p",{className:"text-xl font-semibold text-purple-900",children:["$",d.earnings_to_date.toFixed(2)]})]}),t.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-green-600",children:"Last trade"}),t.jsx("p",{className:"text-xl font-semibold text-green-900",children:o.last_trade_at?new Date(o.last_trade_at).toLocaleDateString():"N/A"})]})]})]})]})}function UZ(){const{id:e}=Kl(),r=ar(),[n,a]=x.useState(null),[s,i]=x.useState(!0);if(x.useEffect(()=>{if(!e)return;(async()=>{i(!0);const p=await YD(e);a(p),i(!1)})()},[e]),!e)return t.jsxs("div",{className:"p-6",children:[t.jsxs("button",{onClick:()=>r(-1),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700",children:[t.jsx(ia,{className:"w-4 h-4 mr-2"})," Back"]}),t.jsx("p",{className:"mt-6 text-gray-600",children:"Prediction not found."})]});if(s||!n)return t.jsxs("div",{className:"p-6",children:[t.jsxs("button",{onClick:()=>r(-1),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700",children:[t.jsx(ia,{className:"w-4 h-4 mr-2"})," Back to predictions"]}),t.jsx("div",{className:"mt-10 flex justify-center",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full"})})]});const{prediction:o,forecast:d,trajectory:u,participants:h}=n;return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("button",{onClick:()=>r(-1),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700",children:[t.jsx(ia,{className:"w-4 h-4 mr-2"})," Back"]})}),t.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:o.content_title}),t.jsxs("p",{className:"text-sm text-gray-500",children:[o.platform.toUpperCase(),"  Placed ",new Date(o.created_at).toLocaleDateString()]}),t.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Side"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:o.prediction_side})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Stake"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["$",o.amount.toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Potential payout"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["$",o.potential_payout.toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Status"}),t.jsx("p",{className:"text-base font-semibold text-orange-600 capitalize",children:o.status})]})]})]}),t.jsxs("div",{className:"bg-orange-50 rounded-2xl p-4 border border-orange-200",children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-orange-600",children:"Forecast target"}),t.jsxs("p",{className:"text-2xl font-semibold text-orange-900",children:[d.metric,"  ",d.target]}),t.jsxs("p",{className:"text-sm text-orange-700 mt-2",children:["Odds ",d.odds.toFixed(2),"x"]}),t.jsxs("p",{className:"text-xs text-orange-700 mt-1",children:["Expires ",new Date(d.expires_at).toLocaleString()]})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Trajectory"}),t.jsxs("span",{className:"inline-flex items-center text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-700",children:[t.jsx(EA,{className:"w-3 h-3 mr-1"})," Trend overview"]})]}),t.jsx("div",{className:"space-y-2",children:u.map(m=>t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[t.jsx("span",{children:m.date}),t.jsxs("span",{children:["Actual ",m.actual.toLocaleString(),"  Expected ",m.expected.toLocaleString()]})]},m.date))})]}),t.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Projection notes"}),t.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:d.creator_projection})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(zt,{className:"w-4 h-4 text-purple-600"}),t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Participants"})]}),t.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-purple-100 text-purple-700",children:[h.length," active"]})]}),t.jsx("div",{className:"space-y-3",children:h.map((m,p)=>t.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg px-4 py-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:m.username}),t.jsx("p",{className:"text-xs text-gray-500 capitalize",children:m.side})]}),t.jsxs("div",{className:"text-right text-sm text-gray-600",children:[t.jsxs("p",{children:["$",m.amount.toFixed(2)]}),t.jsx("p",{className:"text-xs text-gray-500 capitalize",children:m.status})]})]},`${m.username}-${p}`))})]})]})}function WZ({isOpen:e,onClose:r,onSuccess:n,drop:a}){const[s,i]=x.useState({title:a.title,description:a.description,drop_type:a.drop_type,difficulty:a.difficulty,key_cost:a.key_cost,gem_reward_base:a.gem_reward_base,gem_pool_total:a.gem_pool_total,follower_threshold:a.follower_threshold,time_commitment:a.time_commitment||"",requirements:a.requirements||"",deliverables:a.deliverables||"",deadline_at:a.deadline_at?a.deadline_at.split("T")[0]:"",max_participants:a.max_participants||void 0,platform:a.platform||"",content_url:a.content_url||"",move_cost_points:a.move_cost_points,key_reward_amount:a.key_reward_amount,is_proof_drop:a.is_proof_drop,is_paid_drop:a.is_paid_drop,reward_logic:""}),[o,d]=x.useState(!1),[u,h]=x.useState(null);if(x.useEffect(()=>{a&&i({title:a.title,description:a.description,drop_type:a.drop_type,difficulty:a.difficulty,key_cost:a.key_cost,gem_reward_base:a.gem_reward_base,gem_pool_total:a.gem_pool_total,follower_threshold:a.follower_threshold,time_commitment:a.time_commitment||"",requirements:a.requirements||"",deliverables:a.deliverables||"",deadline_at:a.deadline_at?a.deadline_at.split("T")[0]:"",max_participants:a.max_participants||void 0,platform:a.platform||"",content_url:a.content_url||"",move_cost_points:a.move_cost_points,key_reward_amount:a.key_reward_amount,is_proof_drop:a.is_proof_drop,is_paid_drop:a.is_paid_drop,reward_logic:""})},[a]),!e)return null;const m=async p=>{p.preventDefault(),d(!0),h(null);try{const y={...s,deadline_at:s.deadline_at?new Date(s.deadline_at).toISOString():void 0};if(!vD.safeParse(y).success){h("Please check all required fields");return}const j=await fetch(`/api/drops/${a.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(y)});if(j.ok){const b=await j.json();n(b.drop),r()}else{const b=await j.json();h(b.error||"Failed to update drop")}}catch(y){console.error("Error updating drop:",y),h("Failed to update drop")}finally{d(!1)}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Drop"}),t.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:o,children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[u&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:u}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Drop Type"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[a.is_proof_drop&&t.jsx("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:"Proof Drop - Free to apply"}),a.is_paid_drop&&t.jsx("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium",children:"Paid Drop - Costs keys, rewards gems"}),!a.is_proof_drop&&!a.is_paid_drop&&t.jsx("span",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-medium",children:"Move Drop - Social actions for keys"})]}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Drop type cannot be changed after creation"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),t.jsx("input",{type:"text",value:s.title,onChange:p=>i({...s,title:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors",placeholder:"Enter drop title",required:!0,disabled:o})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Drop Category *"}),t.jsx("select",{value:s.drop_type,onChange:p=>i({...s,drop_type:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors",required:!0,disabled:o,children:_S.options.map(p=>t.jsx("option",{value:p,children:p.replace(/_/g," ").replace(/\b\w/g,y=>y.toUpperCase())},p))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty *"}),t.jsx("select",{value:s.difficulty,onChange:p=>i({...s,difficulty:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors",required:!0,disabled:o,children:kS.options.map(p=>t.jsx("option",{value:p,className:"capitalize",children:p},p))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),t.jsx("textarea",{value:s.description,onChange:p=>i({...s,description:p.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors",placeholder:"Describe what needs to be done...",required:!0,disabled:o})]}),a.is_paid_drop&&t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-4",children:"Paid Drop Settings"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:"Key Cost"}),t.jsx("input",{type:"number",min:"1",value:s.key_cost,onChange:p=>i({...s,key_cost:Number(p.target.value)}),className:"w-full px-4 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:o})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:"Gem Reward"}),t.jsx("input",{type:"number",min:"1",value:s.gem_reward_base,onChange:p=>i({...s,gem_reward_base:Number(p.target.value)}),className:"w-full px-4 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:o})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:"Total Gem Pool"}),t.jsx("input",{type:"number",min:"0",value:s.gem_pool_total,onChange:p=>i({...s,gem_pool_total:Number(p.target.value)}),className:"w-full px-4 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:o})]})]})]}),!a.is_proof_drop&&!a.is_paid_drop&&t.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-orange-900 mb-4",children:"Move Drop Settings"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-orange-700 mb-2",children:"Points Cost"}),t.jsx("input",{type:"number",min:"1",value:s.move_cost_points,onChange:p=>i({...s,move_cost_points:Number(p.target.value)}),className:"w-full px-4 py-2 border border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",disabled:o})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-orange-700 mb-2",children:"Keys Reward"}),t.jsx("input",{type:"number",min:"1",value:s.key_reward_amount,onChange:p=>i({...s,key_reward_amount:Number(p.target.value)}),className:"w-full px-4 py-2 border border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",disabled:o})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min. Followers Required"}),t.jsx("input",{type:"number",min:"0",value:s.follower_threshold,onChange:p=>i({...s,follower_threshold:Number(p.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors",placeholder:"0",disabled:o})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Participants"}),t.jsx("input",{type:"number",min:"1",value:s.max_participants||"",onChange:p=>i({...s,max_participants:p.target.value?Number(p.target.value):void 0}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors",placeholder:"Unlimited",disabled:o})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Commitment"}),t.jsx("input",{type:"text",value:s.time_commitment,onChange:p=>i({...s,time_commitment:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors",placeholder:"e.g., 2-3 hours",disabled:o})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deadline"}),t.jsx("input",{type:"date",value:s.deadline_at,onChange:p=>i({...s,deadline_at:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors",disabled:o})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform"}),t.jsx("input",{type:"text",value:s.platform,onChange:p=>i({...s,platform:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors",placeholder:"e.g., Instagram, TikTok",disabled:o})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content URL"}),t.jsx("input",{type:"url",value:s.content_url,onChange:p=>i({...s,content_url:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors",placeholder:"https://...",disabled:o})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Requirements"}),t.jsx("textarea",{value:s.requirements,onChange:p=>i({...s,requirements:p.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors",placeholder:"What are the requirements to participate?",disabled:o})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deliverables"}),t.jsx("textarea",{value:s.deliverables,onChange:p=>i({...s,deliverables:p.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors",placeholder:"What should participants deliver?",disabled:o})]})]}),t.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:r,disabled:o,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:o,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-6 py-3 rounded-xl font-medium transition-all duration-200 disabled:opacity-50 flex items-center justify-center space-x-2",children:o?t.jsxs(t.Fragment,{children:[t.jsx(Lg,{className:"w-4 h-4 animate-spin"}),t.jsx("span",{children:"Updating..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(Rg,{className:"w-4 h-4"}),t.jsx("span",{children:"Update Drop"})]})})]})]})]})})}function qZ(){var Y,K,ie;const{id:e}=Kl(),r=ar();Gr();const[n,a]=x.useState(null),[s,i]=x.useState(null),[o,d]=x.useState(null),[u,h]=x.useState(null),[m,p]=x.useState(!0),[y,v]=x.useState(!1),[j,b]=x.useState(""),[N,S]=x.useState(!1),[C,_]=x.useState(!1),[P,O]=x.useState(!1),[E,T]=x.useState(!1),$=()=>({is_activated:!0,proof_drops_completed:3,proof_drops_required:3,last_activated_at:new Date(Date.now()-7200*1e3).toISOString()}),D=()=>{const ae=(o==null?void 0:o.id)??"demo-user";return[{id:1,drop_id:String((n==null?void 0:n.id)??e??"demo-drop"),user_id:ae,status:"approved",application_message:"Looking forward to contributing to this drop! I have prior experience delivering high-quality content on tight deadlines.",submission_url:"https://drive.google.com/demo-submission",gems_earned:120,applied_at:new Date(Date.now()-7200*60*1e3).toISOString(),completed_at:new Date(Date.now()-2880*60*1e3).toISOString(),paid_at:new Date(Date.now()-1440*60*1e3).toISOString(),submission_notes:"Approved with premium placement.",review_score:4.8,created_at:new Date(Date.now()-7200*60*1e3).toISOString(),updated_at:new Date(Date.now()-1440*60*1e3).toISOString()}]},z=((Y=n==null?void 0:n.title)==null?void 0:Y.toLowerCase().includes("[demo]"))||((K=n==null?void 0:n.title)==null?void 0:K.toLowerCase().includes("demo"))||((ie=n==null?void 0:n.description)==null?void 0:ie.toLowerCase().includes("demo"));x.useEffect(()=>{e&&(I(),B(),F(),M())},[e]),x.useEffect(()=>{if(n&&o){const ae=n.creator_id===o.id;console.log("Checking creator status:",{dropCreatorId:n.creator_id,userId:o.id,isCreator:ae}),S(ae)}},[n,o]);const I=async()=>{try{console.log("Fetching drop detail for ID:",e);const ae=await fetch(`/api/drops/${e}`);if(console.log("Drop detail response status:",ae.status),ae.ok){const J=await ae.json();console.log("Drop data received:",J),console.log("Drop creator_id:",J.creator_id),a(J)}else{const J=await ae.json().catch(()=>({}));console.error("Drop fetch failed:",ae.status,J),r("/earn")}}catch(ae){console.error("Failed to fetch drop:",ae),r("/earn")}finally{p(!1)}},F=async()=>{try{const ae=Ht(),J=await fetch("/api/users/me",{credentials:"include",headers:ae});if(J.ok){const ve=await J.json();console.log("Database user data received:",ve),console.log("Database user id:",ve==null?void 0:ve.id),d(ve)}}catch(ae){console.error("Failed to fetch user data:",ae)}},M=async()=>{try{const ae=Ht(),J=await fetch("/api/users/master-key-status",{credentials:"include",headers:ae});if(J.ok){const ve=await J.json();h(ve)}else h($())}catch(ae){console.error("Failed to fetch master key status:",ae),h($())}},B=async()=>{try{const ae=Ht(),J=await fetch("/api/users/drop-applications",{credentials:"include",headers:ae}),ve=String((n==null?void 0:n.id)??e??"");if(J.ok){const Q=await J.json();if(Array.isArray(Q)){const ye=Q.find(Ae=>String(Ae.drop_id)===ve);i(ye||null)}else console.warn("Applications API returned non-array data:",Q),i(null)}else{console.warn("Failed to fetch applications, status:",J.status);const ye=D().find(Ae=>String(Ae.drop_id)===ve);i(ye||null)}}catch(ae){console.error("Failed to check application:",ae);const J=String((n==null?void 0:n.id)??e??""),Q=D().find(ye=>String(ye.drop_id)===J);i(Q||null)}},G=async ae=>{if(ae.preventDefault(),!(!n||!j.trim())){v(!0);try{const J=await fetch(`/api/drops/${n.id}/apply`,{method:"POST",headers:{"Content-Type":"application/json",...Ht()},credentials:"include",body:JSON.stringify({application_message:j})});if(J.ok)await Promise.all([B(),F(),M()]),b("");else{const ve=await J.json();console.error("Failed to apply:",ve),alert(ve.error||"Failed to apply to drop")}}catch(J){console.error("Failed to apply:",J),alert("Failed to apply to drop")}finally{v(!1)}}},ee=ae=>{if(n!=null&&n.content_url)return n.content_url;switch(ae){case"content_clipping":return"https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=800&h=400&fit=crop";case"reviews":return"https://images.unsplash.com/photo-1556155092-490a1ba16284?w=800&h=400&fit=crop";case"ugc_creation":return"https://images.unsplash.com/photo-1558403194-611308249627?w=800&h=400&fit=crop";case"affiliate_referral":return"https://images.unsplash.com/photo-1516251193007-45ef944ab0c6?w=800&h=400&fit=crop";case"surveys":return"https://images.unsplash.com/photo-1432888622747-4eb9a8efeb07?w=800&h=400&fit=crop";case"challenges_events":return"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=800&h=400&fit=crop";case"engagement":return"https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=800&h=400&fit=crop";default:return"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=800&h=400&fit=crop"}},L=ae=>{switch(ae){case"content_clipping":return"";case"reviews":return"";case"ugc_creation":return"";case"affiliate_referral":return"";case"surveys":return"";case"challenges_events":return"";default:return""}},H=ae=>{switch(ae){case"easy":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"hard":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},te=ae=>{switch(ae){case"pending":return"text-yellow-600 bg-yellow-100";case"approved":return"text-blue-600 bg-blue-100";case"rejected":return"text-red-600 bg-red-100";case"completed":return"text-green-600 bg-green-100";case"paid":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},se=()=>{_(!0)},U=async()=>{T(!0);try{const ae=await fetch(`/api/drops/${n.id}`,{method:"DELETE",credentials:"include"});if(ae.ok)r("/earn");else{const J=await ae.json();alert(J.error||"Failed to delete drop")}}catch(ae){console.error("Failed to delete drop:",ae),alert("Failed to delete drop")}finally{T(!1),O(!1)}},ne=ae=>{a(ae),_(!1)};return m?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full"})}):n?t.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[z&&t.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-amber-500 text-white rounded-xl p-6 shadow-lg",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsx("h2",{className:"text-xl font-bold",children:"DEMO CONTENT"}),t.jsx("span",{className:"text-2xl",children:""})]}),t.jsx("p",{className:"text-center text-orange-100",children:"This is demo content for testing purposes. No real gems will be awarded even if the interface suggests otherwise."})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("button",{onClick:()=>r("/earn"),className:"flex items-center justify-center w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors",children:t.jsx(ia,{className:"w-5 h-5 text-gray-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Drop Details ",z&&t.jsx("span",{className:"text-orange-600",children:"(Demo)"})]}),t.jsx("p",{className:"text-gray-600",children:z?"Demo earning opportunity - no real rewards":"Earning opportunity"})]}),N&&t.jsxs("div",{className:"flex space-x-3",children:[t.jsxs("button",{onClick:se,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[t.jsx(zg,{className:"w-4 h-4"}),t.jsx("span",{children:"Edit"})]}),t.jsxs("button",{onClick:()=>O(!0),className:"flex items-center space-x-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors",children:[t.jsx(Cl,{className:"w-4 h-4"}),t.jsx("span",{children:"Delete"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsx("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-200",children:t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:ee(n.drop_type),alt:n.title,className:"w-full h-64 object-cover"}),t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30"}),t.jsx("div",{className:"absolute top-4 right-4",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${H(n.difficulty)}`,children:n.difficulty})}),t.jsx("div",{className:"absolute top-4 left-4",children:n.is_proof_drop?t.jsx("div",{className:"bg-green-500/90 backdrop-blur-sm px-2 py-1 rounded-full",children:t.jsx("span",{className:"text-white text-sm font-medium",children:"Proof Drop"})}):n.is_paid_drop?t.jsx("div",{className:"bg-purple-500/90 backdrop-blur-sm px-2 py-1 rounded-full",children:t.jsx("span",{className:"text-white text-sm font-medium",children:"Paid Drop"})}):t.jsx("div",{className:"bg-orange-500/90 backdrop-blur-sm px-2 py-1 rounded-full",children:t.jsx("span",{className:"text-white text-sm font-medium",children:"Move Drop"})})}),t.jsxs("div",{className:"absolute bottom-4 left-4",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("span",{className:"text-3xl",children:L(n.drop_type)}),t.jsx("span",{className:"text-white bg-black bg-opacity-30 px-3 py-1 rounded-full text-sm font-medium",children:n.drop_type.replace(/_/g," ").replace(/\b\w/g,ae=>ae.toUpperCase())})]}),t.jsx("h1",{className:"text-3xl font-bold text-white drop-shadow-lg mb-1",children:n.title}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(er,{className:"w-6 h-6 text-purple-300 drop-shadow"}),t.jsx("p",{className:"text-2xl font-bold text-white drop-shadow-lg",children:n.gem_reward_base})]}),t.jsx("p",{className:"text-white/80 drop-shadow",children:"Gems reward"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Description"}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.description})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.requirements&&t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[t.jsx(et,{className:"w-5 h-5 text-green-600"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Requirements"})]}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.requirements})]}),n.deliverables&&t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[t.jsx(Kt,{className:"w-5 h-5 text-blue-600"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Deliverables"})]}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.deliverables})]})]}),o&&u&&t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[t.jsx(Ar,{className:"w-5 h-5 text-purple-600"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Master Key Status"})]}),t.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-purple-700",children:"Today's Master Key"}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u.is_activated?"text-green-600 bg-green-100":"text-orange-600 bg-orange-100"}`,children:u.is_activated?"Activated":"Not Activated"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-purple-700",children:"Proof Drops Completed"}),t.jsxs("span",{className:"text-sm font-medium text-purple-900",children:[u.proof_drops_completed,"/",u.proof_drops_required]})]})]}),!u.is_activated&&t.jsxs("p",{className:"text-sm text-purple-700",children:["Complete ",u.proof_drops_required-u.proof_drops_completed," more proof drops to activate your Master Key and unlock the ability to use Keys for drops."]})]}),o&&t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[t.jsx(mr,{className:"w-5 h-5 text-blue-600"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Balance"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx(Cn,{className:"w-4 h-4 text-orange-600"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Keys"})]}),t.jsx("p",{className:"text-xl font-bold text-gray-900",children:o.keys_balance})]}),t.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx(er,{className:"w-4 h-4 text-purple-600"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Gems"})]}),t.jsx("p",{className:"text-xl font-bold text-gray-900",children:o.gems_balance})]})]}),o.keys_balance<n.key_cost&&t.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsxs("p",{className:"text-sm text-red-700",children:["You need ",n.key_cost-o.keys_balance," more keys to apply for this drop."]})})]}),s?t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[t.jsx(Ls,{className:"w-5 h-5 text-blue-600"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Application"})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Status"}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${te(s.status)}`,children:s.status})]}),t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Applied"}),t.jsx("span",{className:"text-sm text-gray-900",children:new Date(s.applied_at).toLocaleDateString()})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Keys Used"}),t.jsx("span",{className:"text-sm text-gray-900",children:n.key_cost})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Your Message"}),t.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:s.application_message})]}),s.gems_earned>0&&t.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(er,{className:"w-4 h-4 text-green-600"}),t.jsxs("span",{className:"text-sm font-medium text-green-700",children:["Earned ",s.gems_earned," gems!"]})]})})]}):t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[t.jsx(Hr,{className:"w-5 h-5 text-orange-600"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Apply for this Drop"})]}),o&&(o.keys_balance<n.key_cost||!(u!=null&&u.is_activated))&&t.jsxs("div",{className:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Requirements not met:"}),t.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[o.keys_balance<n.key_cost&&t.jsxs("li",{children:[" Need ",n.key_cost-o.keys_balance," more keys"]}),!(u!=null&&u.is_activated)&&t.jsx("li",{children:" Master Key must be activated for today"})]})]}),t.jsxs("form",{onSubmit:G,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Why are you the right person for this drop?"}),t.jsx("textarea",{value:j,onChange:ae=>b(ae.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Tell us about your relevant experience and why you'd be perfect for this drop...",required:!0})]}),t.jsx("button",{type:"submit",disabled:y||!j.trim()||!o||o.keys_balance<n.key_cost||!(u!=null&&u.is_activated),className:`w-full px-6 py-3 rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-white ${z?"bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600":"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600"}`,children:y?"Submitting...":`${z?"Demo Apply":"Apply Now"} (${n.key_cost} keys)`})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Drop Information"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Cn,{className:"w-4 h-4 text-orange-600"}),t.jsx("span",{className:"text-gray-600",children:"Key Cost"})]}),t.jsx("span",{className:"font-bold text-orange-600",children:n.key_cost})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(er,{className:"w-4 h-4 text-purple-600"}),t.jsx("span",{className:"text-gray-600",children:"Gem Reward"})]}),t.jsx("span",{className:"font-bold text-purple-600",children:n.gem_reward_base})]}),n.gem_pool_total>0&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(mr,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"text-gray-600",children:"Pool Remaining"})]}),t.jsx("span",{className:"font-semibold text-gray-900",children:n.gem_pool_remaining})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(zt,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"text-gray-600",children:"Participants"})]}),t.jsxs("span",{className:"font-semibold text-gray-900",children:[n.current_participants,"/",n.max_participants||""]})]}),n.follower_threshold>0&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ue,{className:"w-4 h-4 text-yellow-600"}),t.jsx("span",{className:"text-gray-600",children:"Min. Followers"})]}),t.jsxs("span",{className:"font-semibold text-gray-900",children:[n.follower_threshold,"+"]})]}),n.time_commitment&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Kn,{className:"w-4 h-4 text-purple-600"}),t.jsx("span",{className:"text-gray-600",children:"Time"})]}),t.jsx("span",{className:"font-semibold text-gray-900",children:n.time_commitment})]}),n.deadline_at&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(la,{className:"w-4 h-4 text-red-600"}),t.jsx("span",{className:"text-gray-600",children:"Deadline"})]}),t.jsx("span",{className:"font-semibold text-gray-900",children:new Date(n.deadline_at).toLocaleDateString()})]})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Posted By"}),t.jsx(Pl,{username:n.creator_name,displayName:n.creator_name||"Drop Creator",avatarUrl:n.creator_avatar,className:"flex items-center space-x-3",size:"lg"}),t.jsx("div",{className:"mt-2",children:t.jsx("p",{className:"text-sm text-gray-600",children:"Verified creator"})}),t.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold text-gray-900",children:"12"}),t.jsx("p",{className:"text-xs text-gray-600",children:"Drops Posted"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-lg font-bold text-gray-900",children:"4.8"}),t.jsx("p",{className:"text-xs text-gray-600",children:"Avg Rating"})]})]})})]}),t.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-100",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(dr,{className:"w-5 h-5 text-blue-600"}),t.jsx("h3",{className:"font-semibold text-blue-900",children:"Pro Tips"})]}),t.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[t.jsx("li",{children:" Ensure you have enough keys before applying"}),t.jsx("li",{children:" Activate your Master Key daily"}),t.jsx("li",{children:" Read all requirements carefully"}),t.jsx("li",{children:" Submit high-quality work on time"}),t.jsx("li",{children:" Communicate with the drop creator"})]})]})]})]}),n&&C&&t.jsx(WZ,{isOpen:C,onClose:()=>_(!1),onSuccess:ne,drop:n}),t.jsx(Wm,{isOpen:P,onClose:()=>O(!1),onConfirm:U,title:"Delete Drop",message:"Are you sure you want to delete this drop? This action cannot be undone and will remove all applications.",confirmText:"Delete",cancelText:"Cancel",type:"danger",loading:E})]}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Drop not found"}),t.jsx("button",{onClick:()=>r("/earn"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Browse Drops"})]})}function va(...e){return e.filter(Boolean).join(" ")}const Yv=x.createContext(null);function SP({value:e,defaultValue:r,onValueChange:n,children:a,className:s}){const[i,o]=x.useState(r),d=e??i,u=x.useCallback(m=>{o(m),n==null||n(m)},[n]),h=x.useMemo(()=>({value:d,onSelect:u}),[d,u]);return t.jsx(Yv.Provider,{value:h,children:t.jsx("div",{className:s,children:a})})}function CP({children:e,className:r}){return t.jsx("div",{role:"tablist",className:r,children:e})}function gl({value:e,children:r,className:n}){const a=x.useContext(Yv);if(!a)throw new Error("TabsTrigger must be used within Tabs");const s=a.value===e;return t.jsx("button",{type:"button",role:"tab","data-state":s?"active":"inactive","aria-selected":s,className:va("inline-flex items-center border-b-2 border-transparent px-3 py-2 text-sm font-medium transition",s?"border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700",n),onClick:()=>a.onSelect(e),children:r})}function Au({value:e,children:r,className:n}){const a=x.useContext(Yv);if(!a)throw new Error("TabsContent must be used within Tabs");const s=a.value===e;return t.jsx("div",{role:"tabpanel","data-state":s?"active":"inactive",className:va(s?"block":"hidden",n),children:s?r:null})}const jk="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-500 disabled:opacity-50 disabled:pointer-events-none",Ft=x.forwardRef(({className:e="",type:r="button",asChild:n=!1,children:a,...s},i)=>n&&x.isValidElement(a)?x.cloneElement(a,{ref:i,className:`${jk} ${e} ${a.props.className||""}`.trim(),...s}):t.jsx("button",{ref:i,type:r,className:`${jk} ${e}`.trim(),...s,children:a}));Ft.displayName="Button";function HZ({isOpen:e,onClose:r,onSave:n,currentBrandData:a={},loading:s=!1}){const[i,o]=x.useState({brand_name:a.brand_name||"",brand_description:a.brand_description||"",brand_website:a.brand_website||"",brand_email:a.brand_email||"",brand_phone:a.brand_phone||""}),[d,u]=x.useState(null),[h,m]=x.useState(a.brand_logo_url||""),[p,y]=x.useState(!1),v=x.useRef(null),j=(C,_)=>{o(P=>({...P,[C]:_}))},b=C=>{var P;const _=(P=C.target.files)==null?void 0:P[0];if(_){if(!_.type.startsWith("image/")){alert("Please select an image file");return}if(_.size>5*1024*1024){alert("Please select an image smaller than 5MB");return}u(_);const O=new FileReader;O.onload=E=>{var T;m((T=E.target)==null?void 0:T.result)},O.readAsDataURL(_)}},N=async()=>{if(!d)return h||"";y(!0);try{const C=new FormData;C.append("image",d);const _=await fetch("/api/upload/image",{method:"POST",credentials:"include",body:C});return _.ok?(await _.json()).url||"":(console.error("Failed to upload logo"),"")}catch(C){return console.error("Error uploading logo:",C),""}finally{y(!1)}},S=async()=>{if(!i.brand_name.trim()){alert("Brand name is required");return}let C=h;if(d&&(C=await N(),!C.trim())){alert("Failed to upload logo. Please try again.");return}const _={...i,brand_logo_url:C||""};n(_)};return e?t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl flex items-center justify-center",children:t.jsx(lc,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Brand Profile"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Set up your brand representation"})]})]}),t.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Ze,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Brand Logo"}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-xl flex items-center justify-center overflow-hidden border-2 border-dashed border-gray-300",children:h?t.jsx("img",{src:h,alt:"Brand logo",className:"w-full h-full object-cover"}):t.jsx(dc,{className:"w-8 h-8 text-gray-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("button",{type:"button",onClick:()=>{var C;return(C=v.current)==null?void 0:C.click()},disabled:p,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 text-gray-700 px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[t.jsx(bi,{className:"w-4 h-4"}),t.jsx("span",{children:p?"Uploading...":"Upload Logo"})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 5MB. Square format recommended."})]})]}),t.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:b,className:"hidden"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"brand_name",className:"block text-sm font-medium text-gray-900 mb-2",children:"Brand Name *"}),t.jsxs("div",{className:"relative",children:[t.jsx(lc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{id:"brand_name",type:"text",value:i.brand_name,onChange:C=>j("brand_name",C.target.value),placeholder:"Enter your brand name",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"brand_description",className:"block text-sm font-medium text-gray-900 mb-2",children:"Brand Description"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ls,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),t.jsx("textarea",{id:"brand_description",value:i.brand_description,onChange:C=>j("brand_description",C.target.value),placeholder:"Describe your brand, mission, and values",rows:3,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"brand_website",className:"block text-sm font-medium text-gray-900 mb-2",children:"Website"}),t.jsxs("div",{className:"relative",children:[t.jsx(N0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{id:"brand_website",type:"url",value:i.brand_website,onChange:C=>j("brand_website",C.target.value),placeholder:"https://yourbrand.com",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"brand_email",className:"block text-sm font-medium text-gray-900 mb-2",children:"Brand Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(Oc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{id:"brand_email",type:"email",value:i.brand_email,onChange:C=>j("brand_email",C.target.value),placeholder:"contact@yourbrand.com",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"brand_phone",className:"block text-sm font-medium text-gray-900 mb-2",children:"Phone Number"}),t.jsxs("div",{className:"relative",children:[t.jsx(iS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{id:"brand_phone",type:"tel",value:i.brand_phone,onChange:C=>j("brand_phone",C.target.value),placeholder:"+1 (555) 123-4567",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),i.brand_name&&t.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Preview"}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center overflow-hidden border border-gray-200",children:h?t.jsx("img",{src:h,alt:"Brand logo",className:"w-full h-full object-cover"}):t.jsx(lc,{className:"w-6 h-6 text-gray-400"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:i.brand_name}),i.brand_description&&t.jsx("div",{className:"text-sm text-gray-600 line-clamp-1",children:i.brand_description})]})]})]})]}),t.jsxs("div",{className:"flex items-center justify-end space-x-4 p-6 border-t border-gray-200",children:[t.jsx("button",{onClick:r,className:"px-6 py-2 text-gray-700 hover:text-gray-900 font-medium transition-colors",children:"Cancel"}),t.jsx("button",{onClick:S,disabled:s||p||!i.brand_name.trim(),className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-6 py-2 rounded-xl font-medium transition-all duration-200 flex items-center space-x-2",children:s?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),t.jsx("span",{children:"Saving..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(_a,{className:"w-4 h-4"}),t.jsx("span",{children:"Save Brand Profile"})]})})]})]})}):null}function KZ({showHeader:e=!0,basePath:r="/campaigns"}){const[n,a]=x.useState([]),[s,i]=x.useState(!0),[o,d]=x.useState("");x.useEffect(()=>{(async()=>{try{i(!0),a([{id:"1",name:"Summer Collection Launch",status:"active",startDate:"2025-06-01",endDate:"2025-08-31",budget:5e3,spent:1250,impressions:125e3,clicks:2500,ctr:2,cpc:.5,drops:12,participants:2450},{id:"2",name:"Back to School",status:"draft",startDate:"2025-08-15",endDate:"2025-09-15",budget:3e3,spent:0,impressions:0,clicks:0,ctr:0,cpc:0,drops:0,participants:0}])}catch(v){console.error("Failed to fetch campaigns:",v),d("Failed to load campaigns. Please try again later.")}finally{i(!1)}})()},[]);const u=y=>{const v="px-2 py-1 rounded-full text-xs font-medium";switch(y){case"active":return`${v} bg-green-100 text-green-700`;case"paused":return`${v} bg-yellow-100 text-yellow-700`;case"completed":return`${v} bg-gray-100 text-gray-700`;case"draft":default:return`${v} bg-blue-100 text-blue-700`}},h=y=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(y),m=y=>new Intl.NumberFormat("en-US").format(y);if(s)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})});if(o)return t.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),t.jsx("div",{className:"ml-3",children:t.jsx("p",{className:"text-sm text-red-700",children:o})})]})});const p=`${r}/new`;return t.jsxs("div",{className:"space-y-6",children:[e&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Campaigns"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Create and manage your marketing campaigns"})]}),t.jsx(Ft,{asChild:!0,children:t.jsxs(Pt,{to:p,className:"flex items-center space-x-2",children:[t.jsx(Kr,{className:"h-4 w-4"}),t.jsx("span",{children:"New Campaign"})]})})]}),t.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:n.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Du,{className:"mx-auto h-12 w-12 text-gray-400"}),t.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No campaigns"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new campaign."}),t.jsx("div",{className:"mt-6",children:t.jsx(Ft,{asChild:!0,children:t.jsxs(Pt,{to:p,className:"inline-flex items-center",children:[t.jsx(Kr,{className:"-ml-1 mr-2 h-5 w-5"}),"New Campaign"]})})})]}):t.jsx("ul",{className:"divide-y divide-gray-200",children:n.map(y=>t.jsx("li",{className:"hover:bg-gray-50",children:t.jsx(Pt,{to:`${r}/${y.id}`,className:"block",children:t.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("p",{className:"text-lg font-medium text-indigo-600 truncate",children:y.name}),t.jsx("div",{className:"ml-2",children:t.jsx("span",{className:u(y.status),children:y.status.charAt(0).toUpperCase()+y.status.slice(1)})})]}),t.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:t.jsxs("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:[h(y.spent)," of ",h(y.budget)]})})]}),t.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[t.jsx("div",{className:"sm:flex",children:t.jsxs("p",{className:"flex items-center text-sm text-gray-500",children:[t.jsx(la,{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400"}),new Date(y.startDate).toLocaleDateString(),y.endDate&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"mx-1",children:"-"}),new Date(y.endDate).toLocaleDateString()]})]})}),t.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[t.jsx(zt,{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400"}),t.jsxs("p",{children:[m(y.participants)," participants"]}),t.jsx("span",{className:"mx-1",children:""}),t.jsx(ft,{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400"}),t.jsxs("p",{children:["CPC: ",h(y.cpc)]})]})]}),y.status!=="draft"&&t.jsxs("div",{className:"mt-2",children:[t.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Kt,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400"}),t.jsxs("span",{children:[m(y.impressions)," impressions"]})]}),t.jsxs("span",{className:"text-sm font-medium",children:[y.ctr.toFixed(1),"% CTR"]})]}),t.jsx("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.min(100,y.spent/y.budget*100)}%`}})})]})]})})},y.id))})})]})}function VZ(){var ne,Y;const{user:e}=Gr(),r=an(),n=ar(),[a,s]=x.useState(null),[i,o]=x.useState(null),[d,u]=x.useState([]),[h,m]=x.useState(!0),[p,y]=x.useState(null),[v,j]=x.useState(!0),[b,N]=x.useState(""),[S,C]=x.useState(!1),[_,P]=x.useState(!1),[O,E]=x.useState("dashboard");x.useEffect(()=>{e&&T()},[e]),x.useEffect(()=>{a&&($(),D())},[a]),x.useEffect(()=>{const K=()=>{!document.hidden&&e&&T()};return document.addEventListener("visibilitychange",K),()=>document.removeEventListener("visibilitychange",K)},[e]),x.useEffect(()=>{e&&T()},[r==null?void 0:r.pathname,e]),x.useEffect(()=>{const K=ie=>{ie.key==="advertiser_conversion"&&ie.newValue==="true"&&(localStorage.removeItem("advertiser_conversion"),T())};return window.addEventListener("storage",K),()=>window.removeEventListener("storage",K)},[]),x.useEffect(()=>{window.location.hash==="#converted"&&e&&(window.history.replaceState({},"",window.location.pathname),setTimeout(()=>{T()},500))},[e]);const T=async()=>{try{const K=Ht(),ie=await fetch("/api/users/me",{credentials:"include",headers:K});if(ie.ok){const ae=await ie.json();s(ae)}else console.error("Failed to fetch user data:",ie.status)}catch(K){console.error("Failed to fetch user data:",K),N("Failed to load user data"),j(!1)}},$=async()=>{try{const K=Ht(),ie=await fetch("/api/advertisers/dashboard",{credentials:"include",headers:K});if(ie.ok){const ae=await ie.json();o(ae)}else o({drops:[],analytics:[],user_tier:(a==null?void 0:a.user_tier)||"free"})}catch(K){console.error("Failed to fetch dashboard data:",K),o({drops:[],analytics:[],user_tier:(a==null?void 0:a.user_tier)||"free"})}finally{j(!1)}},D=async()=>{try{const K=Ht(),ie=await fetch("/api/advertisers/suggested-content",{credentials:"include",headers:K});if(ie.ok){const ae=await ie.json();u(Array.isArray(ae)?ae:[])}else u([])}catch(K){console.error("Failed to fetch suggested content:",K),u([])}finally{m(!1)}},z=K=>{switch(K){case"super":return{name:"Super Advertiser",color:"text-yellow-600 bg-yellow-50",inventory:"Weekly: 500 moves, 25 proof drops, 15 paid drops",features:["Premium analytics","Priority support","Custom targeting","Advanced reporting","Create proof & paid drops"]};case"premium":return{name:"Premium Advertiser",color:"text-purple-600 bg-purple-50",inventory:"Weekly: 200 moves, 15 proof drops, 8 paid drops",features:["Advanced analytics","Priority support","Custom targeting","Create proof & paid drops"]};default:return{name:"Free Advertiser",color:"text-gray-600 bg-gray-50",inventory:"Monthly Sample: 50 moves, 5 proof drops",features:["Basic analytics","Standard support","Create proof drops only","Sponsor content with gems"]}}},I=()=>i!=null&&i.drops?i.drops.reduce((K,ie)=>({totalDrops:K.totalDrops+1,totalParticipants:K.totalParticipants+(ie.total_applications||0),totalGems:K.totalGems+(ie.gems_paid||0)}),{totalDrops:0,totalParticipants:0,totalGems:0}):{totalDrops:0,totalParticipants:0,totalGems:0},M=Array.from({length:30},(ie,ae)=>{const J=new Date;return J.setDate(J.getDate()-(29-ae)),{date:J.toISOString().split("T")[0],applications:Math.floor(Math.random()*50)+10,conversions:Math.floor(Math.random()*20)+5,impressions:Math.floor(Math.random()*1e3)+200,clicks:Math.floor(Math.random()*100)+20,spent:Math.floor(Math.random()*500)+100,participants:Math.floor(Math.random()*30)+5}}),B=[{metric:"Click-through Rate",value:4.2},{metric:"Conversion Rate",value:12.8},{metric:"Engagement Rate",value:8.5},{metric:"Application Rate",value:15.3},{metric:"Completion Rate",value:78.9}],G=[{name:"Content Creation",value:45,color:"#f97316"},{name:"Social Sharing",value:30,color:"#8b5cf6"},{name:"Reviews",value:15,color:"#10b981"},{name:"Surveys",value:10,color:"#3b82f6"}],ee=z((i==null?void 0:i.user_tier)||"free"),L=I(),H=K=>y(K),te=K=>{const ie={"quick-boost":{name:"Quick Boost",gems:25,hours:1,multiplier:1.5},"popular-boost":{name:"Popular Boost",gems:50,hours:6,multiplier:2},"daily-featured":{name:"Daily Feature",gems:100,hours:24,multiplier:3},"premium-spotlight":{name:"Premium Spotlight",gems:200,hours:72,multiplier:4},"viral-campaign":{name:"Viral Campaign",gems:500,hours:168,multiplier:6}};return ie[K]||ie["quick-boost"]},se=async K=>{P(!0);try{const ie=await fetch("/api/users/brand-profile",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(K)});if(ie.ok)C(!1),T();else{const ae=await ie.json();alert(ae.error||"Failed to save brand profile")}}catch(ie){console.error("Error saving brand profile:",ie),alert("Failed to save brand profile")}finally{P(!1)}};x.useEffect(()=>{r.pathname==="/advertiser/campaigns"||r.pathname.startsWith("/advertiser/campaigns/")||r.pathname==="/campaigns"||r.pathname.startsWith("/campaigns/")?E("campaigns"):E("dashboard")},[r.pathname]);const U=K=>{n(K==="campaigns"?"/advertiser/campaigns":"/advertiser")};return v?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full"})}):b?t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[t.jsx("h2",{className:"text-xl font-semibold text-red-900 mb-2",children:"Error Loading Dashboard"}),t.jsx("p",{className:"text-red-700 mb-4",children:b}),t.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-xl font-medium transition-colors",children:"Refresh Page"})]})}):a?a.user_type!=="advertiser"?t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:t.jsx(uc,{className:"w-8 h-8 text-blue-600"})}),t.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-4",children:"Become an Advertiser"}),t.jsx("p",{className:"text-blue-700 mb-6 max-w-md mx-auto",children:"Your account is not yet set up for advertising. Click below to become an advertiser and start creating marketing campaigns."}),t.jsx(Pt,{to:"/advertiser/onboarding",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 rounded-xl font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:"Become an Advertiser"}),t.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Free to get started  No setup fees  Create your first campaign"})]})}):i?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"border-b border-gray-200",children:t.jsx(SP,{value:O,onValueChange:U,className:"w-full",children:t.jsxs(CP,{className:"bg-transparent p-0 rounded-none",children:[t.jsxs(gl,{value:"dashboard",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:shadow-none rounded-none px-4 py-3 text-sm font-medium",children:[t.jsx(yT,{className:"mr-2 h-4 w-4"}),"Dashboard"]}),t.jsxs(gl,{value:"campaigns",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:shadow-none rounded-none px-4 py-3 text-sm font-medium",children:[t.jsx(uc,{className:"mr-2 h-4 w-4"}),"Campaigns"]})]})})}),O==="campaigns"?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Campaigns"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Manage your marketing campaigns and track performance"})]}),t.jsxs(Ft,{onClick:()=>n("/campaigns/new"),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 transition-all duration-200",children:[t.jsx(WA,{className:"w-4 h-4"}),t.jsx("span",{children:"New Campaign"})]})]}),t.jsx(KZ,{showHeader:!1,basePath:"/advertiser/campaigns"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center space-x-4",children:t.jsx("div",{children:a!=null&&a.brand_name?t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center overflow-hidden border border-gray-200",children:a!=null&&a.brand_logo_url?t.jsx("img",{src:a.brand_logo_url,alt:"Brand logo",className:"w-full h-full object-cover"}):t.jsx(lc,{className:"w-6 h-6 text-gray-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a.brand_name}),t.jsx("button",{onClick:()=>C(!0),className:"text-gray-400 hover:text-gray-600 transition-colors",title:"Edit brand profile",children:t.jsx(zg,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-gray-600",children:(a==null?void 0:a.brand_description)||"Manage your campaigns and track performance"})]})]}):t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Advertiser Dashboard"}),t.jsxs("button",{onClick:()=>C(!0),className:"bg-blue-100 hover:bg-blue-200 text-blue-600 px-3 py-1 rounded-lg text-sm font-medium transition-colors flex items-center space-x-1",children:[t.jsx(lc,{className:"w-4 h-4"}),t.jsx("span",{children:"Set up brand"})]})]}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your campaigns and track performance"})]})})}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`px-4 py-2 rounded-lg ${ee.color}`,children:t.jsx("span",{className:"font-medium",children:ee.name})}),t.jsx("button",{onClick:()=>C(!0),className:"text-gray-400 hover:text-gray-600 transition-colors p-2 rounded-lg hover:bg-gray-100",title:"Brand settings",children:t.jsx(Fg,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sample Inventory"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Use monthly samples to test promotions before upgrading"})]}),t.jsx("div",{className:"bg-orange-100 text-orange-600 px-3 py-1 rounded-full text-xs font-medium",children:"Monthly"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Moves"}),t.jsxs("p",{className:"text-xl font-semibold text-gray-900",children:[((ne=i==null?void 0:i.monthly_inventory)==null?void 0:ne.moves_used)??0,"/50"]})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Proof Drops"}),t.jsxs("p",{className:"text-xl font-semibold text-gray-900",children:[((Y=i==null?void 0:i.monthly_inventory)==null?void 0:Y.proof_drops_used)??0,"/5"]})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Paid Drops"}),t.jsx("p",{className:"text-xl font-semibold text-gray-900",children:"Upgrade"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Weekly Allocation"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Upgrade to unlock weekly inventory packs"})]}),t.jsx("div",{className:"bg-purple-100 text-purple-600 px-3 py-1 rounded-full text-xs font-medium",children:"Upgrade"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Moves"}),t.jsx("p",{className:"text-xl font-semibold text-gray-900",children:"200"}),t.jsx("span",{className:"text-xs text-gray-500",children:"Premium tier"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Proof Drops"}),t.jsx("p",{className:"text-xl font-semibold text-gray-900",children:"15"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Paid Drops"}),t.jsx("p",{className:"text-xl font-semibold text-gray-900",children:"8"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(Wr,{title:"Total Drops",value:L.totalDrops,change:12,changeType:"increase",icon:t.jsx(Nl,{className:"w-5 h-5"}),trend:M.slice(-7).map(K=>({date:K.date,value:Math.floor(Math.random()*20)+5}))}),t.jsx(Wr,{title:"Total Participants",value:L.totalParticipants.toLocaleString(),change:8,changeType:"increase",icon:t.jsx(zt,{className:"w-5 h-5"}),trend:M.slice(-7).map(K=>({date:K.date,value:K.participants}))}),t.jsx(Wr,{title:"Gems Distributed",value:L.totalGems.toFixed(1),change:15,changeType:"increase",icon:t.jsx(er,{className:"w-5 h-5"}),trend:M.slice(-7).map(K=>({date:K.date,value:K.spent}))}),t.jsx(Wr,{title:"Avg. Engagement",value:`${i.analytics.length>0?(i.analytics.reduce((K,ie)=>K+(ie.engagement_rate||0),0)/i.analytics.length).toFixed(1):"8.5"}%`,change:3,changeType:"increase",icon:t.jsx(at,{className:"w-5 h-5"}),trend:M.slice(-7).map(K=>({date:K.date,value:Math.floor(Math.random()*20)+5}))})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:t.jsx(mc,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Suggested Content to Sponsor"}),t.jsx("p",{className:"text-sm text-gray-600",children:"High-performing content perfect for your brand"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[t.jsx(oa,{className:"w-4 h-4"}),t.jsx("span",{children:"Last updated just now"})]})]})}),t.jsx("div",{className:"p-6",children:h?t.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading suggestions..."}):d.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.slice(0,6).map(K=>{const ie=te(K.suggested_package);return t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-purple-300 transition-colors",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("span",{className:"text-xs font-medium text-purple-600 bg-purple-50 px-2 py-1 rounded-full",children:K.platform}),K.is_trending&&t.jsx("span",{className:"text-xs font-medium text-orange-600 bg-orange-50 px-2 py-1 rounded-full",children:"Trending"})]}),t.jsx("h4",{className:"font-semibold text-gray-900",children:K.title}),t.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mt-1",children:K.description})]}),t.jsx("button",{className:"text-gray-400 hover:text-gray-600 transition-colors",onClick:()=>window.open(K.platform_url,"_blank"),children:t.jsx(oa,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center text-sm mb-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:K.total_engagement}),t.jsx("p",{className:"text-xs text-gray-500",children:"Engagement"})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold text-gray-900",children:[K.engagement_rate,"%"]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Eng. Rate"})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold text-gray-900",children:[K.roi_potential,"%"]}),t.jsx("p",{className:"text-xs text-gray-500",children:"ROI Potential"})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:[t.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Suggested Package:"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:ie.name}),t.jsxs("div",{className:"text-xs text-gray-500",children:[ie.hours,"h  ",ie.multiplier,"x boost"]})]}),t.jsxs("div",{className:"flex items-center space-x-1 text-purple-600 font-semibold",children:[t.jsx(er,{className:"w-3 h-3"}),t.jsx("span",{children:ie.gems})]})]})]}),t.jsx("button",{onClick:()=>H(K),className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white py-2 px-4 rounded-lg font-medium transition-all duration-200 text-sm",children:"Sponsor This Content"})]},K.id)})}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(mc,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No suggestions available"}),t.jsx("p",{className:"text-gray-600",children:"We'll find great content for you to sponsor soon!"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Campaign Performance"}),t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[t.jsx(la,{className:"w-4 h-4"}),t.jsx("span",{children:"Last 30 days"})]})]}),t.jsx(hZ,{data:M,height:300,metrics:[{key:"applications",name:"Applications",color:"#f97316"},{key:"conversions",name:"Conversions",color:"#10b981"},{key:"clicks",name:"Clicks",color:"#3b82f6"}]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Drop Type Distribution"}),t.jsx(Vv,{data:G,height:300})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Key Performance Indicators"}),t.jsx(NP,{data:B,height:300})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Spending & Engagement Trends"}),t.jsx(Gv,{data:M.map(K=>({date:K.date,value:K.spent,secondary:K.impressions/10})),height:300,primaryKey:"value",secondaryKey:"secondary",primaryColor:"#f97316",secondaryColor:"#8b5cf6"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Real-time Campaign Metrics"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[t.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[t.jsx(Us,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-blue-900",children:"24.3K"}),t.jsx("p",{className:"text-sm text-blue-600",children:"Impressions"})]}),t.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[t.jsx(RT,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-green-900",children:"1.2K"}),t.jsx("p",{className:"text-sm text-green-600",children:"Clicks"})]}),t.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[t.jsx(Kt,{className:"w-6 h-6 text-purple-600 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-purple-900",children:"156"}),t.jsx("p",{className:"text-sm text-purple-600",children:"Applications"})]}),t.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[t.jsx(zt,{className:"w-6 h-6 text-orange-600 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-orange-900",children:"89"}),t.jsx("p",{className:"text-sm text-orange-600",children:"Conversions"})]}),t.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[t.jsx(ft,{className:"w-6 h-6 text-yellow-600 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:"$0.78"}),t.jsx("p",{className:"text-sm text-yellow-600",children:"Cost/Convert"})]}),t.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[t.jsx(at,{className:"w-6 h-6 text-red-600 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-red-900",children:"4.2%"}),t.jsx("p",{className:"text-sm text-red-600",children:"CTR"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Drops"}),a&&a.user_type==="advertiser"&&t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("button",{onClick:()=>window.location.href="/earn?create=proof",className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 transition-all duration-200",children:[t.jsx(Kr,{className:"w-4 h-4"}),t.jsx("span",{children:"Create Proof Drop"})]}),(i==null?void 0:i.user_tier)!=="free"&&t.jsxs("button",{onClick:()=>window.location.href="/earn?create=paid",className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 transition-all duration-200",children:[t.jsx(Kr,{className:"w-4 h-4"}),t.jsx("span",{children:"Create Paid Drop"})]})]})]})}),t.jsx("div",{className:"p-6",children:i.drops.length>0?t.jsx("div",{className:"space-y-4",children:i.drops.slice(0,5).map(K=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:K.title}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:K.description}),t.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[t.jsxs("span",{className:"flex items-center space-x-1",children:[t.jsx(zt,{className:"w-4 h-4"}),t.jsxs("span",{children:[K.total_applications||0," applicants"]})]}),t.jsxs("span",{className:"flex items-center space-x-1",children:[t.jsx(er,{className:"w-4 h-4"}),t.jsxs("span",{children:[K.gem_reward_base," gems"]})]}),t.jsxs("span",{className:"flex items-center space-x-1",children:[t.jsx(la,{className:"w-4 h-4"}),t.jsx("span",{children:new Date(K.created_at).toLocaleDateString()})]})]})]}),t.jsx("div",{className:"flex items-center space-x-2",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${K.status==="active"?"text-green-600 bg-green-100":"text-gray-600 bg-gray-100"}`,children:K.status})})]},K.id))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Nl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No drops yet"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first drop to start engaging with creators."}),a&&a.user_type==="advertiser"&&t.jsx("button",{onClick:()=>window.location.href="/earn?create=proof",className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-6 py-2 rounded-lg font-medium",children:"Create Your First Drop"})]})})]}),i.analytics.length>0&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance Analytics"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Period"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Drops"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Participants"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gems Spent"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Impressions"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Engagement"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.analytics.slice(0,10).map(K=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[new Date(K.period_start).toLocaleDateString()," -"," ",new Date(K.period_end).toLocaleDateString()]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:K.drops_created}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:K.total_participants}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:K.gems_spent.toFixed(1)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:K.impressions.toLocaleString()}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[K.engagement_rate.toFixed(1),"%"]})]},K.id))})]})})]})]}),p&&t.jsx(_P,{isOpen:!0,onClose:()=>y(null),onSponsor:async(K,ie,ae)=>{try{(await fetch("/api/content/sponsor",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({contentId:p.id,gemAmount:K,boostMultiplier:ie,durationHours:ae})})).ok?(y(null),D()):console.error("Failed to sponsor content")}catch(J){console.error("Error sponsoring content:",J)}},contentTitle:p.title,userGems:(a==null?void 0:a.gems_balance)||0}),t.jsx(HZ,{isOpen:S,onClose:()=>C(!1),onSave:se,currentBrandData:a,loading:_})]}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(zt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Loading Dashboard..."}),t.jsx("p",{className:"text-gray-600",children:"Please wait while we load your advertiser dashboard."})]}):null}function GZ(){const{user:e,demoLogin:r}=Gr(),n=ar(),[a,s]=x.useState(!1),[i,o]=x.useState(null),d=async()=>{if(!e){n("/?error=auth_required");return}s(!0),o(null);try{const h=await fetch("/api/users/become-advertiser",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")||""}`},credentials:"include"});if(h.ok){const m=await h.json();if(m.token&&m.user){localStorage.setItem("authToken",m.token),localStorage.setItem("advertiser_conversion","true"),window.location.href="/advertiser#converted";return}localStorage.setItem("advertiser_conversion","true"),window.location.href="/advertiser#converted"}else{const m=await h.json();o(m.error||"Failed to become advertiser")}}catch(h){console.error("Error becoming advertiser:",h),o("Network error occurred")}finally{s(!1)}},u={free:{name:"Free Advertiser",color:"text-gray-600 bg-gray-50 border-gray-200",inventory:"Monthly Sample: 50 moves, 5 proof drops",features:["Basic analytics","Standard support","Create proof drops only","Sponsor any content with gems"]},premium:{name:"Premium Advertiser",color:"text-purple-600 bg-purple-50 border-purple-200",inventory:"Weekly: 200 moves, 15 proof drops, 8 paid drops",features:["Advanced analytics","Priority support","Custom targeting","Create proof & paid drops","Sponsor content with gems"]},super:{name:"Super Advertiser",color:"text-yellow-600 bg-yellow-50 border-yellow-200",inventory:"Weekly: 500 moves, 25 proof drops, 15 paid drops",features:["Premium analytics","Priority support","Custom targeting","Advanced reporting","Create proof & paid drops","Sponsor content with gems"]}};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-red-50 to-purple-50",children:[t.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-orange-500 to-red-500",children:[t.jsx("div",{className:"absolute inset-0 bg-black/10"}),t.jsx("div",{className:"relative z-10 px-6 py-20",children:t.jsxs("div",{className:"max-w-4xl mx-auto text-center text-white",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center",children:t.jsx(uc,{className:"w-8 h-8"})})}),t.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:"Advertise on Promorang"}),t.jsx("p",{className:"text-xl md:text-2xl mb-8 text-orange-100 max-w-3xl mx-auto",children:"Connect with thousands of creators and build authentic campaigns that drive real engagement"}),t.jsxs("div",{className:"flex items-center justify-center space-x-8 text-orange-100",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(zt,{className:"w-5 h-5"}),t.jsx("span",{children:"50k+ Active Creators"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(at,{className:"w-5 h-5"}),t.jsx("span",{children:"95% Completion Rate"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ue,{className:"w-5 h-5"}),t.jsx("span",{children:"4.9 Average Rating"})]})]})]})})]}),t.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-16",children:[t.jsxs("div",{className:"mb-16",children:[t.jsx("h2",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:"Why Choose Promorang for Advertising?"}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-200 hover:shadow-lg transition-shadow",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mb-6",children:t.jsx(Kt,{className:"w-6 h-6 text-blue-600"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Moves & Proof System"}),t.jsx("p",{className:"text-gray-600",children:'Create "moves" that help users earn keys for their Master Key progression, and "proof drops" that contribute to daily activation requirements.'})]}),t.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-200 hover:shadow-lg transition-shadow",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mb-6",children:t.jsx(Nl,{className:"w-6 h-6 text-green-600"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Flexible Inventory System"}),t.jsx("p",{className:"text-gray-600",children:"Start with free monthly samples, then upgrade to weekly inventory allocations for moves, proof drops, and paid opportunities."})]}),t.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-200 hover:shadow-lg transition-shadow",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center mb-6",children:t.jsx(ft,{className:"w-6 h-6 text-purple-600"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Gem Sponsorship System"}),t.jsx("p",{className:"text-gray-600",children:"All advertisers can allocate gems to sponsor any content, boosting visibility and engagement regardless of tier level."})]})]})]}),t.jsxs("div",{className:"mb-16",children:[t.jsx("h2",{className:"text-4xl font-bold text-center text-gray-900 mb-4",children:"Advertiser Tiers"}),t.jsx("p",{className:"text-center text-gray-600 mb-12 text-lg",children:"Choose the tier that matches your advertising needs and scale"}),t.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:Object.entries(u).map(([h,m])=>t.jsxs("div",{className:`border-2 rounded-2xl p-8 ${m.color} relative`,children:[h==="premium"&&t.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:t.jsx("span",{className:"bg-purple-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Most Popular"})}),t.jsxs("div",{className:"text-center mb-6",children:[t.jsxs("div",{className:"flex justify-center mb-4",children:[h==="free"&&t.jsx(mr,{className:"w-8 h-8 text-gray-600"}),h==="premium"&&t.jsx(Ue,{className:"w-8 h-8 text-purple-600"}),h==="super"&&t.jsx(Sn,{className:"w-8 h-8 text-yellow-600"})]}),t.jsx("h3",{className:"text-2xl font-bold mb-2",children:m.name}),t.jsx("p",{className:"text-lg font-semibold",children:m.inventory}),t.jsx("p",{className:"text-sm opacity-75",children:h==="free"?"Sample inventory allocation":"Weekly inventory allocation"})]}),t.jsx("ul",{className:"space-y-3 mb-6",children:m.features.map((p,y)=>t.jsxs("li",{className:"flex items-center space-x-2",children:[t.jsx(et,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),t.jsx("span",{className:"text-sm",children:p})]},y))}),h==="free"&&t.jsx("p",{className:"text-xs opacity-75 text-center",children:"Free tier can create proof drops and sponsor content. Upgrade to create paid drops."})]},h))})]}),t.jsxs("div",{className:"mb-16",children:[t.jsx("h2",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:"How It Works"}),t.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-white font-bold text-xl",children:"1"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Create Campaigns"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Set up drops with your requirements, budget, and target audience"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-white font-bold text-xl",children:"2"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Creators Apply"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Qualified creators apply to your campaigns with their proposals"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-white font-bold text-xl",children:"3"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Review & Approve"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Review submissions and approve the best content for your brand"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-white font-bold text-xl",children:"4"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Track Results"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Monitor performance and measure ROI with detailed analytics"})]})]})]}),t.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-12 text-center",children:t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Ready to Start Advertising?"}),t.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Join hundreds of brands already using Promorang to create authentic, high-performing campaigns"}),i&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-6",children:t.jsx("p",{className:"text-sm text-red-700",children:i})}),t.jsx("button",{onClick:d,disabled:a,className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold px-8 py-4 rounded-xl text-lg transition-all duration-200 transform hover:scale-105 shadow-lg flex items-center space-x-2 mx-auto",children:a?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),t.jsx("span",{children:"Setting up your account..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"Become an Advertiser"}),t.jsx(Bs,{className:"w-5 h-5"})]})}),t.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Free to get started  No setup fees  Pay only for completed work"})]})})]})]})}function ma(e){const r=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&r==="[object Date]"?new e.constructor(+e):typeof e=="number"||r==="[object Number]"||typeof e=="string"||r==="[object String]"?new Date(e):new Date(NaN)}function Li(e,r){return e instanceof Date?new e.constructor(r):new Date(r)}const PP=6048e5,YZ=864e5;let ZZ={};function Df(){return ZZ}function Cc(e,r){var d,u,h,m;const n=Df(),a=(r==null?void 0:r.weekStartsOn)??((u=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,s=ma(e),i=s.getDay(),o=(i<a?7:0)+i-a;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function zm(e){return Cc(e,{weekStartsOn:1})}function EP(e){const r=ma(e),n=r.getFullYear(),a=Li(e,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=zm(a),i=Li(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=zm(i);return r.getTime()>=s.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function wk(e){const r=ma(e);return r.setHours(0,0,0,0),r}function Nk(e){const r=ma(e),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+e-+n}function XZ(e,r){const n=wk(e),a=wk(r),s=+n-Nk(n),i=+a-Nk(a);return Math.round((s-i)/YZ)}function JZ(e){const r=EP(e),n=Li(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),zm(n)}function QZ(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function eX(e){if(!QZ(e)&&typeof e!="number")return!1;const r=ma(e);return!isNaN(Number(r))}function tX(e){const r=ma(e),n=Li(e,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}const rX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nX=(e,r,n)=>{let a;const s=rX[e];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function m0(e){return(r={})=>{const n=r.width?String(r.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const aX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lX={date:m0({formats:aX,defaultWidth:"full"}),time:m0({formats:sX,defaultWidth:"full"}),dateTime:m0({formats:iX,defaultWidth:"full"})},oX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cX=(e,r,n,a)=>oX[e];function tc(e){return(r,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,d=n!=null&&n.width?String(n.width):o;s=e.formattingValues[d]||e.formattingValues[o]}else{const o=e.defaultWidth,d=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[d]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(r):r;return s[i]}}const dX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xX=(e,r)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},gX={ordinalNumber:xX,era:tc({values:dX,defaultWidth:"wide"}),quarter:tc({values:uX,defaultWidth:"wide",argumentCallback:e=>e-1}),month:tc({values:mX,defaultWidth:"wide"}),day:tc({values:fX,defaultWidth:"wide"}),dayPeriod:tc({values:hX,defaultWidth:"wide",formattingValues:pX,defaultFormattingWidth:"wide"})};function rc(e){return(r,n={})=>{const a=n.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=r.match(s);if(!i)return null;const o=i[0],d=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(d)?vX(d,p=>p.test(o)):yX(d,p=>p.test(o));let h;h=e.valueCallback?e.valueCallback(u):u,h=n.valueCallback?n.valueCallback(h):h;const m=r.slice(o.length);return{value:h,rest:m}}}function yX(e,r){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r(e[n]))return n}function vX(e,r){for(let n=0;n<e.length;n++)if(r(e[n]))return n}function bX(e){return(r,n={})=>{const a=r.match(e.matchPattern);if(!a)return null;const s=a[0],i=r.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const d=r.slice(s.length);return{value:o,rest:d}}}const jX=/^(\d+)(th|st|nd|rd)?/i,wX=/\d+/i,NX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_X={any:[/^b/i,/^(a|c)/i]},kX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},SX={any:[/1/i,/2/i,/3/i,/4/i]},CX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},PX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},EX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},OX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},AX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MX={ordinalNumber:bX({matchPattern:jX,parsePattern:wX,valueCallback:e=>parseInt(e,10)}),era:rc({matchPatterns:NX,defaultMatchWidth:"wide",parsePatterns:_X,defaultParseWidth:"any"}),quarter:rc({matchPatterns:kX,defaultMatchWidth:"wide",parsePatterns:SX,defaultParseWidth:"any",valueCallback:e=>e+1}),month:rc({matchPatterns:CX,defaultMatchWidth:"wide",parsePatterns:PX,defaultParseWidth:"any"}),day:rc({matchPatterns:EX,defaultMatchWidth:"wide",parsePatterns:OX,defaultParseWidth:"any"}),dayPeriod:rc({matchPatterns:AX,defaultMatchWidth:"any",parsePatterns:TX,defaultParseWidth:"any"})},DX={code:"en-US",formatDistance:nX,formatLong:lX,formatRelative:cX,localize:gX,match:MX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $X(e){const r=ma(e);return XZ(r,tX(r))+1}function IX(e){const r=ma(e),n=+zm(r)-+JZ(r);return Math.round(n/PP)+1}function OP(e,r){var m,p,y,v;const n=ma(e),a=n.getFullYear(),s=Df(),i=(r==null?void 0:r.firstWeekContainsDate)??((p=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(y=s.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??1,o=Li(e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const d=Cc(o,r),u=Li(e,0);u.setFullYear(a,0,i),u.setHours(0,0,0,0);const h=Cc(u,r);return n.getTime()>=d.getTime()?a+1:n.getTime()>=h.getTime()?a:a-1}function LX(e,r){var d,u,h,m;const n=Df(),a=(r==null?void 0:r.firstWeekContainsDate)??((u=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,s=OP(e,r),i=Li(e,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),Cc(i,r)}function RX(e,r){const n=ma(e),a=+Cc(n,r)-+LX(n,r);return Math.round(a/PP)+1}function ut(e,r){const n=e<0?"-":"",a=Math.abs(e).toString().padStart(r,"0");return n+a}const Os={y(e,r){const n=e.getFullYear(),a=n>0?n:1-n;return ut(r==="yy"?a%100:a,r.length)},M(e,r){const n=e.getMonth();return r==="M"?String(n+1):ut(n+1,2)},d(e,r){return ut(e.getDate(),r.length)},a(e,r){const n=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,r){return ut(e.getHours()%12||12,r.length)},H(e,r){return ut(e.getHours(),r.length)},m(e,r){return ut(e.getMinutes(),r.length)},s(e,r){return ut(e.getSeconds(),r.length)},S(e,r){const n=r.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,n-3));return ut(s,r.length)}},hl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_k={G:function(e,r,n){const a=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return Os.y(e,r)},Y:function(e,r,n,a){const s=OP(e,a),i=s>0?s:1-s;if(r==="YY"){const o=i%100;return ut(o,2)}return r==="Yo"?n.ordinalNumber(i,{unit:"year"}):ut(i,r.length)},R:function(e,r){const n=EP(e);return ut(n,r.length)},u:function(e,r){const n=e.getFullYear();return ut(n,r.length)},Q:function(e,r,n){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return ut(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,n){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return ut(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,n){const a=e.getMonth();switch(r){case"M":case"MM":return Os.M(e,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,n){const a=e.getMonth();switch(r){case"L":return String(a+1);case"LL":return ut(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,n,a){const s=RX(e,a);return r==="wo"?n.ordinalNumber(s,{unit:"week"}):ut(s,r.length)},I:function(e,r,n){const a=IX(e);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):ut(a,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Os.d(e,r)},D:function(e,r,n){const a=$X(e);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):ut(a,r.length)},E:function(e,r,n){const a=e.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,n,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return ut(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,r,n,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return ut(i,r.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,r,n){const a=e.getDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return ut(s,r.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,n){const s=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,r,n){const a=e.getHours();let s;switch(a===12?s=hl.noon:a===0?s=hl.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,r,n){const a=e.getHours();let s;switch(a>=17?s=hl.evening:a>=12?s=hl.afternoon:a>=4?s=hl.morning:s=hl.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){let a=e.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Os.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Os.H(e,r)},K:function(e,r,n){const a=e.getHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):ut(a,r.length)},k:function(e,r,n){let a=e.getHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):ut(a,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Os.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Os.s(e,r)},S:function(e,r){return Os.S(e,r)},X:function(e,r,n){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return Sk(a);case"XXXX":case"XX":return fi(a);case"XXXXX":case"XXX":default:return fi(a,":")}},x:function(e,r,n){const a=e.getTimezoneOffset();switch(r){case"x":return Sk(a);case"xxxx":case"xx":return fi(a);case"xxxxx":case"xxx":default:return fi(a,":")}},O:function(e,r,n){const a=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+kk(a,":");case"OOOO":default:return"GMT"+fi(a,":")}},z:function(e,r,n){const a=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+kk(a,":");case"zzzz":default:return"GMT"+fi(a,":")}},t:function(e,r,n){const a=Math.trunc(e.getTime()/1e3);return ut(a,r.length)},T:function(e,r,n){const a=e.getTime();return ut(a,r.length)}};function kk(e,r=""){const n=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),i=a%60;return i===0?n+String(s):n+String(s)+r+ut(i,2)}function Sk(e,r){return e%60===0?(e>0?"-":"+")+ut(Math.abs(e)/60,2):fi(e,r)}function fi(e,r=""){const n=e>0?"-":"+",a=Math.abs(e),s=ut(Math.trunc(a/60),2),i=ut(a%60,2);return n+s+r+i}const Ck=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},AP=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},FX=(e,r)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return Ck(e,r);let i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",Ck(a,r)).replace("{{time}}",AP(s,r))},zX={p:AP,P:FX},BX=/^D+$/,UX=/^Y+$/,WX=["D","DD","YY","YYYY"];function qX(e){return BX.test(e)}function HX(e){return UX.test(e)}function KX(e,r,n){const a=VX(e,r,n);if(console.warn(a),WX.includes(e))throw new RangeError(a)}function VX(e,r,n){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const GX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,YX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ZX=/^'([^]*?)'?$/,XX=/''/g,JX=/[a-zA-Z]/;function QX(e,r,n){var m,p,y,v;const a=Df(),s=a.locale??DX,i=a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=a.weekStartsOn??((v=(y=a.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??0,d=ma(e);if(!eX(d))throw new RangeError("Invalid time value");let u=r.match(YX).map(j=>{const b=j[0];if(b==="p"||b==="P"){const N=zX[b];return N(j,s.formatLong)}return j}).join("").match(GX).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const b=j[0];if(b==="'")return{isToken:!1,value:eJ(j)};if(_k[b])return{isToken:!0,value:j};if(b.match(JX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:j}});s.localize.preprocessor&&(u=s.localize.preprocessor(d,u));const h={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return u.map(j=>{if(!j.isToken)return j.value;const b=j.value;(HX(b)||qX(b))&&KX(b,r,String(e));const N=_k[b[0]];return N(d,b,s.localize,h)}).join("")}function eJ(e){const r=e.match(ZX);return r?r[1].replace(XX,"'"):e}const Pk={active:"bg-green-100 text-green-800",paused:"bg-yellow-100 text-yellow-800",draft:"bg-blue-100 text-blue-800",completed:"bg-gray-100 text-gray-800"};function tJ(){const{id:e}=Kl(),r=ar(),[n,a]=x.useState(null),[s,i]=x.useState([]),[o,d]=x.useState(!0),[u,h]=x.useState(""),[m,p]=x.useState("overview"),[y,v]=x.useState(!1);x.useEffect(()=>{(async()=>{try{d(!0),await new Promise(z=>setTimeout(z,500));const $={id:e||"1",name:"Summer Collection Launch",status:"active",objective:"engagement",description:"Promoting our new summer collection to drive engagement and sales.",startDate:"2025-06-01",endDate:"2025-08-31",budget:5e3,spent:1250,dailyBudget:100,impressions:125e3,clicks:2500,ctr:2,cpc:.5,drops:12,participants:2450,bidStrategy:"lowest_cost",bidAmount:5,targetCtr:2,targetCpc:.5,createdAt:"2025-05-15T10:30:00Z",updatedAt:"2025-06-15T14:45:00Z"},D=[{id:"c1",title:"Summer Lookbook",platform:"Instagram",creator:"fashion_influencer",status:"live",budget:1e3,spent:450,impressions:5e4,clicks:1200,ctr:2.4,cpc:.38,startDate:"2025-06-01",endDate:"2025-06-30"},{id:"c2",title:"Beachwear Showcase",platform:"TikTok",creator:"beachvibes",status:"live",budget:1500,spent:800,impressions:75e3,clicks:1300,ctr:1.7,cpc:.62,startDate:"2025-06-05",endDate:"2025-07-05"}];a($),i(D)}catch($){console.error("Failed to fetch campaign:",$),h("Failed to load campaign details. Please try again later.")}finally{d(!1)}})()},[e]);const j=async T=>{if(n)try{v(!0),await new Promise($=>setTimeout($,500)),a({...n,status:T,updatedAt:new Date().toISOString()})}catch($){console.error("Failed to update campaign status:",$)}finally{v(!1)}},b=T=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(T),N=T=>new Intl.NumberFormat("en-US").format(T),S=T=>QX(new Date(T),"MMM d, yyyy"),C=T=>{const $=new Date,z=new Date(T).getTime()-$.getTime();return Math.ceil(z/(1e3*60*60*24))};if(o)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})});if(u)return t.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),t.jsx("div",{className:"ml-3",children:t.jsx("p",{className:"text-sm text-red-700",children:u})})]})});if(!n)return t.jsxs("div",{className:"text-center py-12",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Campaign not found"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The requested campaign could not be found."}),t.jsx("div",{className:"mt-6",children:t.jsxs(Ft,{onClick:()=>r(-1),variant:"outline",children:[t.jsx(ia,{className:"-ml-1 mr-2 h-4 w-4"}),"Back to Campaigns"]})})]});const _=n.endDate?C(n.endDate):null,P=n.spent/n.budget*100,O=n.spent/(Math.ceil((new Date().getTime()-new Date(n.startDate).getTime())/(1e3*60*60*24))||1),E=n.dailyBudget>0?new Date(Date.now()+(n.budget-n.spent)/n.dailyBudget*24*60*60*1e3):null;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(Ft,{variant:"outline",size:"icon",onClick:()=>r(-1),className:"h-8 w-8",children:[t.jsx(ia,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Back"})]}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.name}),t.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Pk[n.status]}`,children:n.status.charAt(0).toUpperCase()+n.status.slice(1)}),t.jsxs("span",{className:"text-sm text-gray-500",children:[S(n.startDate),n.endDate&&` - ${S(n.endDate)}`,_!==null&&t.jsxs("span",{className:"ml-1",children:["(",_>0?`${_} days left`:"Ended",")"]})]})]})]})]}),t.jsxs("div",{className:"flex space-x-2",children:[n.status==="active"&&t.jsxs(Ft,{variant:"outline",onClick:()=>j("paused"),disabled:y,children:[t.jsx(UT,{className:"mr-2 h-4 w-4"}),"Pause"]}),(n.status==="paused"||n.status==="draft")&&t.jsxs(Ft,{onClick:()=>j("active"),disabled:y,children:[t.jsx(lS,{className:"mr-2 h-4 w-4"}),n.status==="paused"?"Resume":"Activate"]}),t.jsx(Ft,{variant:"outline",asChild:!0,children:t.jsxs(Pt,{to:`/campaigns/${n.id}/edit`,children:[t.jsx(zg,{className:"mr-2 h-4 w-4"}),"Edit"]})}),t.jsxs(Ft,{variant:"outline",size:"icon",children:[t.jsx(eS,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"More"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[t.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:t.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:t.jsx(ft,{className:"h-6 w-6 text-white"})}),t.jsx("div",{className:"ml-5 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Budget"}),t.jsx("dd",{className:"flex items-baseline",children:t.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:b(n.budget)})})]})})]}),t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"text-sm text-gray-500",children:[t.jsx("span",{className:"font-medium text-gray-900",children:b(n.spent)})," spent",t.jsx("span",{className:"mx-1",children:""}),t.jsxs("span",{children:[b(n.budget-n.spent)," remaining"]})]}),t.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.min(100,P)}%`}})})]})]})}),t.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:t.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 bg-green-500 rounded-md p-3",children:t.jsx(zt,{className:"h-6 w-6 text-white"})}),t.jsx("div",{className:"ml-5 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Participants"}),t.jsx("dd",{className:"flex items-baseline",children:t.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:N(n.participants)})})]})})]}),t.jsx("div",{className:"mt-4",children:t.jsxs("div",{className:"text-sm text-gray-500",children:[t.jsx("span",{className:"font-medium text-gray-900",children:n.drops})," drops"]})})]})}),t.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:t.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 bg-purple-500 rounded-md p-3",children:t.jsx(Du,{className:"h-6 w-6 text-white"})}),t.jsx("div",{className:"ml-5 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Impressions"}),t.jsx("dd",{className:"flex items-baseline",children:t.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:N(n.impressions)})})]})})]}),t.jsx("div",{className:"mt-4",children:t.jsxs("div",{className:"text-sm text-gray-500",children:[t.jsx("span",{className:"font-medium text-gray-900",children:N(n.clicks)})," clicks",t.jsx("span",{className:"mx-1",children:""}),t.jsxs("span",{children:[n.ctr,"% CTR"]})]})})]})}),t.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:t.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 bg-yellow-500 rounded-md p-3",children:t.jsx(Kt,{className:"h-6 w-6 text-white"})}),t.jsx("div",{className:"ml-5 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Performance"}),t.jsxs("dd",{className:"flex items-baseline",children:[t.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:b(n.cpc)}),t.jsx("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:t.jsx("span",{children:(n.cpc<n.targetCpc?" ":" ")+Math.abs(n.cpc-n.targetCpc).toFixed(2)})})]})]})})]}),t.jsx("div",{className:"mt-4",children:t.jsx("div",{className:"text-sm text-gray-500",children:t.jsxs("span",{children:["Target: ",b(n.targetCpc)," CPC"]})})})]})})]}),t.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:t.jsxs(SP,{defaultValue:"overview",onValueChange:p,className:"w-full",children:[t.jsx("div",{className:"border-b border-gray-200",children:t.jsxs(CP,{className:"bg-transparent p-0 rounded-none",children:[t.jsx(gl,{value:"overview",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:shadow-none rounded-none",children:"Overview"}),t.jsx(gl,{value:"performance",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:shadow-none rounded-none",children:"Performance"}),t.jsxs(gl,{value:"content",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:shadow-none rounded-none",children:["Content (",s.length,")"]}),t.jsx(gl,{value:"settings",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:shadow-none rounded-none",children:"Settings"})]})}),t.jsxs("div",{className:"p-6",children:[t.jsx(Au,{value:"overview",children:t.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[t.jsxs("section",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Campaign Summary"}),t.jsx("p",{className:"text-gray-700",children:n.description||"No description provided."}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Objective"}),t.jsx("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:n.objective.replace("_"," ")})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Bid Strategy"}),t.jsx("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:n.bidStrategy==="lowest_cost"?"Lowest Cost":n.bidStrategy==="cost_cap"?"Cost Cap":"Bid Cap"})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Daily Budget"}),t.jsx("p",{className:"mt-1 text-sm text-gray-900",children:b(n.dailyBudget)})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Est. End Date"}),t.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E?S(E.toISOString()):"N/A"})]})]})]}),t.jsxs("section",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),t.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:t.jsxs("ul",{className:"divide-y divide-gray-200",children:[t.jsx("li",{className:"px-4 py-4 sm:px-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-sm font-medium text-indigo-600 truncate",children:"Campaign created"}),t.jsx("div",{className:"ml-2 flex-shrink-0",children:t.jsx("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:S(n.createdAt)})})]})}),t.jsx("li",{className:"px-4 py-4 sm:px-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-sm font-medium text-indigo-600 truncate",children:"Campaign started"}),t.jsx("div",{className:"ml-2 flex-shrink-0",children:t.jsx("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:S(n.startDate)})})]})}),n.updatedAt!==n.createdAt&&t.jsx("li",{className:"px-4 py-4 sm:px-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-sm font-medium text-indigo-600 truncate",children:"Campaign updated"}),t.jsx("div",{className:"ml-2 flex-shrink-0",children:t.jsx("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:S(n.updatedAt)})})]})})]})})]})]}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("section",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(Ft,{variant:"outline",className:"w-full justify-start",children:[t.jsx(Ac,{className:"mr-2 h-4 w-4"}),"Refresh Data"]}),t.jsxs(Ft,{variant:"outline",className:"w-full justify-start",children:[t.jsx(ft,{className:"mr-2 h-4 w-4"}),"Add Funds"]}),t.jsxs(Ft,{variant:"outline",className:"w-full justify-start",children:[t.jsx(Kr,{className:"mr-2 h-4 w-4"}),"Add Content"]}),t.jsxs(Ft,{variant:"outline",className:"w-full justify-start text-red-600 hover:text-red-600",children:[t.jsx(Cl,{className:"mr-2 h-4 w-4"}),"Delete Campaign"]})]})]}),t.jsxs("section",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Summary"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-1",children:[t.jsx("span",{children:"Spend"}),t.jsxs("span",{className:"font-medium",children:[b(n.spent)," / ",b(n.budget)]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.min(100,P)}%`}})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-1",children:[t.jsx("span",{children:"Daily Spend"}),t.jsxs("span",{className:"font-medium",children:[b(O)," / day"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:va("h-2 rounded-full",O<=n.dailyBudget*1.1?"bg-green-500":"bg-yellow-500"),style:{width:`${Math.min(100,O/n.dailyBudget*100)}%`}})}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:O>n.dailyBudget*1.1?"Spending faster than daily budget":O<n.dailyBudget*.9?"Spending slower than daily budget":"On track with daily budget"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-1",children:[t.jsx("span",{children:"CPC"}),t.jsxs("span",{className:"font-medium",children:[b(n.cpc),t.jsxs("span",{className:va("ml-1",n.cpc<=n.targetCpc*1.1?"text-green-600":"text-red-600"),children:["(",n.cpc<=n.targetCpc?"":"",Math.abs(n.cpc-n.targetCpc).toFixed(2),")"]})]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:va("h-2 rounded-full",n.cpc<=n.targetCpc*1.1?"bg-green-500":"bg-yellow-500"),style:{width:`${Math.min(100,n.cpc/(n.targetCpc*2)*100)}%`}})}),t.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Target: ",b(n.targetCpc)]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-1",children:[t.jsx("span",{children:"CTR"}),t.jsxs("span",{className:"font-medium",children:[n.ctr,"%",t.jsxs("span",{className:va("ml-1",n.ctr>=n.targetCtr*.9?"text-green-600":"text-red-600"),children:["(",n.ctr>=n.targetCtr?"":"",Math.abs(n.ctr-n.targetCtr).toFixed(1),"%)"]})]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:va("h-2 rounded-full",n.ctr>=n.targetCtr*.9?"bg-green-500":"bg-yellow-500"),style:{width:`${Math.min(100,n.ctr/(n.targetCtr*1.5)*100)}%`}})}),t.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Target: ",n.targetCtr,"%"]})]})]})]})]})]})}),t.jsx(Au,{value:"performance",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Over Time"}),t.jsx("div",{className:"bg-gray-50 p-4 rounded-lg h-64 flex items-center justify-center",children:t.jsx("p",{className:"text-gray-500",children:"Performance chart will be displayed here"})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Top Performing Content"}),t.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:t.jsx("ul",{className:"divide-y divide-gray-200",children:s.slice(0,3).map(T=>t.jsx("li",{className:"px-4 py-4 sm:px-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-indigo-600 truncate",children:T.title}),t.jsx("div",{className:"flex mt-1",children:t.jsxs("p",{className:"text-xs text-gray-500",children:[T.platform,"  ",T.creator]})})]}),t.jsx("div",{className:"ml-4 flex-shrink-0",children:t.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[T.ctr,"% CTR"]})})]})},T.id))})})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Performance by Platform"}),t.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:t.jsx("ul",{className:"divide-y divide-gray-200",children:Array.from(new Set(s.map(T=>T.platform))).map(T=>{const $=s.filter(F=>F.platform===T),D=$.reduce((F,M)=>F+M.spent,0),z=$.reduce((F,M)=>F+M.clicks,0),I=$.reduce((F,M)=>F+M.ctr,0)/$.length;return t.jsx("li",{className:"px-4 py-4 sm:px-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:T}),t.jsx("div",{className:"flex mt-1",children:t.jsxs("p",{className:"text-xs text-gray-500",children:[$.length," ",$.length===1?"item":"items"]})})]}),t.jsxs("div",{className:"ml-4 flex-shrink-0",children:[t.jsx("p",{className:"text-sm text-gray-900",children:b(D)}),t.jsxs("p",{className:"text-xs text-gray-500",children:[z," clicks  ",I.toFixed(1),"% CTR"]})]})]})},T)})})})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Recommendations"}),t.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:t.jsxs("ul",{className:"divide-y divide-gray-200",children:[t.jsx("li",{className:"px-4 py-4 sm:px-6",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex-shrink-0 pt-0.5",children:t.jsx("div",{className:"flex items-center justify-center h-6 w-6 rounded-full bg-blue-100 text-blue-600",children:t.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})})}),t.jsx("div",{className:"ml-3 flex-1",children:t.jsx("p",{className:"text-sm text-gray-700",children:"Your campaign is performing well! Consider increasing your daily budget to reach more people."})})]})}),t.jsx("li",{className:"px-4 py-4 sm:px-6",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex-shrink-0 pt-0.5",children:t.jsx("div",{className:"flex items-center justify-center h-6 w-6 rounded-full bg-blue-100 text-blue-600",children:t.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})})}),t.jsx("div",{className:"ml-3 flex-1",children:t.jsx("p",{className:"text-sm text-gray-700",children:"Try A/B testing different ad creatives to improve your click-through rate."})})]})})]})})]})]})}),t.jsxs(Au,{value:"content",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Campaign Content"}),t.jsxs(Ft,{children:[t.jsx(Kr,{className:"mr-2 h-4 w-4"}),"Add Content"]})]}),t.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:t.jsxs("ul",{className:"divide-y divide-gray-200",children:[s.map(T=>t.jsx("li",{className:"hover:bg-gray-50",children:t.jsx(Pt,{to:`/content/${T.id}`,className:"block",children:t.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("p",{className:"text-lg font-medium text-indigo-600 truncate",children:T.title}),t.jsx("div",{className:"ml-2",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${T.status==="live"?"bg-green-100 text-green-800":T.status==="pending"?"bg-yellow-100 text-yellow-800":T.status==="approved"?"bg-blue-100 text-blue-800":T.status==="rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:T.status.charAt(0).toUpperCase()+T.status.slice(1)})})]}),t.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:t.jsxs("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:[b(T.spent)," of ",b(T.budget)]})})]}),t.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[t.jsx("div",{className:"sm:flex",children:t.jsxs("p",{className:"flex items-center text-sm text-gray-500",children:[t.jsx("span",{className:"font-medium text-gray-900",children:T.platform}),t.jsx("span",{className:"mx-1",children:""}),t.jsxs("span",{children:["by @",T.creator]})]})}),t.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[t.jsx(Du,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400"}),t.jsxs("p",{children:[N(T.impressions)," impressions"]}),t.jsx("span",{className:"mx-1",children:""}),t.jsxs("p",{children:[N(T.clicks)," clicks"]}),t.jsx("span",{className:"mx-1",children:""}),t.jsxs("p",{children:[T.ctr,"% CTR"]})]})]}),t.jsx("div",{className:"mt-2",children:t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.min(100,T.spent/T.budget*100)}%`}})})})]})})},T.id)),s.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Du,{className:"mx-auto h-12 w-12 text-gray-400"}),t.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No content added yet"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding content to your campaign."}),t.jsx("div",{className:"mt-6",children:t.jsxs(Ft,{children:[t.jsx(Kr,{className:"-ml-1 mr-2 h-5 w-5"}),"Add Content"]})})]})]})})]}),t.jsx(Au,{value:"settings",children:t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Campaign Settings"}),t.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[t.jsx("div",{className:"px-4 py-5 sm:px-6",children:t.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Basic Information"})}),t.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:t.jsxs("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2",children:[t.jsxs("div",{className:"sm:col-span-1",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Campaign Name"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:n.name})]}),t.jsxs("div",{className:"sm:col-span-1",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),t.jsx("dd",{className:"mt-1",children:t.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Pk[n.status]}`,children:n.status.charAt(0).toUpperCase()+n.status.slice(1)})})]}),t.jsxs("div",{className:"sm:col-span-1",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Start Date"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:S(n.startDate)})]}),t.jsxs("div",{className:"sm:col-span-1",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"End Date"}),t.jsxs("dd",{className:"mt-1 text-sm text-gray-900",children:[n.endDate?S(n.endDate):"No end date",n.endDate&&_!==null&&t.jsxs("span",{className:"ml-2 text-gray-500",children:["(",_>0?`${_} days left`:"Ended",")"]})]})]}),t.jsxs("div",{className:"sm:col-span-2",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Description"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:n.description||"No description provided."})]})]})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Budget & Bidding"}),t.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[t.jsx("div",{className:"px-4 py-5 sm:px-6",children:t.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Budget Settings"})}),t.jsxs("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:[t.jsxs("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2",children:[t.jsxs("div",{className:"sm:col-span-1",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Total Budget"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:b(n.budget)})]}),t.jsxs("div",{className:"sm:col-span-1",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Daily Budget"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:b(n.dailyBudget)})]}),t.jsxs("div",{className:"sm:col-span-1",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Amount Spent"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:b(n.spent)})]}),t.jsxs("div",{className:"sm:col-span-1",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Remaining Budget"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:b(n.budget-n.spent)})]})]}),t.jsxs("div",{className:"mt-6",children:[t.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-1",children:[t.jsx("span",{children:"Budget Spent"}),t.jsxs("span",{children:[Math.round(P),"%"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.min(100,P)}%`}})})]})]})]}),t.jsxs("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg",children:[t.jsx("div",{className:"px-4 py-5 sm:px-6",children:t.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Bidding Strategy"})}),t.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:t.jsxs("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2",children:[t.jsxs("div",{className:"sm:col-span-1",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Bid Strategy"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900 capitalize",children:n.bidStrategy==="lowest_cost"?"Lowest Cost":n.bidStrategy==="cost_cap"?"Cost Cap":"Bid Cap"})]}),n.bidStrategy!=="lowest_cost"&&t.jsxs("div",{className:"sm:col-span-1",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:n.bidStrategy==="cost_cap"?"Cost Cap":"Bid Cap"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:b(n.bidAmount)})]}),t.jsxs("div",{className:"sm:col-span-1",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Target CPC"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:b(n.targetCpc)})]}),t.jsxs("div",{className:"sm:col-span-1",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Target CTR"}),t.jsxs("dd",{className:"mt-1 text-sm text-gray-900",children:[n.targetCtr,"%"]})]})]})})]})]}),t.jsx("div",{className:"pt-5",children:t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx(Ft,{variant:"outline",type:"button",onClick:()=>r(-1),children:"Cancel"}),t.jsxs(Ft,{type:"button",variant:"destructive",children:[t.jsx(Cl,{className:"mr-2 h-4 w-4"}),"Delete Campaign"]}),t.jsxs(Ft,{type:"submit",children:[t.jsx(Rg,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})})]})})]})]})})]})}const As=x.forwardRef(({className:e="",...r},n)=>t.jsx("input",{ref:n,className:`block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder-gray-400 focus:border-orange-500 focus:outline-none focus:ring-1 focus:ring-orange-500 disabled:cursor-not-allowed disabled:bg-gray-100 disabled:text-gray-500 ${e}`.trim(),...r}));As.displayName="Input";const TP=x.forwardRef(({className:e="",...r},n)=>t.jsx("textarea",{ref:n,className:`block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:cursor-not-allowed disabled:bg-gray-100 ${e}`,...r}));TP.displayName="Textarea";const MP=x.createContext(null),$f=()=>{const e=x.useContext(MP);if(!e)throw new Error("Select components must be used within a Select");return e};function f0({value:e,defaultValue:r,onValueChange:n,children:a}){const[s,i]=x.useState(!1),[o,d]=x.useState(r),[u,h]=x.useState([]),m=e??o,p=x.useCallback(v=>{d(v),n==null||n(v)},[n]),y=x.useCallback(v=>(h(j=>{const b=j.findIndex(N=>N.value===v.value);if(b>=0){const N=[...j];return N[b]=v,N}return[...j,v]}),()=>{h(j=>j.filter(b=>b.value!==v.value))}),[]);return t.jsx(MP.Provider,{value:{value:m,open:s,setOpen:i,onValueChange:p,registerItem:y,items:u},children:t.jsx("div",{className:"relative inline-block w-full",children:a})})}const Uu=x.forwardRef(({className:e="",children:r,...n},a)=>{const{setOpen:s,open:i}=$f();return t.jsxs("button",{type:"button",ref:a,className:`flex w-full items-center justify-between rounded-md border border-gray-300 bg-white px-3 py-2 text-left text-sm text-gray-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 ${e}`,"aria-haspopup":"listbox","aria-expanded":i,onClick:()=>s(!i),...n,children:[r,t.jsx("svg",{className:"ml-2 h-4 w-4 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.7a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.25 8.29a.75.75 0 01-.02-1.08z",clipRule:"evenodd"})})]})});Uu.displayName="SelectTrigger";function h0({placeholder:e}){const{value:r,items:n}=$f(),a=n.find(s=>s.value===r);return t.jsx("span",{className:"flex-1 truncate text-sm text-gray-900",children:a?a.label:e??"Select an option"})}function p0({className:e="",children:r,...n}){const{open:a}=$f();return a?t.jsx("div",{role:"listbox",className:`absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md border border-gray-200 bg-white py-1 shadow-lg focus:outline-none ${e}`,...n,children:r}):null}const Wu=x.forwardRef(({className:e="",children:r,value:n,...a},s)=>{const{value:i,onValueChange:o,setOpen:d,registerItem:u}=$f();x.useEffect(()=>u({value:n,label:r}),[r,u,n]);const h=i===n,m=()=>{o(n),d(!1)};return t.jsx("div",{ref:s,role:"option","aria-selected":h,className:`flex cursor-pointer items-center px-3 py-2 text-sm text-gray-900 hover:bg-gray-100 ${h?"bg-gray-100 font-medium":""} ${e}`,onClick:m,onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),m())},tabIndex:0,...a,children:r})});Wu.displayName="SelectItem";function Ek({selected:e,onChange:r,minDate:n,maxDate:a,className:s=""}){const i=d=>{if(!d)return"";const u=d.getFullYear(),h=`${d.getMonth()+1}`.padStart(2,"0"),m=`${d.getDate()}`.padStart(2,"0");return`${u}-${h}-${m}`},o=d=>{if(!d)return null;const[u,h,m]=d.split("-").map(Number);return new Date(u,h-1,m)};return t.jsx("input",{type:"date",className:`block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:cursor-not-allowed disabled:bg-gray-100 ${s}`,value:i(e),onChange:d=>r(o(d.target.value)),min:i(n??null),max:i(a??null)})}const Ok="https://promorang-d7f7foivy-andre-millwoods-projects.vercel.app";function rJ(e){if(typeof e=="string"&&(e.startsWith("http://")||e.startsWith("https://")))return e;const r=e.toString();return r.startsWith(Ok)?r:`${Ok}${r.startsWith("/")?"":"/"}${r}`}async function x0(e,r={}){const{skipAuth:n,headers:a,...s}=r,i=typeof window<"u"&&!n?localStorage.getItem("authToken"):null,o=new Headers(a);i&&!o.has("Authorization")&&o.set("Authorization",`Bearer ${i}`);const d=rJ(e);return fetch(d,{...s,headers:o})}function nJ(){const{user:e}=Gr(),[r,n]=x.useState(0),[a,s]=x.useState(null),[i,o]=x.useState(!1),[d,u]=x.useState(null);return x.useEffect(()=>{if(!e)return;(async()=>{try{const y=await x0("/api/users/me");if(!y.ok)throw new Error("Failed to load user");const v=await y.json();n(v.moves_balance||v.move_balance||0)}catch(y){console.error("Failed to fetch move balance:",y),u("Failed to load move balance")}})()},[e]),{moveBalance:r,moveCost:a,loading:i,error:d,calculateMoveCost:async p=>{o(!0),u(null);try{const y=await x0("/api/campaigns/calculate-move-cost",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!y.ok)throw new Error("Failed to calculate move cost");const v=await y.json();return s(v),v}catch(y){return console.error("Failed to calculate move cost:",y),u("Failed to calculate move cost"),null}finally{o(!1)}},hasEnoughMoves:p=>r>=p,refreshBalance:()=>{e&&x0("/api/users/me").then(async p=>{if(!p.ok)throw new Error("Failed to refresh balance");const y=await p.json();n(y.moves_balance||y.move_balance||0)}).catch(console.error)}}}function aJ(){const e=ar(),[r,n]=x.useState(!1),[a,s]=x.useState({name:"",objective:"engagement",description:"",startDate:new Date,endDate:null,budget:1e3,dailyBudget:100,bidStrategy:"lowest_cost",bidAmount:5,targetCtr:2,targetCpc:.5,campaignType:"standard",audienceSize:1e3,locations:[],interests:[]}),{moveBalance:i,moveCost:o,calculateMoveCost:d}=nJ(),[u,h]=x.useState(null),[m,p]=x.useState(!1);x.useEffect(()=>{(async()=>{const P=await d({campaignType:a.campaignType,duration:a.endDate?Math.ceil((a.endDate.getTime()-a.startDate.getTime())/864e5):7,audienceSize:a.audienceSize,locations:a.locations,interests:a.interests,isPremium:a.campaignType==="premium"});P&&(h(P.totalCost),p(i<P.totalCost))})()},[a,d,i]);const y=_=>{const{name:P,value:O}=_.target;s(E=>({...E,[P]:P==="name"||P==="description"?O:Number(O)}))},v=(_,P)=>{s(O=>({...O,[_]:P}))},j=(_,P)=>{s(O=>({...O,[_]:P}))},b=async _=>{if(_.preventDefault(),m){alert("You do not have enough moves to create this campaign. Please reduce the scope or purchase more moves.");return}if(!u){alert("Calculating move cost. Please wait...");return}n(!0);try{const P=await fetch("/api/campaigns",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({...a,userId:localStorage.getItem("userId"),duration:a.endDate?Math.ceil((a.endDate.getTime()-a.startDate.getTime())/864e5):7})});if(!P.ok)throw new Error("Failed to create campaign");const O=await P.json();alert(`Campaign created successfully! ${O.movesSpent} moves deducted from your balance.`),e("/campaigns")}catch(P){console.error("Failed to create campaign:",P),alert(`Failed to create campaign: ${P.message}`)}finally{n(!1)}},N=[{value:"awareness",label:"Brand Awareness"},{value:"engagement",label:"Engagement"},{value:"conversions",label:"Conversions"},{value:"traffic",label:"Traffic"},{value:"app_installs",label:"App Installs"},{value:"video_views",label:"Video Views"}],S=[{value:"lowest_cost",label:"Lowest Cost"},{value:"cost_cap",label:"Cost Cap"},{value:"bid_cap",label:"Bid Cap"}],C=[{value:"proof",label:"Proof Drop",description:"Test with a small audience",cost:"10 moves"},{value:"standard",label:"Standard Campaign",description:"Reach a larger audience",cost:"50 moves"},{value:"premium",label:"Premium Campaign",description:"Maximum reach and features",cost:"100 moves"}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(Ft,{variant:"outline",size:"icon",onClick:()=>e(-1),className:"h-8 w-8",children:[t.jsx(ia,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Back"})]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Campaign"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Set up a new marketing campaign to promote your brand"})]})]}),t.jsx("form",{onSubmit:b,className:"space-y-8",children:t.jsxs("div",{className:"space-y-8",children:[u!==null&&t.jsxs("div",{className:va("p-4 rounded-lg border",m?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"),children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(mr,{className:va("h-5 w-5",m?"text-red-500":"text-blue-500")}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:m?"Not enough moves":"Move cost"}),t.jsxs("p",{className:"text-sm text-gray-600",children:[u," moves required (you have ",i,")"]})]})]}),m?t.jsx(Ft,{variant:"outline",size:"sm",onClick:()=>e("/account/billing"),children:"Get More Moves"}):t.jsx("div",{className:"text-sm font-medium text-green-600",children:"Sufficient balance"})]}),o&&t.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 text-xs text-gray-500",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx("div",{children:"Base cost:"}),t.jsxs("div",{className:"text-right",children:[o.baseCost," moves"]}),o.durationModifier>0&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:["Duration (",o.durationModifier.toFixed(1),"x):"]}),t.jsxs("div",{className:"text-right",children:["+",Math.round(o.baseCost*o.durationModifier)," moves"]})]}),o.audienceModifier>0&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:["Audience size (",o.audienceModifier.toFixed(1),"x):"]}),t.jsxs("div",{className:"text-right",children:["+",Math.round(o.baseCost*o.audienceModifier)," moves"]})]}),o.premiumModifier>0&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:["Premium features (",o.premiumModifier.toFixed(1),"x):"]}),t.jsxs("div",{className:"text-right",children:["+",Math.round(o.baseCost*o.premiumModifier)," moves"]})]}),t.jsx("div",{className:"font-medium",children:"Total cost:"}),t.jsxs("div",{className:"text-right font-medium",children:[o.totalCost," moves"]})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium",children:"Campaign Details"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Basic information about your campaign"})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"campaignType",className:"block text-sm font-medium text-gray-700",children:"Campaign Type"}),t.jsxs(f0,{value:a.campaignType,onValueChange:_=>v("campaignType",_),children:[t.jsx(Uu,{children:t.jsx(h0,{placeholder:"Select campaign type"})}),t.jsx(p0,{children:C.map(_=>t.jsx(Wu,{value:_.value,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:_.label}),t.jsx("div",{className:"text-xs text-gray-500",children:_.description})]}),t.jsx("div",{className:"text-sm text-gray-500",children:_.cost})]})},_.value))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"audienceSize",className:"block text-sm font-medium text-gray-700",children:"Target Audience Size"}),t.jsx(As,{type:"number",name:"audienceSize",id:"audienceSize",min:"100",step:"100",value:a.audienceSize,onChange:y,required:!0}),t.jsx("p",{className:"text-xs text-gray-500",children:"Larger audiences may require more moves"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Campaign Name"}),t.jsx(As,{type:"text",name:"name",id:"name",value:a.name,onChange:y,required:!0})]}),t.jsxs("div",{className:"sm:col-span-4",children:[t.jsx("label",{htmlFor:"objective",className:"block text-sm font-medium text-gray-700",children:"Campaign Objective"}),t.jsx("div",{className:"mt-1",children:t.jsxs(f0,{value:a.objective,onValueChange:_=>v("objective",_),children:[t.jsx(Uu,{className:"w-full",children:t.jsx(h0,{placeholder:"Select an objective"})}),t.jsx(p0,{children:N.map(_=>t.jsx(Wu,{value:_.value,children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Kt,{className:"mr-2 h-4 w-4"}),_.label]})},_.value))})]})})]}),t.jsxs("div",{className:"sm:col-span-6",children:[t.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description (Optional)"}),t.jsx("div",{className:"mt-1",children:t.jsx(TP,{id:"description",name:"description",rows:3,value:a.description,onChange:y,className:"w-full",placeholder:"Describe the purpose of this campaign..."})})]})]})]}),t.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:t.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[t.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Schedule & Budget"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"When and how much you want to spend"}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[t.jsxs("div",{className:"sm:col-span-3",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Date"}),t.jsx("div",{className:"mt-1",children:t.jsx(Ek,{selected:a.startDate,onChange:_=>j("startDate",_),minDate:new Date,className:"w-full"})})]}),t.jsxs("div",{className:"sm:col-span-3",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Date (Optional)"}),t.jsx("div",{className:"mt-1",children:t.jsx(Ek,{selected:a.endDate,onChange:_=>j("endDate",_),minDate:a.startDate,className:"w-full",isClearable:!0,placeholderText:"No end date"})})]}),t.jsxs("div",{className:"sm:col-span-3",children:[t.jsx("label",{htmlFor:"budget",className:"block text-sm font-medium text-gray-700",children:"Total Budget ($)"}),t.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(ft,{className:"h-5 w-5 text-gray-400"})}),t.jsx(As,{type:"number",name:"budget",id:"budget",value:a.budget,onChange:y,min:"1",step:"0.01",className:"pl-10",required:!0})]})]}),t.jsxs("div",{className:"sm:col-span-3",children:[t.jsx("label",{htmlFor:"dailyBudget",className:"block text-sm font-medium text-gray-700",children:"Daily Budget ($)"}),t.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(ft,{className:"h-5 w-5 text-gray-400"})}),t.jsx(As,{type:"number",name:"dailyBudget",id:"dailyBudget",value:a.dailyBudget,onChange:y,min:"1",step:"0.01",className:"pl-10",required:!0})]}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:a.endDate?`~${Math.ceil(a.budget/a.dailyBudget)} days of runtime`:"Will run until budget is spent"})]})]})]})}),t.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:t.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[t.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Bidding & Optimization"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"How you want to bid and optimize your campaign"}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[t.jsxs("div",{className:"sm:col-span-3",children:[t.jsx("label",{htmlFor:"bidStrategy",className:"block text-sm font-medium text-gray-700",children:"Bid Strategy"}),t.jsx("div",{className:"mt-1",children:t.jsxs(f0,{value:a.bidStrategy,onValueChange:_=>v("bidStrategy",_),children:[t.jsx(Uu,{className:"w-full",children:t.jsx(h0,{placeholder:"Select a bid strategy"})}),t.jsx(p0,{children:S.map(_=>t.jsx(Wu,{value:_.value,children:_.label},_.value))})]})}),t.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[a.bidStrategy==="lowest_cost"&&"Automatically get the most results for your budget",a.bidStrategy==="cost_cap"&&"Control your average cost per result",a.bidStrategy==="bid_cap"&&"Set a maximum bid for each result"]})]}),a.bidStrategy!=="lowest_cost"&&t.jsxs("div",{className:"sm:col-span-3",children:[t.jsxs("label",{htmlFor:"bidAmount",className:"block text-sm font-medium text-gray-700",children:[a.bidStrategy==="cost_cap"?"Cost Cap":"Bid Cap"," ($)"]}),t.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(ft,{className:"h-5 w-5 text-gray-400"})}),t.jsx(As,{type:"number",name:"bidAmount",id:"bidAmount",value:a.bidAmount,onChange:y,min:"0.01",step:"0.01",className:"pl-10",required:!0})]})]}),t.jsxs("div",{className:"sm:col-span-3",children:[t.jsx("label",{htmlFor:"targetCtr",className:"block text-sm font-medium text-gray-700",children:"Target CTR (%)"}),t.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(HT,{className:"h-5 w-5 text-gray-400"})}),t.jsx(As,{type:"number",name:"targetCtr",id:"targetCtr",value:a.targetCtr,onChange:y,min:"0.1",max:"100",step:"0.1",className:"pl-10"})]})]}),t.jsxs("div",{className:"sm:col-span-3",children:[t.jsx("label",{htmlFor:"targetCpc",className:"block text-sm font-medium text-gray-700",children:"Target CPC ($)"}),t.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(ft,{className:"h-5 w-5 text-gray-400"})}),t.jsx(As,{type:"number",name:"targetCpc",id:"targetCpc",value:a.targetCpc,onChange:y,min:"0.01",step:"0.01",className:"pl-10"})]})]})]})]})}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx(Ft,{type:"button",variant:"outline",onClick:()=>e(-1),disabled:r,children:"Cancel"}),t.jsx(Ft,{type:"submit",disabled:r||m,className:va("relative overflow-hidden",m&&"opacity-70 cursor-not-allowed"),children:r?"Creating...":m?"Not Enough Moves":t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"relative z-10",children:["Create Campaign (",u," moves)"]}),t.jsx("span",{className:"absolute inset-y-0 left-0 bg-blue-600",style:{width:`${Math.min(100,i/(u||1)*100)}%`,transition:"width 0.3s ease"}})]})})]})]})})]})}console.log(" App.tsx: Starting to load...");function Er({children:e}){const{user:r,isPending:n}=Gr(),a=an();return n?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):r?t.jsx(t.Fragment,{children:e}):t.jsx(Bk,{to:"/auth",state:{from:a},replace:!0})}function g0({children:e}){var a,s;const{user:r}=Gr(),n=an();if(r){const i=((s=(a=n.state)==null?void 0:a.from)==null?void 0:s.pathname)||"/dashboard";return t.jsx(Bk,{to:i,replace:!0})}return t.jsx(t.Fragment,{children:e})}function sJ(){return t.jsx(WM,{children:t.jsx(eA,{children:t.jsx(LM,{children:t.jsxs(OO,{children:[t.jsx(Wt,{path:"/auth",element:t.jsx(g0,{children:t.jsx(HM,{})})}),t.jsx(Wt,{path:"/auth/callback",element:t.jsx(g0,{children:t.jsx(KM,{})})}),t.jsx(Wt,{path:"/",element:t.jsx(g0,{children:t.jsx(qM,{})})}),t.jsx(Wt,{path:"/dashboard",element:t.jsx(Er,{children:t.jsx(Pr,{children:t.jsx(oN,{})})})}),t.jsx(Wt,{path:"/leaderboard",element:t.jsx(Er,{children:t.jsx(Pr,{children:t.jsx(AM,{})})})}),t.jsx(Wt,{path:"/earn",element:t.jsx(Er,{children:t.jsx(Pr,{children:t.jsx(ED,{})})})}),t.jsx(Wt,{path:"/create",element:t.jsx(Er,{children:t.jsx(Pr,{children:t.jsx($D,{})})})}),t.jsx(Wt,{path:"/invest",element:t.jsx(Er,{children:t.jsx(Pr,{children:t.jsx(LD,{})})})}),t.jsx(Wt,{path:"/wallet",element:t.jsx(Er,{children:t.jsx(Pr,{children:t.jsx(vZ,{})})})}),t.jsx(Wt,{path:"/growth-hub",element:t.jsx(Er,{children:t.jsx(Pr,{children:t.jsx(kZ,{})})})}),t.jsx(Wt,{path:"/profile/:username",element:t.jsx(Er,{children:t.jsx(Pr,{children:t.jsx(MZ,{})})})}),t.jsx(Wt,{path:"/content/:contentId",element:t.jsx(Er,{children:t.jsx(Pr,{children:t.jsx(zZ,{})})})}),t.jsx(Wt,{path:"/holding/:holdingId",element:t.jsx(Er,{children:t.jsx(Pr,{children:t.jsx(BZ,{})})})}),t.jsx(Wt,{path:"/prediction/:predictionId",element:t.jsx(Er,{children:t.jsx(Pr,{children:t.jsx(UZ,{})})})}),t.jsx(Wt,{path:"/task/:taskId",element:t.jsx(Er,{children:t.jsx(Pr,{children:t.jsx(qZ,{})})})}),t.jsx(Wt,{path:"/advertiser",element:t.jsx(Er,{children:t.jsx(Pr,{children:t.jsx(VZ,{})})})}),t.jsx(Wt,{path:"/advertiser/onboarding",element:t.jsx(Er,{children:t.jsx(Pr,{children:t.jsx(GZ,{})})})}),t.jsx(Wt,{path:"/campaigns/new",element:t.jsx(Er,{children:t.jsx(Pr,{children:t.jsx(aJ,{})})})}),t.jsx(Wt,{path:"/campaigns/:campaignId",element:t.jsx(Er,{children:t.jsx(Pr,{children:t.jsx(tJ,{})})})}),t.jsx(Wt,{path:"/home",element:t.jsx(Er,{children:t.jsx(Pr,{children:t.jsx(oN,{})})})}),t.jsx(Wt,{path:"*",element:t.jsx(OM,{message:"Page not found"})})]})})})})}console.log(" main.tsx: Starting application...");zE.createRoot(document.getElementById("root")).render(t.jsx(x.StrictMode,{children:t.jsx(sJ,{})}));
